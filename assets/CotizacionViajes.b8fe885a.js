import{a as R,aJ as Ee,aK as $t,aL as al,c as ja,aM as tl,E as eo,F as ao,aN as ol,r as N,aO as ll,w as na,T as bt,h as P,aP as Ra,d as Ga,g as Ja,aQ as nl,af as le,aR as to,aS as oo,aT as sl,aA as ot,aU as lo,n as il,aV as no,aW as so,aX as rl,aY as cl,k as Ct,a6 as fa,z as io,O as dl,aZ as xt,a_ as ul,P as ml,a$ as wt,aq as hl,Q as fl,b0 as gl,b1 as pl,R as vl,b2 as bl,o as yt,b3 as At,B as Pt,b4 as yl,D as _t,v as qt,j as Vl,b5 as Cl,C as ro,an as co,y as Dt,a4 as Ot,a3 as Nl,b6 as Tl,b7 as Sl,b8 as El,b9 as xl,ba as wl,ad as Al,ab as Pl,ac as dt,a0 as ae,a1 as ut,a2 as F,as as _l,ax as mt,aw as se,aj as d,aa as Ya,a5 as m,au as _a,at as ya,N as oa,bb as za,av as O,bc as Va,az as ce,bd as la,a7 as Le,aD as qa,aE as Da,ay as ql,be as Dl,aB as It,aG as Ol,a9 as Il,aC as kl}from"./index.a76570e1.js";import{E as kt,n as Ca}from"./PDFButton.c0f7b823.js";import{a as te}from"./axios.37d53be1.js";function Ml(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return e.hasOwnProperty(a)},clearCache(a){a!==void 0?delete e[a]:e={}}}}const wa=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function zl(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),jl(Nt(e,a,o))}function Mt(e,a,o){return mo(Rl(e,a,o))}function Ll(e){return Fl(e)===0}function lt(e,a){return a<=6?31:a<=11||Ll(e)?30:29}function Fl(e){const a=wa.length;let o=wa[0],t,n,s,l,u;if(e<o||e>=wa[a-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<a&&(t=wa[u],n=t-o,!(e<t));u+=1)o=t;return l=e-o,n-l<6&&(l=l-n+_e(n+4,33)*33),s=sa(sa(l+1,33)-1,4),s===-1&&(s=4),s}function uo(e,a){const o=wa.length,t=e+621;let n=-14,s=wa[0],l,u,f,E,b;if(e<s||e>=wa[o-1])throw new Error("Invalid Jalaali year "+e);for(b=1;b<o&&(l=wa[b],u=l-s,!(e<l));b+=1)n=n+_e(u,33)*8+_e(sa(u,33),4),s=l;E=e-s,n=n+_e(E,33)*8+_e(sa(E,33)+3,4),sa(u,33)===4&&u-E===4&&(n+=1);const x=_e(t,4)-_e((_e(t,100)+1)*3,4)-150,X=20+n-x;return a||(u-E<6&&(E=E-u+_e(u+4,33)*33),f=sa(sa(E+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:t,march:X}}function Rl(e,a,o){const t=uo(e,!0);return Nt(t.gy,3,t.march)+(a-1)*31-_e(a,7)*(a-7)+o-1}function jl(e){const a=mo(e).gy;let o=a-621,t,n,s;const l=uo(o,!1),u=Nt(a,3,l.march);if(s=e-u,s>=0){if(s<=185)return n=1+_e(s,31),t=sa(s,31)+1,{jy:o,jm:n,jd:t};s-=186}else o-=1,s+=179,l.leap===1&&(s+=1);return n=7+_e(s,30),t=sa(s,30)+1,{jy:o,jm:n,jd:t}}function Nt(e,a,o){let t=_e((e+_e(a-8,6)+100100)*1461,4)+_e(153*sa(a+9,12)+2,5)+o-34840408;return t=t-_e(_e(e+100100+_e(a-8,6),100)*3,4)+752,t}function mo(e){let a=4*e+139361631;a=a+_e(_e(4*e+183187720,146097)*3,4)*4-3908;const o=_e(sa(a,1461),4)*5+308,t=_e(sa(o,153),5)+1,n=sa(_e(o,153),12)+1;return{gy:_e(a,1461)-100100+_e(8-n,6),gm:n,gd:t}}function _e(e,a){return~~(e/a)}function sa(e,a){return e-~~(e/a)*a}const Hl=["gregorian","persian"],Ul={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Hl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Bl=["update:modelValue"];function Na(e){return e.year+"/"+Ee(e.month)+"/"+Ee(e.day)}function Yl(e,a){const o=R(()=>e.disable!==!0&&e.readonly!==!0),t=R(()=>o.value===!0?0:-1),n=R(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function s(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function l(u){const f=new Date,E=u===!0?null:0;if(e.calendar==="persian"){const b=zl(f);return{year:b.jy,month:b.jm,day:b.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:E,minute:E,second:E,millisecond:E}}return{editable:o,tabindex:t,headerClass:n,getLocale:s,getCurrentDate:l}}const ho=864e5,Wl=36e5,Vt=6e4,fo="YYYY-MM-DDTHH:mm:ss.SSSZ",Ql=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Xl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,ht={};function Gl(e,a){const o="("+a.days.join("|")+")",t=e+o;if(ht[t]!==void 0)return ht[t];const n="("+a.daysShort.join("|")+")",s="("+a.months.join("|")+")",l="("+a.monthsShort.join("|")+")",u={};let f=0;const E=e.replace(Xl,x=>{switch(f++,x){case"YY":return u.YY=f,"(-?\\d{1,2})";case"YYYY":return u.YYYY=f,"(-?\\d{1,4})";case"M":return u.M=f,"(\\d{1,2})";case"MM":return u.M=f,"(\\d{2})";case"MMM":return u.MMM=f,l;case"MMMM":return u.MMMM=f,s;case"D":return u.D=f,"(\\d{1,2})";case"Do":return u.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=f,"(\\d{2})";case"H":return u.H=f,"(\\d{1,2})";case"HH":return u.H=f,"(\\d{2})";case"h":return u.h=f,"(\\d{1,2})";case"hh":return u.h=f,"(\\d{2})";case"m":return u.m=f,"(\\d{1,2})";case"mm":return u.m=f,"(\\d{2})";case"s":return u.s=f,"(\\d{1,2})";case"ss":return u.s=f,"(\\d{2})";case"S":return u.S=f,"(\\d{1})";case"SS":return u.S=f,"(\\d{2})";case"SSS":return u.S=f,"(\\d{3})";case"A":return u.A=f,"(AM|PM)";case"a":return u.a=f,"(am|pm)";case"aa":return u.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=f,"(-?\\d+)";case"x":return u.x=f,"(-?\\d{4,})";default:return f--,x[0]==="["&&(x=x.substring(1,x.length-1)),x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),b={map:u,regex:new RegExp("^"+E)};return ht[t]=b,b}function go(e,a){return e!==void 0?e:a!==void 0?a.date:al.date}function zt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.floor(t/60),s=t%60;return o+Ee(n)+a+Ee(s)}function Jl(e,a,o,t,n){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(s,n),e==null||e===""||typeof e!="string")return s;a===void 0&&(a=fo);const l=go(o,$t.props),u=l.months,f=l.monthsShort,{regex:E,map:b}=Gl(a,l),x=e.match(E);if(x===null)return s;let X="";if(b.X!==void 0||b.x!==void 0){const k=parseInt(x[b.X!==void 0?b.X:b.x],10);if(isNaN(k)===!0||k<0)return s;const v=new Date(k*(b.X!==void 0?1e3:1));s.year=v.getFullYear(),s.month=v.getMonth()+1,s.day=v.getDate(),s.hour=v.getHours(),s.minute=v.getMinutes(),s.second=v.getSeconds(),s.millisecond=v.getMilliseconds()}else{if(b.YYYY!==void 0)s.year=parseInt(x[b.YYYY],10);else if(b.YY!==void 0){const k=parseInt(x[b.YY],10);s.year=k<0?k:2e3+k}if(b.M!==void 0){if(s.month=parseInt(x[b.M],10),s.month<1||s.month>12)return s}else b.MMM!==void 0?s.month=f.indexOf(x[b.MMM])+1:b.MMMM!==void 0&&(s.month=u.indexOf(x[b.MMMM])+1);if(b.D!==void 0){if(s.day=parseInt(x[b.D],10),s.year===null||s.month===null||s.day<1)return s;const k=t!=="persian"?new Date(s.year,s.month,0).getDate():lt(s.year,s.month);if(s.day>k)return s}b.H!==void 0?s.hour=parseInt(x[b.H],10)%24:b.h!==void 0&&(s.hour=parseInt(x[b.h],10)%12,(b.A&&x[b.A]==="PM"||b.a&&x[b.a]==="pm"||b.aa&&x[b.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),b.m!==void 0&&(s.minute=parseInt(x[b.m],10)%60),b.s!==void 0&&(s.second=parseInt(x[b.s],10)%60),b.S!==void 0&&(s.millisecond=parseInt(x[b.S],10)*10**(3-x[b.S].length)),(b.Z!==void 0||b.ZZ!==void 0)&&(X=b.Z!==void 0?x[b.Z].replace(":",""):x[b.ZZ],s.timezoneOffset=(X[0]==="+"?-1:1)*(60*X.slice(1,3)+1*X.slice(3,5)))}return s.dateHash=Ee(s.year,6)+"/"+Ee(s.month)+"/"+Ee(s.day),s.timeHash=Ee(s.hour)+":"+Ee(s.minute)+":"+Ee(s.second)+X,s}function Lt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const t=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-t);const n=(a-o)/(ho*7);return 1+Math.floor(n)}function va(e,a,o){const t=new Date(e),n=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":t[`${n}Month`](0);case"month":case"months":t[`${n}Date`](1);case"day":case"days":case"date":t[`${n}Hours`](0);case"hour":case"hours":t[`${n}Minutes`](0);case"minute":case"minutes":t[`${n}Seconds`](0);case"second":case"seconds":t[`${n}Milliseconds`](0)}return t}function tt(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Vt-(a.getTime()-a.getTimezoneOffset()*Vt))/o}function po(e,a,o="days"){const t=new Date(e),n=new Date(a);switch(o){case"years":case"year":return t.getFullYear()-n.getFullYear();case"months":case"month":return(t.getFullYear()-n.getFullYear())*12+t.getMonth()-n.getMonth();case"days":case"day":case"date":return tt(va(t,"day"),va(n,"day"),ho);case"hours":case"hour":return tt(va(t,"hour"),va(n,"hour"),Wl);case"minutes":case"minute":return tt(va(t,"minute"),va(n,"minute"),Vt);case"seconds":case"second":return tt(va(t,"second"),va(n,"second"),1e3)}}function Ft(e){return po(e,va(e,"year"),"days")+1}function Rt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const jt={YY(e,a,o){const t=this.YYYY(e,a,o)%100;return t>=0?Ee(t):"-"+Ee(Math.abs(t))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Ee(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Rt(this.Q(e))},D(e){return e.getDate()},Do(e){return Rt(e.getDate())},DD(e){return Ee(e.getDate())},DDD(e){return Ft(e)},DDDD(e){return Ee(Ft(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Lt(e)},ww(e){return Ee(Lt(e))},H(e){return e.getHours()},HH(e){return Ee(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Ee(this.h(e))},m(e){return e.getMinutes()},mm(e){return Ee(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Ee(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Ee(Math.floor(e.getMilliseconds()/10))},SSS(e){return Ee(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return zt(n,":")},ZZ(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return zt(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Zl(e,a,o,t,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;a===void 0&&(a=fo);const l=go(o,$t.props);return a.replace(Ql,(u,f)=>u in jt?jt[u](s,l,t,n):f===void 0?u:f.split("\\]").join("]"))}const Oa=20,Kl=["Calendar","Years","Months"],Ht=e=>Kl.includes(e),ft=e=>/^-?[\d]+\/[0-1]\d$/.test(e),La=" \u2014 ";function Ta(e){return e.year+"/"+Ee(e.month)}var Sa=ja({name:"QDate",props:{...Ul,...tl,...eo,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ft},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ft},navigationMaxYearMonth:{type:String,validator:ft},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ht}},emits:[...Bl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),{$q:n}=t,s=ao(e,n),{getCache:l}=Ml(),{tabindex:u,headerClass:f,getLocale:E,getCurrentDate:b}=Yl(e,n);let x;const X=ol(e),k=nl(X),v=N(null),g=N(j()),h=N(E()),C=R(()=>j()),G=R(()=>E()),Z=R(()=>b()),S=N(_(g.value,h.value)),M=N(e.defaultView),xe=n.lang.rtl===!0?"right":"left",de=N(xe.value),he=N(xe.value),be=S.value.year,Ce=N(be-be%Oa-(be<0?Oa:0)),oe=N(null),fe=R(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(s.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),K=R(()=>e.color||"primary"),ne=R(()=>e.textColor||"white"),De=R(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),qe=R(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),D=R(()=>qe.value.filter(r=>typeof r=="string").map(r=>Ae(r,g.value,h.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),Ne=R(()=>{const r=i=>Ae(i,g.value,h.value);return qe.value.filter(i=>ll(i)===!0&&i.from!==void 0&&i.to!==void 0).map(i=>({from:r(i.from),to:r(i.to)})).filter(i=>i.from.dateHash!==null&&i.to.dateHash!==null&&i.from.dateHash<i.to.dateHash)}),we=R(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const i=Mt(r.year,r.month,r.day);return new Date(i.gy,i.gm-1,i.gd)}),w=R(()=>e.calendar==="persian"?Na:(r,i,c)=>Zl(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),i===void 0?g.value:i,c===void 0?h.value:c,r.year,r.timezoneOffset)),ue=R(()=>D.value.length+Ne.value.reduce((r,i)=>r+1+po(we.value(i.to),we.value(i.from)),0)),Y=R(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(oe.value!==null){const c=oe.value.init,p=we.value(c);return h.value.daysShort[p.getDay()]+", "+h.value.monthsShort[c.month-1]+" "+c.day+La+"?"}if(ue.value===0)return La;if(ue.value>1)return`${ue.value} ${h.value.pluralDay}`;const r=D.value[0],i=we.value(r);return isNaN(i.valueOf())===!0?La:h.value.headerTitle!==void 0?h.value.headerTitle(i,r):h.value.daysShort[i.getDay()]+", "+h.value.monthsShort[r.month-1]+" "+r.day}),ie=R(()=>D.value.concat(Ne.value.map(i=>i.from)).sort((i,c)=>i.year-c.year||i.month-c.month)[0]),Fe=R(()=>D.value.concat(Ne.value.map(i=>i.to)).sort((i,c)=>c.year-i.year||c.month-i.month)[0]),q=R(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ue.value===0)return La;if(ue.value>1){const r=ie.value,i=Fe.value,c=h.value.monthsShort;return c[r.month-1]+(r.year!==i.year?" "+r.year+La+c[i.month-1]+" ":r.month!==i.month?La+c[i.month-1]:"")+" "+i.year}return D.value[0].year}),y=R(()=>{const r=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?r.reverse():r}),T=R(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):h.value.firstDayOfWeek),W=R(()=>{const r=h.value.daysShort,i=T.value;return i>0?r.slice(i,7).concat(r.slice(0,i)):r}),H=R(()=>{const r=S.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():lt(r.year,r.month)}),Oe=R(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),U=R(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),me=R(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),Re=R(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return U.value!==null&&U.value.year>=S.value.year&&(r.year.prev=!1,U.value.year===S.value.year&&U.value.month>=S.value.month&&(r.month.prev=!1)),me.value!==null&&me.value.year<=S.value.year&&(r.year.next=!1,me.value.year===S.value.year&&me.value.month<=S.value.month&&(r.month.next=!1)),r}),Ye=R(()=>{const r={};return D.value.forEach(i=>{const c=Ta(i);r[c]===void 0&&(r[c]=[]),r[c].push(i.day)}),r}),Ie=R(()=>{const r={};return Ne.value.forEach(i=>{const c=Ta(i.from),p=Ta(i.to);if(r[c]===void 0&&(r[c]=[]),r[c].push({from:i.from.day,to:c===p?i.to.day:void 0,range:i}),c<p){let V;const{year:L,month:A}=i.from,B=A<12?{year:L,month:A+1}:{year:L+1,month:1};for(;(V=Ta(B))<=p;)r[V]===void 0&&(r[V]=[]),r[V].push({from:void 0,to:V===p?i.to.day:void 0,range:i}),B.month++,B.month>12&&(B.year++,B.month=1)}}),r}),Ge=R(()=>{if(oe.value===null)return;const{init:r,initHash:i,final:c,finalHash:p}=oe.value,[V,L]=i<=p?[r,c]:[c,r],A=Ta(V),B=Ta(L);if(A!==Te.value&&B!==Te.value)return;const $={};return A===Te.value?($.from=V.day,$.includeFrom=!0):$.from=1,B===Te.value?($.to=L.day,$.includeTo=!0):$.to=H.value,$}),Te=R(()=>Ta(S.value)),Ze=R(()=>{const r={};if(e.options===void 0){for(let c=1;c<=H.value;c++)r[c]=!0;return r}const i=typeof e.options=="function"?e.options:c=>e.options.includes(c);for(let c=1;c<=H.value;c++){const p=Te.value+"/"+Ee(c);r[c]=i(p)}return r}),Ke=R(()=>{const r={};if(e.events===void 0)for(let i=1;i<=H.value;i++)r[i]=!1;else{const i=typeof e.events=="function"?e.events:c=>e.events.includes(c);for(let c=1;c<=H.value;c++){const p=Te.value+"/"+Ee(c);r[c]=i(p)===!0&&Oe.value(p)}}return r}),pe=R(()=>{let r,i;const{year:c,month:p}=S.value;if(e.calendar!=="persian")r=new Date(c,p-1,1),i=new Date(c,p-1,0).getDate();else{const V=Mt(c,p,1);r=new Date(V.gy,V.gm-1,V.gd);let L=p-1,A=c;L===0&&(L=12,A--),i=lt(A,L)}return{days:r.getDay()-T.value-1,endDay:i}}),je=R(()=>{const r=[],{days:i,endDay:c}=pe.value,p=i<0?i+7:i;if(p<6)for(let A=c-p;A<=c;A++)r.push({i:A,fill:!0});const V=r.length;for(let A=1;A<=H.value;A++){const B={i:A,event:Ke.value[A],classes:[]};Ze.value[A]===!0&&(B.in=!0,B.flat=!0),r.push(B)}if(Ye.value[Te.value]!==void 0&&Ye.value[Te.value].forEach(A=>{const B=V+A-1;Object.assign(r[B],{selected:!0,unelevated:!0,flat:!1,color:K.value,textColor:ne.value})}),Ie.value[Te.value]!==void 0&&Ie.value[Te.value].forEach(A=>{if(A.from!==void 0){const B=V+A.from-1,$=V+(A.to||H.value)-1;for(let ze=B;ze<=$;ze++)Object.assign(r[ze],{range:A.range,unelevated:!0,color:K.value,textColor:ne.value});Object.assign(r[B],{rangeFrom:!0,flat:!1}),A.to!==void 0&&Object.assign(r[$],{rangeTo:!0,flat:!1})}else if(A.to!==void 0){const B=V+A.to-1;for(let $=V;$<=B;$++)Object.assign(r[$],{range:A.range,unelevated:!0,color:K.value,textColor:ne.value});Object.assign(r[B],{flat:!1,rangeTo:!0})}else{const B=V+H.value-1;for(let $=V;$<=B;$++)Object.assign(r[$],{range:A.range,unelevated:!0,color:K.value,textColor:ne.value})}}),Ge.value!==void 0){const A=V+Ge.value.from-1,B=V+Ge.value.to-1;for(let $=A;$<=B;$++)r[$].color=K.value,r[$].editRange=!0;Ge.value.includeFrom===!0&&(r[A].editRangeFrom=!0),Ge.value.includeTo===!0&&(r[B].editRangeTo=!0)}S.value.year===Z.value.year&&S.value.month===Z.value.month&&(r[V+Z.value.day-1].today=!0);const L=r.length%7;if(L>0){const A=7-L;for(let B=1;B<=A;B++)r.push({i:B,fill:!0})}return r.forEach(A=>{let B="q-date__calendar-item ";A.fill===!0?B+="q-date__calendar-item--fill":(B+=`q-date__calendar-item--${A.in===!0?"in":"out"}`,A.range!==void 0&&(B+=` q-date__range${A.rangeTo===!0?"-to":A.rangeFrom===!0?"-from":""}`),A.editRange===!0&&(B+=` q-date__edit-range${A.editRangeFrom===!0?"-from":""}${A.editRangeTo===!0?"-to":""}`),(A.range!==void 0||A.editRange===!0)&&(B+=` text-${A.color}`)),A.classes=B}),r}),$e=R(()=>e.disable===!0?{"aria-disabled":"true"}:{});na(()=>e.modelValue,r=>{if(x===r)x=0;else{const i=_(g.value,h.value);Xe(i.year,i.month,i)}}),na(M,()=>{v.value!==null&&t.$el.contains(document.activeElement)===!0&&v.value.focus()}),na(()=>S.value.year+"|"+S.value.month,()=>{o("navigation",{year:S.value.year,month:S.value.month})}),na(C,r=>{Se(r,h.value,"mask"),g.value=r}),na(G,r=>{Se(g.value,r,"locale"),h.value=r});function ke(){const{year:r,month:i,day:c}=Z.value,p={...S.value,year:r,month:i,day:c},V=Ye.value[Ta(p)];(V===void 0||V.includes(p.day)===!1)&&Pe(p),re(p.year,p.month)}function J(r){Ht(r)===!0&&(M.value=r)}function ge(r,i){["month","year"].includes(r)&&(r==="month"?ia:ee)(i===!0?-1:1)}function re(r,i){M.value="Calendar",Xe(r,i)}function Q(r,i){if(e.range===!1||!r){oe.value=null;return}const c=Object.assign({...S.value},r),p=i!==void 0?Object.assign({...S.value},i):c;oe.value={init:c,initHash:Na(c),final:p,finalHash:Na(p)},re(c.year,c.month)}function j(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ae(r,i,c){return Jl(r,i,c,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function _(r,i){const c=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(c.length===0)return z();const p=c[c.length-1],V=Ae(p.from!==void 0?p.from:p,r,i);return V.dateHash===null?z():V}function z(){let r,i;if(e.defaultYearMonth!==void 0){const c=e.defaultYearMonth.split("/");r=parseInt(c[0],10),i=parseInt(c[1],10)}else{const c=Z.value!==void 0?Z.value:b();r=c.year,i=c.month}return{year:r,month:i,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+Ee(i)+"/01"}}function ia(r){let i=S.value.year,c=Number(S.value.month)+r;c===13?(c=1,i++):c===0&&(c=12,i--),Xe(i,c),De.value===!0&&ye("month")}function ee(r){const i=Number(S.value.year)+r;Xe(i,S.value.month),De.value===!0&&ye("year")}function We(r){Xe(r,S.value.month),M.value=e.defaultView==="Years"?"Months":"Calendar",De.value===!0&&ye("year")}function ea(r){Xe(S.value.year,r),M.value="Calendar",De.value===!0&&ye("month")}function He(r,i){const c=Ye.value[i];(c!==void 0&&c.includes(r.day)===!0?Ue:Pe)(r)}function Qe(r){return{year:r.year,month:r.month,day:r.day}}function Xe(r,i,c){if(U.value!==null&&r<=U.value.year&&((i<U.value.month||r<U.value.year)&&(i=U.value.month),r=U.value.year),me.value!==null&&r>=me.value.year&&((i>me.value.month||r>me.value.year)&&(i=me.value.month),r=me.value.year),c!==void 0){const{hour:V,minute:L,second:A,millisecond:B,timezoneOffset:$,timeHash:ze}=c;Object.assign(S.value,{hour:V,minute:L,second:A,millisecond:B,timezoneOffset:$,timeHash:ze})}const p=r+"/"+Ee(i)+"/01";p!==S.value.dateHash&&(de.value=S.value.dateHash<p==(n.lang.rtl!==!0)?"left":"right",r!==S.value.year&&(he.value=de.value),bt(()=>{Ce.value=r-r%Oa-(r<0?Oa:0),Object.assign(S.value,{year:r,month:i,day:1,dateHash:p})}))}function ua(r,i,c){const p=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;x=p;const{reason:V,details:L}=Me(i,c);o("update:modelValue",p,V,L)}function ye(r){const i=D.value[0]!==void 0&&D.value[0].dateHash!==null?{...D.value[0]}:{...S.value};bt(()=>{i.year=S.value.year,i.month=S.value.month;const c=e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():lt(i.year,i.month);i.day=Math.min(Math.max(1,i.day),c);const p=ve(i);x=p;const{details:V}=Me("",i);o("update:modelValue",p,r,V)})}function Me(r,i){return i.from!==void 0?{reason:`${r}-range`,details:{...Qe(i.target),from:Qe(i.from),to:Qe(i.to)}}:{reason:`${r}-day`,details:Qe(i)}}function ve(r,i,c){return r.from!==void 0?{from:w.value(r.from,i,c),to:w.value(r.to,i,c)}:w.value(r,i,c)}function Pe(r){let i;if(e.multiple===!0)if(r.from!==void 0){const c=Na(r.from),p=Na(r.to),V=D.value.filter(A=>A.dateHash<c||A.dateHash>p),L=Ne.value.filter(({from:A,to:B})=>B.dateHash<c||A.dateHash>p);i=V.concat(L).concat(r).map(A=>ve(A))}else{const c=qe.value.slice();c.push(ve(r)),i=c}else i=ve(r);ua(i,"add",r)}function Ue(r){if(e.noUnset===!0)return;let i=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const c=ve(r);r.from!==void 0?i=e.modelValue.filter(p=>p.from!==void 0?p.from!==c.from&&p.to!==c.to:!0):i=e.modelValue.filter(p=>p!==c),i.length===0&&(i=null)}ua(i,"remove",r)}function Se(r,i,c){const p=D.value.concat(Ne.value).map(V=>ve(V,r,i)).filter(V=>V.from!==void 0?V.from.dateHash!==null&&V.to.dateHash!==null:V.dateHash!==null);o("update:modelValue",(e.multiple===!0?p:p[0])||null,c)}function Be(){if(e.minimal!==!0)return P("div",{class:"q-date__header "+f.value},[P("div",{class:"relative-position"},[P(Ra,{name:"q-transition--fade"},()=>P("div",{key:"h-yr-"+q.value,class:"q-date__header-subtitle q-date__header-link "+(M.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...l("vY",{onClick(){M.value="Years"},onKeyup(r){r.keyCode===13&&(M.value="Years")}})},[q.value]))]),P("div",{class:"q-date__header-title relative-position flex no-wrap"},[P("div",{class:"relative-position col"},[P(Ra,{name:"q-transition--fade"},()=>P("div",{key:"h-sub"+Y.value,class:"q-date__header-title-label q-date__header-link "+(M.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...l("vC",{onClick(){M.value="Calendar"},onKeyup(r){r.keyCode===13&&(M.value="Calendar")}})},[Y.value]))]),e.todayBtn===!0?P(le,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:ke}):null])])}function aa({label:r,type:i,key:c,dir:p,goTo:V,boundaries:L,cls:A}){return[P("div",{class:"row items-center q-date__arrow"},[P(le,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[0],tabindex:u.value,disable:L.prev===!1,...l("go-#"+i,{onClick(){V(-1)}})})]),P("div",{class:"relative-position overflow-hidden flex flex-center"+A},[P(Ra,{name:"q-transition--jump-"+p},()=>P("div",{key:c},[P(le,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:u.value,...l("view#"+i,{onClick:()=>{M.value=i}})})]))]),P("div",{class:"row items-center q-date__arrow"},[P(le,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[1],tabindex:u.value,disable:L.next===!1,...l("go+#"+i,{onClick(){V(1)}})})])]}const ra={Calendar:()=>[P("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[P("div",{class:"q-date__navigation row items-center no-wrap"},aa({label:h.value.months[S.value.month-1],type:"Months",key:S.value.month,dir:de.value,goTo:ia,boundaries:Re.value.month,cls:" col"}).concat(aa({label:S.value.year,type:"Years",key:S.value.year,dir:he.value,goTo:ee,boundaries:Re.value.year,cls:""}))),P("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},W.value.map(r=>P("div",{class:"q-date__calendar-item"},[P("div",r)]))),P("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[P(Ra,{name:"q-transition--slide-"+de.value},()=>P("div",{key:Te.value,class:"q-date__calendar-days fit"},je.value.map(r=>P("div",{class:r.classes},[r.in===!0?P(le,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:u.value,...l("day#"+r.i,{onClick:()=>{ha(r.i)},onMouseover:()=>{ga(r.i)}})},r.event!==!1?()=>P("div",{class:"q-date__event bg-"+r.event}):null):P("div",""+r.i)]))))])])],Months(){const r=S.value.year===Z.value.year,i=p=>U.value!==null&&S.value.year===U.value.year&&U.value.month>p||me.value!==null&&S.value.year===me.value.year&&me.value.month<p,c=h.value.monthsShort.map((p,V)=>{const L=S.value.month===V+1;return P("div",{class:"q-date__months-item flex flex-center"},[P(le,{class:r===!0&&Z.value.month===V+1?"q-date__today":null,flat:L!==!0,label:p,unelevated:L,color:L===!0?K.value:null,textColor:L===!0?ne.value:null,tabindex:u.value,disable:i(V+1),...l("month#"+V,{onClick:()=>{ea(V+1)}})})])});return e.yearsInMonthView===!0&&c.unshift(P("div",{class:"row no-wrap full-width"},[aa({label:S.value.year,type:"Years",key:S.value.year,dir:he.value,goTo:ee,boundaries:Re.value.year,cls:" col"})])),P("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},c)},Years(){const r=Ce.value,i=r+Oa,c=[],p=V=>U.value!==null&&U.value.year>V||me.value!==null&&me.value.year<V;for(let V=r;V<=i;V++){const L=S.value.year===V;c.push(P("div",{class:"q-date__years-item flex flex-center"},[P(le,{key:"yr"+V,class:Z.value.year===V?"q-date__today":null,flat:!L,label:V,dense:!0,unelevated:L,color:L===!0?K.value:null,textColor:L===!0?ne.value:null,tabindex:u.value,disable:p(V),...l("yr#"+V,{onClick:()=>{We(V)}})})]))}return P("div",{class:"q-date__view q-date__years flex flex-center"},[P("div",{class:"col-auto"},[P(le,{round:!0,dense:!0,flat:!0,icon:y.value[0],tabindex:u.value,disable:p(r),...l("y-",{onClick:()=>{Ce.value-=Oa}})})]),P("div",{class:"q-date__years-content col self-stretch row items-center"},c),P("div",{class:"col-auto"},[P(le,{round:!0,dense:!0,flat:!0,icon:y.value[1],tabindex:u.value,disable:p(i),...l("y+",{onClick:()=>{Ce.value+=Oa}})})])])}};function ha(r){const i={...S.value,day:r};if(e.range===!1){He(i,Te.value);return}if(oe.value===null){const c=je.value.find(V=>V.fill!==!0&&V.i===r);if(e.noUnset!==!0&&c.range!==void 0){Ue({target:i,from:c.range.from,to:c.range.to});return}if(c.selected===!0){Ue(i);return}const p=Na(i);oe.value={init:i,initHash:p,final:i,finalHash:p},o("rangeStart",Qe(i))}else{const c=oe.value.initHash,p=Na(i),V=c<=p?{from:oe.value.init,to:i}:{from:i,to:oe.value.init};oe.value=null,Pe(c===p?i:{target:i,...V}),o("rangeEnd",{from:Qe(V.from),to:Qe(V.to)})}}function ga(r){if(oe.value!==null){const i={...S.value,day:r};Object.assign(oe.value,{final:i,finalHash:Na(i)})}}return Object.assign(t,{setToday:ke,setView:J,offsetCalendar:ge,setCalendarTo:re,setEditingRange:Q}),()=>{const r=[P("div",{class:"q-date__content col relative-position"},[P(Ra,{name:"q-transition--fade"},ra[M.value])])],i=Ga(a.default);return i!==void 0&&r.push(P("div",{class:"q-date__actions"},i)),e.name!==void 0&&e.disable!==!0&&k(r,"push"),P("div",{class:fe.value,...$e.value},[Be(),P("div",{ref:v,class:"q-date__main col column",tabindex:-1},r)])}}}),Ea=ja({name:"QPopupProxy",props:{...to,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:t}){const{proxy:n}=Ja(),{$q:s}=n,l=N(!1),u=N(null),f=R(()=>parseInt(e.breakpoint,10)),{canShow:E}=oo({showing:l});function b(){return s.screen.width<f.value||s.screen.height<f.value?"dialog":"menu"}const x=N(b()),X=R(()=>x.value==="menu"?{maxHeight:"99vh"}:{});na(()=>b(),g=>{l.value!==!0&&(x.value=g)});function k(g){l.value=!0,o("show",g)}function v(g){l.value=!1,x.value=b(),o("hide",g)}return Object.assign(n,{show(g){E(g)===!0&&u.value.show(g)},hide(g){u.value.hide(g)},toggle(g){u.value.toggle(g)}}),sl(n,"currentComponent",()=>({type:x.value,ref:u.value})),()=>{const g={ref:u,...X.value,...t,onShow:k,onHide:v};let h;return x.value==="dialog"?h=ot:(h=lo,Object.assign(g,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),P(h,g,a.default)}}});function vo(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=t.display;return n==="block"||n==="table"?e:vo(e.parentNode)}function gt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function bo(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let t=0;a.count!==0&&t<e.childNodes.length;t++)o=bo(e.childNodes[t],a,o);return o}const $l=/^https?:\/\//;class en{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(gt(a.anchorNode,this.el,!0)&&gt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!==null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?vo(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),t=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),t.removeAllRanges(),t.addRange(o)):(t.selectAllChildren(this.el),t.collapseToEnd())}savePosition(){let a=-1,o;const t=document.getSelection(),n=this.el.parentNode;if(t.focusNode&&gt(t.focusNode,n))for(o=t.focusNode,a=t.focusOffset;o&&o!==n;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),t=bo(this.el,{count:this.savedPos});t&&(t.collapse(!1),o.removeAllRanges(),o.addRange(t))}}hasParent(a,o){const t=o?this.parent:this.blockParent;return t!==null?t.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,t=this.parent){return t===null?!1:a.includes(t.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,t.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const t=document.queryCommandValue(a);return t===`"${o}"`||t===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const n=document.queryCommandState(a);return o!==void 0?n===o:n}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,t=il){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){t();const n=window.open();n.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),n.print(),n.close();return}else if(a==="link"){const n=this.getParentAttribute("href");if(n===null){const s=this.selectWord(this.selection),l=s?s.toString():"";if(!l.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=$l.test(l)?l:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(s.getRangeAt(0))}else this.eVm.editLinkUrl.value=n,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),t();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),t();return}document.execCommand(a,!1,o),t()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const t=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const n=a.focusNode,s=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",t[0],"character"),a.modify("move",t[1],"word"),a.extend(n,s),a.modify("extend",t[1],"character"),a.modify("extend",t[0],"word"),a}}var an=ja({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const o=R(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>P("div",{class:o.value},Ga(a.default))}});const tn=Object.keys(no),on=e=>tn.reduce((a,o)=>{const t=e[o];return t!==void 0&&(a[o]=t),a},{});var ln=ja({name:"QBtnDropdown",props:{...no,...so,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),n=N(e.modelValue),s=N(null),l=rl(),u=R(()=>{const S={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l.value,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(S["aria-disabled"]="true"),S}),f=R(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),E=R(()=>cl(e)),b=R(()=>on(e));na(()=>e.modelValue,S=>{s.value!==null&&s.value[S?"show":"hide"]()}),na(()=>e.split,Z);function x(S){n.value=!0,o("beforeShow",S)}function X(S){o("show",S),o("update:modelValue",!0)}function k(S){n.value=!1,o("beforeHide",S)}function v(S){o("hide",S),o("update:modelValue",!1)}function g(S){o("click",S)}function h(S){io(S),Z(),o("click",S)}function C(S){s.value!==null&&s.value.toggle(S)}function G(S){s.value!==null&&s.value.show(S)}function Z(S){s.value!==null&&s.value.hide(S)}return Object.assign(t,{show:G,hide:Z,toggle:C}),Ct(()=>{e.modelValue===!0&&G()}),()=>{const S=[P(fa,{class:f.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&S.push(P(lo,{ref:s,id:l.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:x,onShow:X,onBeforeHide:k,onHide:v},a.default)),e.split===!1?P(le,{class:"q-btn-dropdown q-btn-dropdown--simple",...b.value,...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:g},{default:()=>Ga(a.label,[]).concat(S),loading:a.loading}):P(an,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...E.value,glossy:e.glossy,stretch:e.stretch},()=>[P(le,{class:"q-btn-dropdown--current",...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:a.label,loading:a.loading}),P(le,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...u.value,...E.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>S)])}}}),nn=ja({name:"QTooltip",inheritAttrs:!1,props:{...to,...dl,...so,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:xt},self:{type:String,default:"top middle",validator:xt},offset:{type:Array,default:()=>[14,14],validator:ul},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ml],setup(e,{slots:a,emit:o,attrs:t}){let n,s;const l=Ja(),{proxy:{$q:u}}=l,f=N(null),E=N(!1),b=R(()=>wt(e.anchor,u.lang.rtl)),x=R(()=>wt(e.self,u.lang.rtl)),X=R(()=>e.persistent!==!0),{registerTick:k,removeTick:v}=hl(),{registerTimeout:g}=fl(),{transitionProps:h,transitionStyle:C}=gl(e),{localScrollTarget:G,changeScrollEvent:Z,unconfigureScrollTarget:S}=pl(e,w),{anchorEl:M,canShow:xe,anchorEvents:de}=oo({showing:E,configureAnchorEl:we}),{show:he,hide:be}=vl({showing:E,canShow:xe,handleShow:K,handleHide:ne,hideOnRouteChange:X,processOnMount:!0});Object.assign(de,{delayShow:D,delayHide:Ne});const{showPortal:Ce,hidePortal:oe,renderPortal:fe}=bl(l,f,Y,"tooltip");if(u.platform.is.mobile===!0){const ie={anchorEl:M,innerRef:f,onClickOutside(q){return be(q),q.target.classList.contains("q-dialog__backdrop")&&ro(q),!0}},Fe=R(()=>e.modelValue===null&&e.persistent!==!0&&E.value===!0);na(Fe,q=>{(q===!0?Cl:At)(ie)}),yt(()=>{At(ie)})}function K(ie){Ce(),k(()=>{s=new MutationObserver(()=>qe()),s.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),qe(),w()}),n===void 0&&(n=na(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,qe)),g(()=>{Ce(!0),o("show",ie)},e.transitionDuration)}function ne(ie){v(),oe(),De(),g(()=>{oe(!0),o("hide",ie)},e.transitionDuration)}function De(){s!==void 0&&(s.disconnect(),s=void 0),n!==void 0&&(n(),n=void 0),S(),Pt(de,"tooltipTemp")}function qe(){yl({targetEl:f.value,offset:e.offset,anchorEl:M.value,anchorOrigin:b.value,selfOrigin:x.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(ie){if(u.platform.is.mobile===!0){_t(),document.body.classList.add("non-selectable");const Fe=M.value,q=["touchmove","touchcancel","touchend","click"].map(y=>[Fe,y,"delayHide","passiveCapture"]);qt(de,"tooltipTemp",q)}g(()=>{he(ie)},e.delay)}function Ne(ie){u.platform.is.mobile===!0&&(Pt(de,"tooltipTemp"),_t(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{be(ie)},e.hideDelay)}function we(){if(e.noParentEvent===!0||M.value===null)return;const ie=u.platform.is.mobile===!0?[[M.value,"touchstart","delayShow","passive"]]:[[M.value,"mouseenter","delayShow","passive"],[M.value,"mouseleave","delayHide","passive"]];qt(de,"anchor",ie)}function w(){if(M.value!==null||e.scrollTarget!==void 0){G.value=Vl(M.value,e.scrollTarget);const ie=e.noParentEvent===!0?qe:be;Z(G.value,ie)}}function ue(){return E.value===!0?P("div",{...t,ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,C.value],role:"tooltip"},Ga(a.default)):null}function Y(){return P(Ra,h.value,ue)}return yt(De),Object.assign(l.proxy,{updatePosition:qe}),fe}});function yo(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function Tt(e){return P("div",{class:"q-editor__toolbar-group"},e)}function Vo(e,a,o,t=!1){const n=t||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),s=[];if(a.tip&&e.$q.platform.is.desktop){const l=a.key?P("div",[P("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;s.push(P(nn,{delay:1e3},()=>[P("div",{innerHTML:a.tip}),l]))}return P(le,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:n?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:n&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(l){o&&o(),yo(l,a,e)}},()=>s)}function sn(e,a){const o=a.list==="only-icons";let t=a.label,n=a.icon!==null?a.icon:void 0,s,l;function u(){E.component.proxy.hide()}if(o)l=a.options.map(b=>{const x=b.type===void 0?e.caret.is(b.cmd,b.param):!1;return x&&(t=b.tip,n=b.icon!==null?b.icon:void 0),Vo(e,b,u,x)}),s=e.toolbarBackgroundClass.value,l=[Tt(l)];else{const b=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,x=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,X=a.list==="no-icons";l=a.options.map(k=>{const v=k.disable?k.disable(e):!1,g=k.type===void 0?e.caret.is(k.cmd,k.param):!1;g&&(t=k.tip,n=k.icon!==null?k.icon:void 0);const h=k.htmlTip;return P(Nl,{active:g,activeClass:b,clickable:!0,disable:v,dense:!0,onClick(C){u(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),yo(C,k,e)}},()=>[X===!0?null:P(Ot,{class:g?b:x,side:!0},()=>P(fa,{name:k.icon!==null?k.icon:void 0})),P(Ot,h?()=>P("div",{class:"text-no-wrap",innerHTML:k.htmlTip}):k.tip?()=>P("div",{class:"text-no-wrap"},k.tip):void 0)])}),s=[e.toolbarBackgroundClass.value,x]}const f=a.highlight&&t!==a.label,E=P(ln,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:f?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:f&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:t,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:n,contentClass:s,onShow:b=>e.emit("dropdownShow",b),onHide:b=>e.emit("dropdownHide",b),onBeforeShow:b=>e.emit("dropdownBeforeShow",b),onBeforeHide:b=>e.emit("dropdownBeforeHide",b)},()=>l);return E}function rn(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>Tt(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?Ga(e.slots[o.slot]):o.type==="dropdown"?sn(e,o):Vo(e,o))))}function cn(e,a,o,t={}){const n=Object.keys(t);if(n.length===0)return{};const s={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return n.forEach(l=>{const u=t[l];s[l]={cmd:"fontName",param:u,icon:o,tip:u,htmlTip:`<font face="${u}">${u}</font>`}}),s}function dn(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const t=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[P("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),P("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:n=>{io(n),o=n.target.value},onKeydown:n=>{if(co(n)!==!0)switch(n.keyCode){case 13:return Dt(n),t();case 27:Dt(n),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Tt([P(le,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),P(le,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:t})])]}}const un=Object.prototype.toString,pt=Object.prototype.hasOwnProperty,mn=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Ut(e){if(e!==Object(e)||mn.has(un.call(e))===!0||e.constructor&&pt.call(e,"constructor")===!1&&pt.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||pt.call(e,a)}function Co(){let e,a,o,t,n,s,l=arguments[0]||{},u=1,f=!1;const E=arguments.length;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},u=2),Object(l)!==l&&typeof l!="function"&&(l={}),E===u&&(l=this,u--);u<E;u++)if((e=arguments[u])!==null)for(a in e)o=l[a],t=e[a],l!==t&&(f===!0&&t&&((n=Array.isArray(t))||Ut(t)===!0)?(n===!0?s=Array.isArray(o)===!0?o:[]:s=Ut(o)===!0?o:{},l[a]=Co(f,s,t)):t!==void 0&&(l[a]=t));return l}var Bt=ja({name:"QEditor",props:{...eo,...Tl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Sl,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),{$q:n}=t,s=ao(e,n),{inFullscreen:l,toggleFullscreen:u}=El(),f=xl(),E=N(null),b=N(null),x=N(null),X=N(!1),k=R(()=>!e.readonly&&!e.disable);let v,g,h=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),v=window.getComputedStyle(document.body).fontFamily;const C=R(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),G=R(()=>{const y=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:y,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!k.value,size:"sm"}}),Z=R(()=>{const y=n.lang.editor,T=n.iconSet.editor;return{bold:{cmd:"bold",icon:T.bold,tip:y.bold,key:66},italic:{cmd:"italic",icon:T.italic,tip:y.italic,key:73},strike:{cmd:"strikeThrough",icon:T.strikethrough,tip:y.strikethrough,key:83},underline:{cmd:"underline",icon:T.underline,tip:y.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:T.unorderedList,tip:y.unorderedList},ordered:{cmd:"insertOrderedList",icon:T.orderedList,tip:y.orderedList},subscript:{cmd:"subscript",icon:T.subscript,tip:y.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:T.superscript,tip:y.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:W=>W.caret&&!W.caret.can("link"),icon:T.hyperlink,tip:y.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:T.toggleFullscreen,tip:y.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:T.viewSource,tip:y.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:T.quote,tip:y.quote,key:81},left:{cmd:"justifyLeft",icon:T.left,tip:y.left},center:{cmd:"justifyCenter",icon:T.center,tip:y.center},right:{cmd:"justifyRight",icon:T.right,tip:y.right},justify:{cmd:"justifyFull",icon:T.justify,tip:y.justify},print:{type:"no-state",cmd:"print",icon:T.print,tip:y.print,key:80},outdent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("outdent"),cmd:"outdent",icon:T.outdent,tip:y.outdent},indent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("indent"),cmd:"indent",icon:T.indent,tip:y.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:T.removeFormat,tip:y.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:T.hr,tip:y.hr},undo:{type:"no-state",cmd:"undo",icon:T.undo,tip:y.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:T.redo,tip:y.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:T.heading1||T.heading,tip:y.heading1,htmlTip:`<h1 class="q-ma-none">${y.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:T.heading2||T.heading,tip:y.heading2,htmlTip:`<h2 class="q-ma-none">${y.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:T.heading3||T.heading,tip:y.heading3,htmlTip:`<h3 class="q-ma-none">${y.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:T.heading4||T.heading,tip:y.heading4,htmlTip:`<h4 class="q-ma-none">${y.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:T.heading5||T.heading,tip:y.heading5,htmlTip:`<h5 class="q-ma-none">${y.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:T.heading6||T.heading,tip:y.heading6,htmlTip:`<h6 class="q-ma-none">${y.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:T.heading,tip:y.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:T.code,htmlTip:`<code>${y.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:T.size1||T.size,tip:y.size1,htmlTip:`<font size="1">${y.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:T.size2||T.size,tip:y.size2,htmlTip:`<font size="2">${y.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:T.size3||T.size,tip:y.size3,htmlTip:`<font size="3">${y.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:T.size4||T.size,tip:y.size4,htmlTip:`<font size="4">${y.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:T.size5||T.size,tip:y.size5,htmlTip:`<font size="5">${y.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:T.size6||T.size,tip:y.size6,htmlTip:`<font size="6">${y.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:T.size7||T.size,tip:y.size7,htmlTip:`<font size="7">${y.size7}</font>`}}}),S=R(()=>{const y=e.definitions||{},T=e.definitions||e.fonts?Co(!0,{},Z.value,y,cn(v,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):Z.value;return e.toolbar.map(W=>W.map(H=>{if(H.options)return{type:"dropdown",icon:H.icon,label:H.label,size:"sm",dense:!0,fixedLabel:H.fixedLabel,fixedIcon:H.fixedIcon,highlight:H.highlight,list:H.list,options:H.options.map(U=>T[U])};const Oe=T[H];return Oe?Oe.type==="no-state"||y[H]&&(Oe.cmd===void 0||Z.value[Oe.cmd]&&Z.value[Oe.cmd].type==="no-state")?Oe:Object.assign({type:"toggle"},Oe):{type:"slot",slot:H}}))}),M={$q:n,props:e,slots:a,emit:o,inFullscreen:l,toggleFullscreen:u,runCmd:Y,isViewingSource:X,editLinkUrl:x,toolbarBackgroundClass:C,buttonProps:G,contentRef:b,buttons:S,setContent:ue};na(()=>e.modelValue,y=>{h!==y&&(h=y,ue(y,!0))}),na(x,y=>{o(`link${y?"Show":"Hide"}`)});const xe=R(()=>e.toolbar&&e.toolbar.length!==0),de=R(()=>{const y={},T=W=>{W.key&&(y[W.key]={cmd:W.cmd,param:W.param})};return S.value.forEach(W=>{W.forEach(H=>{H.options?H.options.forEach(T):T(H)})}),y}),he=R(()=>l.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),be=R(()=>`q-editor q-editor--${X.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(l.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(s.value===!0?" q-editor--dark q-dark":"")),Ce=R(()=>[e.contentClass,"q-editor__content",{col:l.value,"overflow-auto":l.value||e.maxHeight}]),oe=R(()=>e.disable===!0?{"aria-disabled":"true"}:{});function fe(){if(b.value!==null){const y=`inner${X.value===!0?"Text":"HTML"}`,T=b.value[y];T!==e.modelValue&&(h=T,o("update:modelValue",T))}}function K(y){if(o("keydown",y),y.ctrlKey!==!0||co(y)===!0){ie();return}const T=y.keyCode,W=de.value[T];if(W!==void 0){const{cmd:H,param:Oe}=W;ro(y),Y(H,Oe,!1)}}function ne(y){ie(),o("click",y)}function De(y){if(b.value!==null){const{scrollTop:T,scrollHeight:W}=b.value;g=W-T}M.caret.save(),o("blur",y)}function qe(y){bt(()=>{b.value!==null&&g!==void 0&&(b.value.scrollTop=b.value.scrollHeight-g)}),o("focus",y)}function D(y){const T=E.value;if(T!==null&&T.contains(y.target)===!0&&(y.relatedTarget===null||T.contains(y.relatedTarget)!==!0)){const W=`inner${X.value===!0?"Text":"HTML"}`;M.caret.restorePosition(b.value[W].length),ie()}}function Ne(y){const T=E.value;T!==null&&T.contains(y.target)===!0&&(y.relatedTarget===null||T.contains(y.relatedTarget)!==!0)&&(M.caret.savePosition(),ie())}function we(){g=void 0}function w(y){M.caret.save()}function ue(y,T){if(b.value!==null){T===!0&&M.caret.savePosition();const W=`inner${X.value===!0?"Text":"HTML"}`;b.value[W]=y,T===!0&&(M.caret.restorePosition(b.value[W].length),ie())}}function Y(y,T,W=!0){Fe(),M.caret.restore(),M.caret.apply(y,T,()=>{Fe(),M.caret.save(),W&&ie()})}function ie(){setTimeout(()=>{x.value=null,t.$forceUpdate()},1)}function Fe(){wl(()=>{b.value!==null&&b.value.focus({preventScroll:!0})})}function q(){return b.value}return Ct(()=>{M.caret=t.caret=new en(b.value,M),ue(e.modelValue),ie(),document.addEventListener("selectionchange",w)}),yt(()=>{document.removeEventListener("selectionchange",w)}),Object.assign(t,{runCmd:Y,refreshToolbar:ie,focus:Fe,getContentEl:q}),()=>{let y;if(xe.value){const T=[P("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+C.value},rn(M))];x.value!==null&&T.push(P("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+C.value},dn(M))),y=P("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},T)}return P("div",{ref:E,class:be.value,style:{height:l.value===!0?"100%":null},...oe.value,onFocusin:D,onFocusout:Ne},[y,P("div",{ref:b,style:he.value,class:Ce.value,contenteditable:k.value,placeholder:e.placeholder,...f.listeners.value,onInput:fe,onKeydown:K,onClick:ne,onBlur:De,onFocus:qe,onMousedown:we,onTouchstartPassive:we})])}}});function ma(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function ka(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const No=6048e5,hn=864e5;let fn={};function st(){return fn}function Xa(e,a){var u,f,E,b,x,X,k,v;const o=st(),t=(v=(k=(b=(E=a==null?void 0:a.weekStartsOn)!=null?E:(f=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)!=null?b:o.weekStartsOn)!=null?k:(X=(x=o.locale)==null?void 0:x.options)==null?void 0:X.weekStartsOn)!=null?v:0,n=ma(e),s=n.getDay(),l=(s<t?7:0)+s-t;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function nt(e){return Xa(e,{weekStartsOn:1})}function To(e){const a=ma(e),o=a.getFullYear(),t=ka(e,0);t.setFullYear(o+1,0,4),t.setHours(0,0,0,0);const n=nt(t),s=ka(e,0);s.setFullYear(o,0,4),s.setHours(0,0,0,0);const l=nt(s);return a.getTime()>=n.getTime()?o+1:a.getTime()>=l.getTime()?o:o-1}function Yt(e){const a=ma(e);return a.setHours(0,0,0,0),a}function Wt(e){const a=ma(e),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),+e-+o}function gn(e,a){const o=Yt(e),t=Yt(a),n=+o-Wt(o),s=+t-Wt(t);return Math.round((n-s)/hn)}function pn(e){const a=To(e),o=ka(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),nt(o)}function vn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bn(e){if(!vn(e)&&typeof e!="number")return!1;const a=ma(e);return!isNaN(Number(a))}function yn(e){const a=ma(e),o=ka(e,0);return o.setFullYear(a.getFullYear(),0,1),o.setHours(0,0,0,0),o}const Vn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cn=(e,a,o)=>{let t;const n=Vn[e];return typeof n=="string"?t=n:a===1?t=n.one:t=n.other.replace("{{count}}",a.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+t:t+" ago":t};function vt(e){return(a={})=>{const o=a.width?String(a.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}const Nn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},En={date:vt({formats:Nn,defaultWidth:"full"}),time:vt({formats:Tn,defaultWidth:"full"}),dateTime:vt({formats:Sn,defaultWidth:"full"})},xn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wn=(e,a,o,t)=>xn[e];function Wa(e){return(a,o)=>{const t=o!=null&&o.context?String(o.context):"standalone";let n;if(t==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=o!=null&&o.width?String(o.width):l;n=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=o!=null&&o.width?String(o.width):e.defaultWidth;n=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(a):a;return n[s]}}const An={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_n={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},On={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},In=(e,a)=>{const o=Number(e),t=o%100;if(t>20||t<10)switch(t%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},kn={ordinalNumber:In,era:Wa({values:An,defaultWidth:"wide"}),quarter:Wa({values:Pn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wa({values:_n,defaultWidth:"wide"}),day:Wa({values:qn,defaultWidth:"wide"}),dayPeriod:Wa({values:Dn,defaultWidth:"wide",formattingValues:On,defaultFormattingWidth:"wide"})};function Qa(e){return(a,o={})=>{const t=o.width,n=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],s=a.match(n);if(!s)return null;const l=s[0],u=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?zn(u,x=>x.test(l)):Mn(u,x=>x.test(l));let E;E=e.valueCallback?e.valueCallback(f):f,E=o.valueCallback?o.valueCallback(E):E;const b=a.slice(l.length);return{value:E,rest:b}}}function Mn(e,a){for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&a(e[o]))return o}function zn(e,a){for(let o=0;o<e.length;o++)if(a(e[o]))return o}function Ln(e){return(a,o={})=>{const t=a.match(e.matchPattern);if(!t)return null;const n=t[0],s=a.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=o.valueCallback?o.valueCallback(l):l;const u=a.slice(n.length);return{value:l,rest:u}}}const Fn=/^(\d+)(th|st|nd|rd)?/i,Rn=/\d+/i,jn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hn={any:[/^b/i,/^(a|c)/i]},Un={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bn={any:[/1/i,/2/i,/3/i,/4/i]},Yn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zn={ordinalNumber:Ln({matchPattern:Fn,parsePattern:Rn,valueCallback:e=>parseInt(e,10)}),era:Qa({matchPatterns:jn,defaultMatchWidth:"wide",parsePatterns:Hn,defaultParseWidth:"any"}),quarter:Qa({matchPatterns:Un,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qa({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),day:Qa({matchPatterns:Qn,defaultMatchWidth:"wide",parsePatterns:Xn,defaultParseWidth:"any"}),dayPeriod:Qa({matchPatterns:Gn,defaultMatchWidth:"any",parsePatterns:Jn,defaultParseWidth:"any"})},Kn={code:"en-US",formatDistance:Cn,formatLong:En,formatRelative:wn,localize:kn,match:Zn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $n(e){const a=ma(e);return gn(a,yn(a))+1}function es(e){const a=ma(e),o=+nt(a)-+pn(a);return Math.round(o/No)+1}function So(e,a){var b,x,X,k,v,g,h,C;const o=ma(e),t=o.getFullYear(),n=st(),s=(C=(h=(k=(X=a==null?void 0:a.firstWeekContainsDate)!=null?X:(x=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)!=null?k:n.firstWeekContainsDate)!=null?h:(g=(v=n.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)!=null?C:1,l=ka(e,0);l.setFullYear(t+1,0,s),l.setHours(0,0,0,0);const u=Xa(l,a),f=ka(e,0);f.setFullYear(t,0,s),f.setHours(0,0,0,0);const E=Xa(f,a);return o.getTime()>=u.getTime()?t+1:o.getTime()>=E.getTime()?t:t-1}function as(e,a){var u,f,E,b,x,X,k,v;const o=st(),t=(v=(k=(b=(E=a==null?void 0:a.firstWeekContainsDate)!=null?E:(f=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)!=null?b:o.firstWeekContainsDate)!=null?k:(X=(x=o.locale)==null?void 0:x.options)==null?void 0:X.firstWeekContainsDate)!=null?v:1,n=So(e,a),s=ka(e,0);return s.setFullYear(n,0,t),s.setHours(0,0,0,0),Xa(s,a)}function ts(e,a){const o=ma(e),t=+Xa(o,a)-+as(o,a);return Math.round(t/No)+1}function Ve(e,a){const o=e<0?"-":"",t=Math.abs(e).toString().padStart(a,"0");return o+t}const xa={y(e,a){const o=e.getFullYear(),t=o>0?o:1-o;return Ve(a==="yy"?t%100:t,a.length)},M(e,a){const o=e.getMonth();return a==="M"?String(o+1):Ve(o+1,2)},d(e,a){return Ve(e.getDate(),a.length)},a(e,a){const o=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(e,a){return Ve(e.getHours()%12||12,a.length)},H(e,a){return Ve(e.getHours(),a.length)},m(e,a){return Ve(e.getMinutes(),a.length)},s(e,a){return Ve(e.getSeconds(),a.length)},S(e,a){const o=a.length,t=e.getMilliseconds(),n=Math.trunc(t*Math.pow(10,o-3));return Ve(n,a.length)}},Fa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qt={G:function(e,a,o){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})}},y:function(e,a,o){if(a==="yo"){const t=e.getFullYear(),n=t>0?t:1-t;return o.ordinalNumber(n,{unit:"year"})}return xa.y(e,a)},Y:function(e,a,o,t){const n=So(e,t),s=n>0?n:1-n;if(a==="YY"){const l=s%100;return Ve(l,2)}return a==="Yo"?o.ordinalNumber(s,{unit:"year"}):Ve(s,a.length)},R:function(e,a){const o=To(e);return Ve(o,a.length)},u:function(e,a){const o=e.getFullYear();return Ve(o,a.length)},Q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return Ve(t,2);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return Ve(t,2);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,o){const t=e.getMonth();switch(a){case"M":case"MM":return xa.M(e,a);case"Mo":return o.ordinalNumber(t+1,{unit:"month"});case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,o){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return Ve(t+1,2);case"Lo":return o.ordinalNumber(t+1,{unit:"month"});case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,o,t){const n=ts(e,t);return a==="wo"?o.ordinalNumber(n,{unit:"week"}):Ve(n,a.length)},I:function(e,a,o){const t=es(e);return a==="Io"?o.ordinalNumber(t,{unit:"week"}):Ve(t,a.length)},d:function(e,a,o){return a==="do"?o.ordinalNumber(e.getDate(),{unit:"date"}):xa.d(e,a)},D:function(e,a,o){const t=$n(e);return a==="Do"?o.ordinalNumber(t,{unit:"dayOfYear"}):Ve(t,a.length)},E:function(e,a,o){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,o,t){const n=e.getDay(),s=(n-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(s);case"ee":return Ve(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,o,t){const n=e.getDay(),s=(n-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(s);case"cc":return Ve(s,a.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,o){const t=e.getDay(),n=t===0?7:t;switch(a){case"i":return String(n);case"ii":return Ve(n,a.length);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return o.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(t,{width:"short",context:"formatting"});case"iiii":default:return o.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,o){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,o){const t=e.getHours();let n;switch(t===12?n=Fa.noon:t===0?n=Fa.midnight:n=t/12>=1?"pm":"am",a){case"b":case"bb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,o){const t=e.getHours();let n;switch(t>=17?n=Fa.evening:t>=12?n=Fa.afternoon:t>=4?n=Fa.morning:n=Fa.night,a){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,o){if(a==="ho"){let t=e.getHours()%12;return t===0&&(t=12),o.ordinalNumber(t,{unit:"hour"})}return xa.h(e,a)},H:function(e,a,o){return a==="Ho"?o.ordinalNumber(e.getHours(),{unit:"hour"}):xa.H(e,a)},K:function(e,a,o){const t=e.getHours()%12;return a==="Ko"?o.ordinalNumber(t,{unit:"hour"}):Ve(t,a.length)},k:function(e,a,o){let t=e.getHours();return t===0&&(t=24),a==="ko"?o.ordinalNumber(t,{unit:"hour"}):Ve(t,a.length)},m:function(e,a,o){return a==="mo"?o.ordinalNumber(e.getMinutes(),{unit:"minute"}):xa.m(e,a)},s:function(e,a,o){return a==="so"?o.ordinalNumber(e.getSeconds(),{unit:"second"}):xa.s(e,a)},S:function(e,a){return xa.S(e,a)},X:function(e,a,o){const t=e.getTimezoneOffset();if(t===0)return"Z";switch(a){case"X":return Gt(t);case"XXXX":case"XX":return Ia(t);case"XXXXX":case"XXX":default:return Ia(t,":")}},x:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"x":return Gt(t);case"xxxx":case"xx":return Ia(t);case"xxxxx":case"xxx":default:return Ia(t,":")}},O:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Xt(t,":");case"OOOO":default:return"GMT"+Ia(t,":")}},z:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Xt(t,":");case"zzzz":default:return"GMT"+Ia(t,":")}},t:function(e,a,o){const t=Math.trunc(e.getTime()/1e3);return Ve(t,a.length)},T:function(e,a,o){const t=e.getTime();return Ve(t,a.length)}};function Xt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.trunc(t/60),s=t%60;return s===0?o+String(n):o+String(n)+a+Ve(s,2)}function Gt(e,a){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):Ia(e,a)}function Ia(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Ve(Math.trunc(t/60),2),s=Ve(t%60,2);return o+n+a+s}const Jt=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Eo=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},os=(e,a)=>{const o=e.match(/(P+)(p+)?/)||[],t=o[1],n=o[2];if(!n)return Jt(e,a);let s;switch(t){case"P":s=a.dateTime({width:"short"});break;case"PP":s=a.dateTime({width:"medium"});break;case"PPP":s=a.dateTime({width:"long"});break;case"PPPP":default:s=a.dateTime({width:"full"});break}return s.replace("{{date}}",Jt(t,a)).replace("{{time}}",Eo(n,a))},ls={p:Eo,P:os},ns=/^D+$/,ss=/^Y+$/,is=["D","DD","YY","YYYY"];function rs(e){return ns.test(e)}function cs(e){return ss.test(e)}function ds(e,a,o){const t=us(e,a,o);if(console.warn(t),is.includes(e))throw new RangeError(t)}function us(e,a,o){const t=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ms=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fs=/^'([^]*?)'?$/,gs=/''/g,ps=/[a-zA-Z]/;function Zt(e,a,o){var b,x,X,k,v,g,h,C,G,Z,S,M,xe,de,he,be,Ce,oe;const t=st(),n=(x=(b=o==null?void 0:o.locale)!=null?b:t.locale)!=null?x:Kn,s=(Z=(G=(g=(v=o==null?void 0:o.firstWeekContainsDate)!=null?v:(k=(X=o==null?void 0:o.locale)==null?void 0:X.options)==null?void 0:k.firstWeekContainsDate)!=null?g:t.firstWeekContainsDate)!=null?G:(C=(h=t.locale)==null?void 0:h.options)==null?void 0:C.firstWeekContainsDate)!=null?Z:1,l=(oe=(Ce=(de=(xe=o==null?void 0:o.weekStartsOn)!=null?xe:(M=(S=o==null?void 0:o.locale)==null?void 0:S.options)==null?void 0:M.weekStartsOn)!=null?de:t.weekStartsOn)!=null?Ce:(be=(he=t.locale)==null?void 0:he.options)==null?void 0:be.weekStartsOn)!=null?oe:0,u=ma(e);if(!bn(u))throw new RangeError("Invalid time value");let f=a.match(hs).map(fe=>{const K=fe[0];if(K==="p"||K==="P"){const ne=ls[K];return ne(fe,n.formatLong)}return fe}).join("").match(ms).map(fe=>{if(fe==="''")return{isToken:!1,value:"'"};const K=fe[0];if(K==="'")return{isToken:!1,value:vs(fe)};if(Qt[K])return{isToken:!0,value:fe};if(K.match(ps))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return{isToken:!1,value:fe}});n.localize.preprocessor&&(f=n.localize.preprocessor(u,f));const E={firstWeekContainsDate:s,weekStartsOn:l,locale:n};return f.map(fe=>{if(!fe.isToken)return fe.value;const K=fe.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&cs(K)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&rs(K))&&ds(K,a,String(e));const ne=Qt[K[0]];return ne(u,K,n.localize,E)}).join("")}function vs(e){const a=e.match(fs);return a?a[1].replace(gs,"'"):e}const Kt=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),bs={setup(){let e=N(null),a=N(0),o=N(!0),t=N(0),n=N(0),s=N(null),l=N(0),u=0,f=0,E=0,b=0,x=0,X=0,k=0,v=0,g=0,h=0,C=0,G=0,Z=0,S=0,M=0,xe=0,de=0,he=0,be=0,Ce=0,oe=0,fe=0,K=N([]);const ne=N("idCotizacion"),De=N("desc"),qe=R(()=>Array.from({length:Et.value},(I,pa)=>pa+1)),D=N(0),Ne=N(!1),we=N(!1),w=N(null),ue=Array.from({length:10},(I,pa)=>pa+1),Y=N(!1),ie=N(0),Fe=N([]),q=N(null),y=N([]),T=N([]),W=N(1),H=N([]),Oe=N([]),U=N("Todos"),me=N(null),Re=[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"Pendiente"}],Ye=I=>Pa.value==="La Macarena"&&(ba.value==="Ca\xF1o Cristales"||ba.value==="Ca\xF1o Cristales Semana Receso"),Ie=()=>{H.value.push({index:H.value.length,accommodation:"",adults:1,adultAges:[null],childAge:null,isForeigner:[!1],valor:[null]}),T.value.push(!1)};na(()=>H.value.map(I=>I.adults),I=>{H.value.forEach((pa,Ba)=>{const $o=Array.from({length:I[Ba]},()=>null),el=Array.from({length:I[Ba]},()=>!1);pa.adultAges.splice(0,pa.adultAges.length,...$o),pa.isForeigner.splice(0,pa.isForeigner.length,...el)})},{deep:!0});const Ge=I=>I?[...I.adultAges]:[],Te=()=>{H.value=[];for(let I=0;I<W.value;I++)H.value.push({index:I,accommodation:null,adultAges:[null],childAge:null,isForeigner:[!1]})},Ze=I=>Pa.value==="La Macarena"&&(ba.value==="Ca\xF1o Cristales"||ba.value==="Ca\xF1o Cristales Semana Receso");Te();const Ke=()=>{console.log("N\xFAmero de habitaciones cambiado:",W.value),Te()},pe=N([]),je=N({}),$e=async()=>{try{const I=await te.get("https://backmultidestinos.onrender.com/cotizacion");pe.value=I.data,await ke(),J(),ge()}catch(I){console.error("Error fetching cotizacion data:",I)}},ke=async()=>{try{(await te.get("https://backmultidestinos.onrender.com/user/")).data.forEach(Ba=>{je.value[Ba.id]=Ba.nombreCompleto})}catch(I){console.error("Error fetching user data:",I)}},J=()=>{pe.value.forEach(I=>{I.CreadorCotizacion=je.value[I.CreadorCotizacion],I.fechaCreacion=re(I.fechaCreacion),I.fechaInicio=re(I.fechaInicio),I.fechaFin=re(I.fechaFin)})},ge=()=>{pe.value.forEach(I=>{I.precioBrutoTotal=Kt(Number(I.precioBrutoTotal)),I.totalPrecioCliente=Kt(Number(I.totalPrecioCliente))})},re=I=>Zt(new Date(I),"yyyy-MM-dd"),Q=N(!1),j=N(null),Ae=N(null),_=N(null),z=N(null),ia=N(null),ee=N(null),We=N(null),ea=N(null),He=N(null),Qe=N(null),Xe=N(""),ua=N(""),ye=N(""),Me=N(""),ve=N(""),Pe=N(""),Ue=N(""),Se=N(""),Be=N(""),aa=N(""),ra=N(""),ha=N(""),ga=N(""),r=N(""),i=N(""),c=N(""),p=N(""),V=N(""),L=N(""),A=N(""),B=N("tab1"),$=()=>{if(B.value==="tab1"){if(!da.value[0]||!da.value[1]){mt.create({message:"Por favor ingrese una fecha de inicio y una fecha de fin.",color:"negative"});return}if(!Pa.value||!Ua.value){mt.create({message:"Por favor seleccione un destino y un cliente.",color:"negative"});return}if(H.value.length===0||H.value.some(I=>!I.roomType||!I.adults||!I.accommodation)){mt.create({message:"Por favor complete la informaci\xF3n de al menos una habitaci\xF3n.",color:"negative"});return}B.value="tab2"}},ze=()=>{B.value==="tab2"&&(B.value="tab1")},ca=new Date,Je=N(""),ta=ca.toISOString().split("T")[0],da=N([ta,ta]),Ma=I=>{da.value[1]<I&&(da.value[1]=I)},Aa=[I=>ca<=new Date(I)||"La fecha de inicio no puede ser anterior a hoy"],Ha=[I=>I>=da.value[0]||"La fecha de fin no puede ser anterior a la fecha de inicio"],xo=N(!1),wo=N(""),Ao=N(!1),Po=N(""),St=N(null),_o=Pl(),qo=N(!1),Do=N(!1),Oo=N(["C.C","T.I","Pasaporte"]),Io=N(["Bogota","Cali","Medellin","Porcion Terrestre","San Andres"]),ko=N([]),Mo=N([]),zo=N([]),Lo=N([]),Fo=N([]),Ro=N(["1","2","3","4","5","6","7","8","9","10","11","12","13"]);let jo=[],Ho=null;const Uo=N(["1","2","3","4","5","6","7","8","9"]),Bo=N([]),Yo=N([]),Wo=N([]),Qo=N([]),Xo=N(["Satena","Avianca","Latam","JetSmart","Clic"]),it=N(""),Pa=N(""),ba=N(""),Za=N(""),Ka=N(""),Go=N(""),$a=N(""),et=N(""),at=N(""),Ua=N(""),rt=N(!1),ct=N(null),Et=N(null),Jo=N([]),Zo=N(!1),Ko=N(null);return Ct(()=>{console.log("Intentando recuperar los datos del usuario del almacenamiento local..."),$e(),Te();const I=dt.getItem("userData");console.log("Datos del usuario recuperados:",I),I?St.value=I:(console.log("No se encontraron datos de usuario en el almacenamiento local. Redirigiendo a la p\xE1gina de inicio de sesi\xF3n..."),_o.push("/login"))}),{tieneTelefono:xo,telefono:wo,tieneNumero:Ao,correoPasajero:Po,filterStatus:me,statusOptions:Re,selectedUser:e,matchingPrograms:K,autofillingProgramName:o,transferInOut:s,transferInOutValue:l,numExtraValues:a,extraValue1:t,extraValue2:n,opcionesTipoDocumento:Oo,mostrarModalPasajeros:Y,totalPasajero:ie,pasajeros:Fe,cotizacionSeleccionada:q,sortBy:ne,sortOrder:De,selectedFilter:U,cormacarena5a11Personas:f,cormacarena12a65Personas:b,cormacarenaExtranjeroPersonas:X,pqsNaturales5a24Personas:v,pqsNaturales25a65Personas:h,pqsNaturalesExtranjeroPersonas:G,alcaldiaNacionalPersonas:S,alcaldiaExtranjeroPersonas:xe,defensaCivilPersonas:he,cormacarena5a11Total:u,cormacarena12a65Total:E,cormacarenaExtranjeroTotal:x,pqsNaturales5a24Total:k,pqsNaturales25a65Total:g,pqsNaturalesExtranjeroTotal:C,alcaldiaNacionalTotal:Z,alcaldiaExtranjeroTotal:M,defensaCivilTotal:de,totalImpuestos:Ce,adultAgesComputed:Ge,mostrarCamposEdad:Ze,showAgeInputs:Ye,nochesOptionsRaw:Oe,peopleArray:qe,numberOfPeople:Et,supplementValues:Jo,idCotizacion:ua,archivoSeleccionado:Ko,mostrarDialogo:Zo,ultimaCotizacionDescargada:Ho,correo:Je,OptionCorreo:Qo,cotizacionCounter:D,sumaTotalDescuento:fe,sumaTotalAcomodacion:be,sumaValorBrutohab:oe,habitacionesDatos:jo,additionalNightSelected:Ne,asesorExternoCheck:we,additionalNightCount:w,handleNumRoomsChange:Ke,roomOptions:ue,addRoom:Ie,hasChildren:T,numRooms:W,rooms:H,updateAccommodationOptions:Te,cotizacionData:pe,usersMap:je,formatDate:I=>Zt(new Date(I),"yyyy-MM-dd"),columns:[{name:"status",label:"Status",align:"left",field:"status"},{name:"idCotizacion",label:"Id-cotizaci\xF3n",align:"left",field:"idCotizacion"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",align:"left",field:"fechaCreacion"},{name:"CreadorCotizacion",label:"Usuario que la Cre\xF3",align:"left",field:"CreadorCotizacion"},{name:"cliente",label:"Cliente",align:"left",field:"cliente"},{name:"precioBrutoTotal",label:"precio Bruto",align:"left",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Valor Total con Descuento",align:"left",field:"totalPrecioCliente"},{name:"totalAdultos",label:"Adultos",align:"left",field:"totalAdultos"},{name:"totalNinos",label:"Ni\xF1os",align:"left",field:"totalNinos"},{name:"fechaInicio",label:"Fecha de Inicio",align:"left",field:"fechaInicio"},{name:"fechaFin",label:"Fecha de Fin",align:"left",field:"fechaFin"},{name:"salida",label:"Salida",align:"left",field:"salida"},{name:"destino",label:"Destino",align:"left",field:"destino"},{name:"hotel",label:"Hotel",align:"left",field:"hotel"},{name:"cotizacion",label:"Cotizacion",align:"left",field:"cotizacion",format:I=>""}],mostrarEscalas:Q,aerolineaEscalaIda:j,vueloEscalaIda:Ae,horaLlegadaEscalaIda:_,horaSalidaEscalaIda:z,claseEscalaIda:ia,aerolineaEscalaVuelta:ee,vueloEscalaVuelta:We,horaLlegadaEscalaVuelta:ea,horaSalidaEscalaVuelta:He,claseEscalaVuelta:Qe,aerolineaValue1:Xe,vueloValue1:ye,horaLlegadaValue1:Me,horaSalidaValue1:ve,claseValue1:Pe,aerolineaValue2:Ue,vueloValue2:Se,horaLlegadaValue2:Be,horaSalidaValue2:aa,claseValue2:ra,Combus:ha,Tasa:ga,Iva:r,Ta:i,IvaTa:c,Otros:p,precioTransp:V,textoIncluye:L,textoNoIncluye:A,startDateRules:Aa,activeTab:B,goNext:$,goBack:ze,params:{hotel:"",nombrePrograma:"",destino:""},paramsH:{hotel:"",destino:"",noches:"",pertenece:""},paramsN:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:""},paramsTransporte:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:"",tipoHabitacion:""},userData:St,modalVisible:qo,modalVisiblePersonalizado:Do,departureOptions:Io,destinationOptions:ko,programNameOptions:Mo,hotelOptions:zo,nochesOptions:Lo,planOptions:Fo,adultsOptions:Ro,childrenOptions:Uo,aerolineaOptions:Xo,accommodationOptions:Bo,roomTypeOptions:Yo,selectedDeparture:it,destination:Pa,programName:ba,hotel:Za,noche:Ka,plan:Go,adults:$a,children:y,accommodation:et,roomType:at,clientOptions:Wo,selectedClient:Ua,clearFields:()=>{it.value="",Pa.value="",ba.value="",Za.value="",Ka.value="",$a.value="",y.value="",et.value="",at.value="",Ua.value="",s.value="",l.value="",t.value="",n.value="",a.value=0,H.value.forEach(I=>{I.roomType="",I.adults="",I.hasChildren=!1,I.numChildren="",I.accommodation=""}),Xe.value="",ye.value="",ve.value="",Me.value="",Pe.value="",Ue.value="",Se.value="",aa.value="",Be.value="",ra.value="",rt.value=!1,ct.value=""},clearFieldsc:()=>{Pa.value="",ba.value="",Za.value="",Ka.value="",$a.value="",y.value="",et.value="",at.value="",Ua.value="",Je.value=""},clearFieldsPersonalizado:()=>{it.value="",Pa.value="",ba.value="",Za.value="",Ka.value="",$a.value="",y.value="",et.value="",at.value="",Ua.value="",H.value.forEach(I=>{I.roomType="",I.adults="",I.hasChildren=!1,I.numChildren="",I.accommodation="",I.valor=""}),Xe.value="",ye.value="",ve.value="",Me.value="",Pe.value="",Ue.value="",Se.value="",aa.value="",Be.value="",ra.value="",rt.value=!1,ct.value="",ha.value="",ga.value="",r.value="",i.value="",c.value="",p.value="",V.value="",L.value="",A.value=""},supplementChecked:rt,supplementValue:ct,dateRange:da,adjustEndDate:Ma,endDateRules:Ha,totalAdultos:0,totalNi\u00F1os:0}},watch:{selectedDeparture:"fetchProgramName",destination:"fetchProgramName",noche:"fetchProgramName",hotel:"fetchProgramName",dateRange:"fetchProgramName",hotel(){this.fetchOptions()},horaLlegadaValue1(e){this.validarHora(e,this.horaSalidaValue1)},horaLlegadaValue2(e){this.validarHora(e,this.horaSalidaValue2)}},mounted(){this.dataUsuario()},methods:{async dataUsuario(){const e="https://backmultidestinos.onrender.com/user/";te.get(e).then(a=>{const t=a.data.filter(n=>n.rol==="Asesor");this.dropdownOptions=t.map(n=>({label:n.nombreCompleto,value:n.id}))}).catch(a=>{console.error("Error al obtener los datos de usuario:",a)})},getStatusColor(e){switch(e){case"Pendiente":return"orange";case"Aprobado":return"green";case"Finalizado":return"red";default:return"grey"}},async fetchProgramName(){console.log("Iniciando fetchProgramName..."),this.autofillingProgramName=!0;try{console.log("Enviando datos al servidor:",this.paramsH),console.log("thhotel",this.hotel),this.paramsH.hotel=this.hotel,this.paramsH.destino=this.destination,this.paramsH.noches=this.noche.label,this.paramsH.pertenece=this.selectedDeparture,console.log("Enviando datos al servidor:",this.paramsH);const e=await te.post("https://backmultidestinos.onrender.com/hoteles/buscarH",this.paramsH);console.log("Respuesta del servidor sobre el programa:",e),this.programNameOptions=e.data,console.log("Opciones de nombre de programa:",this.programNameOptions);let a=this.programNameOptions.filter(l=>{const u=l.FechaInicio!==null&&l.FechaFin!==null;return console.log(`Programa ${l.nombrePrograma} tiene fechas v\xE1lidas: ${u}`),u});console.log("Programas con fechas v\xE1lidas:",a);let o=new Date(this.dateRange[0]),t=new Date(this.dateRange[1]);if(console.log("Fecha de inicio seleccionada:",o),console.log("Fecha de fin seleccionada:",t),isNaN(o)||isNaN(t)){console.error("Error: Fecha inv\xE1lida en dateRange."),this.$q.notify({message:"Error: Fecha inv\xE1lida seleccionada.",color:"negative"});return}o.setHours(0,0,0,0),t.setHours(0,0,0,0),a=a.filter(l=>{let u=new Date(l.FechaInicio),f=new Date(l.FechaFin);if(isNaN(u)||isNaN(f))return console.error(`Error: Fecha inv\xE1lida en el programa ${l.nombrePrograma}.`),!1;u.setHours(0,0,0,0),f.setHours(0,0,0,0),console.log("Fecha de inicio del programa:",u),console.log("Fecha de fin del programa:",f);const E=u<=t&&f>=o;return console.log(`Programa ${l.nombrePrograma} coincide con las fechas: ${E}`),E}),console.log("Programas que coinciden con las fechas:",a),a=a.filter((l,u,f)=>u===f.findIndex(E=>E.nombrePrograma===l.nombrePrograma)),console.log("Programas coincidentes (sin duplicados y con fechas v\xE1lidas):",a[0]),this.matchingPrograms=a,this.matchingPrograms.length===1?(this.programName=this.matchingPrograms[0].nombrePrograma,console.log("Nombre del programa seleccionado:",this.programName)):this.matchingPrograms.length>1?(this.matchingProgramOptions=this.matchingPrograms.map(l=>l.nombrePrograma),console.log("Opciones de programas coincidentes:",this.matchingProgramOptions)):(this.programName=null,console.log("No hay programas coincidentes."));const n=e.data.map(l=>l.tipoHabitacion),s=[...new Set(n)];console.log("Tipos de habitaci\xF3n \xFAnicos:",s),this.roomTypeOptions=s}catch(e){console.error("Error al obtener nombres de programa:",e)}finally{this.autofillingProgramName=!1}},validarHora(e,a){e&&a&&e<a&&this.$q.notify({message:"La hora de llegada no puede ser anterior a la hora de salida.",color:"negative",position:"top",timeout:2e3})},procesarLiquidacion(){this.cerrarModalPasajeros();const e=this.cotizacionSeleccionada.idCotizacion;te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`).then(a=>{const o=a.data;console.log("Datos de la cotizaci\xF3n desde la API:",o);const t={idCotizacion:this.cotizacionSeleccionada.idCotizacion,salida:this.cotizacionSeleccionada.salida,destino:this.cotizacionSeleccionada.destino,nombrePrograma:this.cotizacionSeleccionada.nombrePrograma,plan:this.cotizacionSeleccionada.plan,hotel:this.cotizacionSeleccionada.hotel,totalAdultos:this.cotizacionSeleccionada.totalAdultos,totalNinos:this.cotizacionSeleccionada.totalNinos,totalPasajeros:this.cotizacionSeleccionada.totalPasajeros,precioBrutoTotal:this.cotizacionSeleccionada.precioBrutoTotal.replace(/[^\d.-]/g,""),valorDescuento:this.cotizacionSeleccionada.valorDescuento,ivaValor:this.cotizacionSeleccionada.ivaValor,rteFuente:this.cotizacionSeleccionada.rteFuente,rteIca:this.cotizacionSeleccionada.rteIca,totalComision:this.cotizacionSeleccionada.totalComision,totalPrecioCliente:this.cotizacionSeleccionada.totalPrecioCliente.replace(/[^\d.-]/g,""),combus:this.cotizacionSeleccionada.combus,tasa:this.cotizacionSeleccionada.tasa,iva:this.cotizacionSeleccionada.iva,ta:this.cotizacionSeleccionada.ta,ivaTa:this.cotizacionSeleccionada.ivaTa,otros:this.cotizacionSeleccionada.otros,suplemento:this.cotizacionSeleccionada.suplemento,precioTrans:this.cotizacionSeleccionada.precioTrans,noches:this.cotizacionSeleccionada.noches,notas:this.cotizacionSeleccionada.notas,cliente:this.cotizacionSeleccionada.cliente,clientePorcentaje:this.cotizacionSeleccionada.clientePorcentaje,nochesAdicionales:this.cotizacionSeleccionada.nochesAdicionales,CreadorCotizacion:this.cotizacionSeleccionada.CreadorCotizacion,fechaCreacion:this.cotizacionSeleccionada.fechaCreacion,aerolineaIda:this.cotizacionSeleccionada.aerolineaIda,vueloIda:this.cotizacionSeleccionada.vueloIda,horaLlegadaIda:this.cotizacionSeleccionada.horaLlegadaIda,horaSalidaIda:this.cotizacionSeleccionada.horaSalidaIda,claseIda:this.cotizacionSeleccionada.claseIda,fechaInicio:this.cotizacionSeleccionada.fechaInicio,aerolineaVuelta:this.cotizacionSeleccionada.aerolineaVuelta,vueloVuelta:this.cotizacionSeleccionada.vueloVuelta,horaLlegadaVuelta:this.cotizacionSeleccionada.horaLlegadaVuelta,horaSalidaVuelta:this.cotizacionSeleccionada.horaSalidaVuelta,claseVuelta:this.cotizacionSeleccionada.claseVuelta,fechaFin:this.cotizacionSeleccionada.fechaFin,correo:this.cotizacionSeleccionada.correo,impuestosLiq:o[0].tieneImpuestos,extra:this.cotizacionSeleccionada.extra,transfer:this.cotizacionSeleccionada.transfer,incluye:this.cotizacionSeleccionada.incluye,noIncluye:this.cotizacionSeleccionada.noIncluye,status:"Pendiente",telefono:this.telefono||null,correoPasajero:this.correoPasajero||null};te.post("https://backmultidestinos.onrender.com/liquidacion",t).then(n=>{const s=n.data.idLiquidacion;if(o[0].tieneImpuestos){const u={idLiquidacion:s,defensaCivil:o[0].defensaCivil_Total,cormacarena5a11:o[0].cormacarena5a11_Total,cormacarena12a65:o[0].cormacarena12a65_Total,cormacarenaExtranjero:o[0].cormacarenaExtranjero_Total,pqsNaturales5a24:o[0].pqsNaturales5a24_Total,pqsNaturales25a65:o[0].pqsNaturales25a65_Total,pqsNaturalesExtranjero:o[0].pqsNaturalesExtranjero_Total,alcaldiaNacional:o[0].alcaldiaNacional_Total,alcaldiaExtranjero:o[0].alcaldiaExtranjero_Total,cormacarena5a11Personas:o[0].cormacarena5a11_numeroPersonas,cormacarena12a65Personas:o[0].cormacarena12a65_numeroPersonas,cormacarenaExtranjeroPersonas:o[0].cormacarenaExtranjero_numeroPersonas,pqsNaturales5a24Personas:o[0].pqsNaturales5a24_numeroPersonas,pqsNaturales25a65Personas:o[0].pqsNaturales25a65_numeroPersonas,pqsNaturalesExtranjeroPersonas:o[0].pqsNaturalesExtranjero_numeroPersonas,alcaldiaNacionalPersonas:o[0].alcaldiaNacional_numeroPersonas,alcaldiaExtranjeroPersonas:o[0].alcaldiaExtranjero_numeroPersonas,defensaCivilPersonas:o[0].defensaCivil_numeroPersonas};te.post("https://backmultidestinos.onrender.com/impuestosLiq",u).then(()=>{console.log("Impuestos creados exitosamente")}).catch(f=>{console.error("Error al crear los impuestos:",f)})}const l=this.pasajeros.map(u=>(u.idLiquidacion=s,te.post("https://backmultidestinos.onrender.com/pasajero",u)));Promise.all(l).then(()=>{console.log("Liquidaci\xF3n y pasajeros creados exitosamente"),te.post(`https://backmultidestinos.onrender.com/cotizacion/${e}`,{status:"Aprobado"}).then(()=>{console.log("Cotizaci\xF3n actualizada a 'Aprobado'")}).catch(u=>{console.error("Error al actualizar la cotizaci\xF3n:",u)})}).catch(u=>{console.error("Error al crear los pasajeros:",u)})}).catch(n=>{console.error("Error al crear la liquidaci\xF3n:",n)})}).catch(a=>{console.error("Error al obtener datos de la cotizaci\xF3n:",a)})},abrirModalPasajeros(e){this.cotizacionSeleccionada=e,this.totalPasajeros=e.totalPasajeros,this.pasajeros=[];for(let a=0;a<this.totalPasajeros;a++)this.pasajeros.push({nombre:"",tipoDocumento:"",numeroDocumento:"",fechaNacimiento:""});this.tieneTelefono=!1,this.telefono="",this.tieneNumero=!1,this.correoPasajero="",this.mostrarModalPasajeros=!0},cerrarModalPasajeros(){this.mostrarModalPasajeros=!1},async pasarALiquidacion(){console.log("Pasando cotizaci\xF3n a liquidaci\xF3n:",cotizacion)},filteredCotizacionData(){const e=this.selectedFilter,a=[...this.cotizacionData];return a.sort((o,t)=>{const n=o.idCotizacion,s=t.idCotizacion;if(n.includes("-C")&&!s.includes("-C"))return-1;if(!n.includes("-C")&&s.includes("-C"))return 1;const l=n.startsWith("COT-C")?parseInt(n.split("-C")[1],10):0,u=s.startsWith("COT-C")?parseInt(s.split("-C")[1],10):0;if(n.startsWith("COT-C")&&s.startsWith("COT-C"))return u-l;if(n.startsWith("COT-")&&s.startsWith("COT-")){const f=parseInt(n.split("-")[1],10);return parseInt(s.split("-")[1],10)-f}return 0}),a.filter(o=>{const t=e==="Todos"||e==="Cot-C"&&o.idCotizacion.includes("-C")||e==="Cot"&&!o.idCotizacion.includes("-C"),n=this.filterStatus===null||o.status===this.filterStatus;return t&&n})},customSort(e,a,o){const t=[...e];return a==="idCotizacion"?t.sort((n,s)=>{const[l,u]=n[a].split("-"),[f,E]=s[a].split("-");return l==="COT-"&&f==="COT-"?o?E-u:u-E:0}):a==="fechaCreacion"?t.sort((n,s)=>{const l=new Date(n[a]),u=new Date(s[a]);return o?u-l:l-u}):t.sort((n,s)=>{const l=o?s:n,u=o?n:s;return l[a]>u[a]?1:l[a]<u[a]?-1:0}),t},descargarCotizacionN(e){e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)},shouldHideAdditionalNightSection(){return this.destination==="Bah\xEDa Solano"&&this.programName==="Temporada Baja"&&this.hotel==="El Almejal Ecolodge"},mostrarDialogoSeleccionArchivo(){this.mostrarDialogo=!0},seleccionarArchivo(e){this.archivoSeleccionado=e.target.files[0]},async enviarCotizacion(e){try{const a=await(e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download=`cotizacion_${e.cliente}.pdf`,o.style.display="none",document.body.appendChild(o),o.click(),await new Promise(n=>setTimeout(n,1e3));const t=`mailto:${e.correo}?subject=Cotizaci\xF3n para ${e.cliente}&body=Estimado(a) ${e.cliente},%0D%0A%0D%0AAdjuntamos su cotizaci\xF3n (reci\xE9n descargada).%0D%0A%0D%0ASaludos cordiales,`;window.location.href=t,setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},1e3),this.$q.notify({message:"Abriendo cliente de correo...",color:"info"})}catch(a){console.error(a),this.$q.notify({message:"Error al enviar la cotizaci\xF3n",color:"negative"})}},checkPageOverflow(e,a,o,t=10){const n=e.internal.pageSize.height;return a+o>n-t?(e.addPage(),margins.top):a},async descargarCotizacionCano(e){try{let ie=function(i){return i.map(c=>{const p=c.adultos,V=c.ni\u00F1os,L=`1x${p}`;return V>0?`${L} CHD`:L}).join(", ")},z=function(i){for(let c=0;c<=6;c++){const p=C.left+c*_;h.line(p,i,p,i+j)}h.line(C.left,i,G-C.right,i),h.line(C.left,i+j,G-C.right,i+j)};const[a,o,t]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const n=o.data[0],s=t.data[0];console.log("impuesto",s);const l=a.data;console.log("habitacion",l);const u=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${n.cliente}`);console.log("clienteResponse",u);const f=u.data[0];console.log("clienteData",f);const E=f.tipoBase,b=await te.get(`https://backmultidestinos.onrender.com/user/${n.CreadorCotizacion}`),x=b.Data;console.log("vendedor",b.data.nombreCompleto);const X={hotel:n.hotel,nombrePrograma:n.nombrePrograma,destino:n.destino},k=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",X),v=k.data[0].incluye,g=k.data[0].noIncluye,h=new kt,C={top:15,bottom:10,left:15,right:15},G=h.internal.pageSize.width,Z=h.internal.pageSize.height,S=50,M={left:15,right:15,top:10,bottom:10},xe=await new Promise((i,c)=>{const p=new Image;p.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",p.onload=()=>i(p),p.onerror=c}),de=xe.width/xe.height,he=G/4-M.left-M.right,be=Math.min(120,he),Ce=be/de,oe=C.top+(S-Ce)/2,fe=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,K=`Numero de cotizaci\xF3n: ${e}`;h.addImage(xe,"PNG",C.left+M.left,oe,be,Ce);const ne=G-C.left-C.right-be-M.left-M.right-20;h.setFontSize(10),h.setFont("Helvetica","normal"),h.text(h.splitTextToSize(fe,ne),C.left+be+M.left+M.right,C.top+15);const De=G-C.right-h.getTextWidth(K)-M.right;h.setFontSize(14),h.setFont("Helvetica-Bold"),h.text(K,De,C.top+15),h.setDrawColor(0),h.setLineWidth(.5),h.roundedRect(C.left,C.top,G-C.left-C.right,S,10,10,"S"),h.setFillColor(51,102,204),h.rect(C.left,C.top,G-C.left-C.right,S,"F"),h.setFontSize(10);const qe=C.top+S+10;h.setFontSize(10),h.text("SOLICITUD DE RESERVA:",C.left,qe-4),h.setFontSize(8);const D=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],Ne=[new Date(n.fechaCreacion).toLocaleDateString(),n.cliente.toString(),f.telefono?f.telefono.toString():"N/A",f.nit?f.nit.toString():"N/A",f.nit?f.nit.toString():"N/A",b.data.nombreCompleto?b.data.nombreCompleto.toString():"N/A"],we=6,w=(G-C.left-C.right)/we;let ue=C.left,Y=qe;for(let i=0;i<D.length;i++){h.text(D[i],ue,Y);const c=Ne[i]!==void 0?Ne[i]:"N/A",p=h.splitTextToSize(c,w-2);h.text(p,ue,Y+5),ue+=w,((i+1)%we===0||i===D.length-1)&&(Y+=15,ue=C.left)}const Fe=ie(l),q=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],y=[n.noches?n.noches.toString():"N/A",n.hotel?n.hotel.toString():"N/A",n.plan?n.plan.toString():"N/A",n.destino?n.destino.toString():"N/A",n.direccion?n.direccion.toString():"N/A",Fe.toString()];console.log("campso2",y);const T=6,W=(G-C.left-C.right)/T;Y+=1;for(let i=0;i<q.length;i++){h.text(q[i],ue,Y);const c=y[i]!==void 0?y[i]:"N/A",p=h.splitTextToSize(c,W-2);h.text(p,ue,Y+5),ue+=W}Y+=1,h.setFontSize(10),h.text("ITINERARIO: ",C.left,Y+12),Y+=20;const H=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],Oe=[[n.aerolineaIda||"N/A",n.vueloIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta1||"N/A",n.claseIda||"N/A",n.horaSalidaIda||"N/A",n.horaLlegadaIda||"N/A",n.recordIda||"N/A"]];n.aerolineaEscalaIda!=null&&(Oe.push([n.aerolineaEscalaIda||"N/A",n.vueloEscalaIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",n.claseEscalaIda||"N/A",n.horaSalidaEscalaIda||"N/A",n.horaLlegadaEscalaIda||"N/A",""]),Oe.push([n.aerolineaEscalaVuelta||"N/A",n.vueloEscalaVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",n.claseEscalaVuelta||"N/A",n.horaSalidaEscalaVuelta||"N/A",n.horaLlegadaEscalaVuelta||"N/A",""])),Oe.push([n.aerolineaVuelta||"N/A",n.vueloVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta2||"N/A",n.claseVuelta||"N/A",n.horaSalidaVuelta||"N/A",n.horaLlegadaVuelta||"N/A",n.recordVuelta||"N/A"]);const U=(G-C.left-C.right)/H.length,me=G-C.left-C.right,Re=10+8*Oe.length;h.rect(C.left,Y,me,Re,"S"),h.setFontSize(8),H.forEach((i,c)=>{h.text(i,C.left+c*U,Y+5)}),Y+=10,Oe.forEach((i,c)=>{i.forEach((p,V)=>{h.text(p,C.left+V*U,Y+c*8)})}),Y+=Re+5;const Ye="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Ie=Y-10,Ge=30;h.setDrawColor(0),h.rect(C.left,Ie,G-C.left-C.right,Ge),h.setFontSize(12),h.text("OBSERVACIONES:",C.left+2,Ie+6),h.setFontSize(10),h.text(Ye,C.left+2,Ie+15,{maxWidth:G-C.left-C.right-4});let Te=6;const Ze=Y+25,Ke=v.split("\xBF"),pe=6,je=5;let $e=0;Ke.forEach(i=>{$e+=h.getTextDimensions(i.trim(),{fontSize:8,maxWidth:G-C.left-C.right-4}).h});const ke=$e+pe+je+10;h.setDrawColor(0),h.rect(C.left,Ze,G-C.left-C.right,ke),h.setFontSize(12),h.text("INCLUYE:",C.left+2,Ze+6),h.setFontSize(8);let J=Ze+pe+je;Ke.forEach(i=>{h.text(i.trim(),C.left+2,J,{maxWidth:G-C.left-C.right-4}),J+=h.getTextDimensions(i.trim(),{fontSize:8,maxWidth:G-C.left-C.right-4}).h}),h.addPage(),Y=C.top;const ge=12;h.setFontSize(10),h.text("LIQUIDACI\xD3N:",C.left,Y),Y+=5;const re=Y+5,Q=2,j=6,_=(G-C.left-C.right)/6;h.setDrawColor(0);let ia=0;h.setFontSize(7);let ee=0;l.forEach(i=>{const c=re+ee*j;z(c);const p=`Valor adul ${i.acomodacion}`;h.text(p,C.left+Q,c+j/2,{baseline:"middle"});const V=Math.round(i.precioComisionableAdulto);h.text(V.toString(),C.left+_+Q,c+j/2,{baseline:"middle"});const L=i.adultos;h.text(L.toString(),C.left+2*_+Q,c+j/2,{baseline:"middle"});const A=Math.round(i.precioComisionableAdulto*i.adultos);if(h.text(A.toString(),C.left+3*_+Q,c+j/2,{baseline:"middle"}),ee===0){h.setFontSize(6);const $=E==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";h.text($,C.left+4*_+Q,c+j/2,{baseline:"middle"}),h.setFontSize(7)}let B=A;if(i.ni\u00F1os>0&&(B+=Math.round(i.precioComisionableNino*i.ni\u00F1os)),ia+=B,ee++,i.ni\u00F1os>0){const $=re+ee*j;z($);const ze=`Valor child ${i.acomodacion}`;h.text(ze,C.left+Q,$+j/2,{baseline:"middle"});const ca=Math.round(i.precioComisionableNino);h.text(ca.toString(),C.left+_+Q,$+j/2,{baseline:"middle"});const Je=i.ni\u00F1os;h.text(Je.toString(),C.left+2*_+Q,$+j/2,{baseline:"middle"});const ta=Math.round(i.precioComisionableNino*i.ni\u00F1os);h.text(ta.toString(),C.left+3*_+Q,$+j/2,{baseline:"middle"}),ee++}}),h.text(ia.toString(),C.left+5*_+Q,re+j/2,{baseline:"middle"}),Y=re+ee*j+10;const We=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],ea=[n.otros,n.combus,n.iva,n.tasa,n.ta,n.ivaTa,s.defensaCivil_Total,s.alcaldiaNacional_Total,s.alcaldiaExtranjero_Total,s.pqsNaturalesExtranjero_Total,s.pqsNaturales25a65_Total,s.pqsNaturales5a24_Total,s.cormacarenaExtranjero_Total,s.cormacarena5a11_Total,s.cormacarena12a65_Total,n.precioTrans],He=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],Qe={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(n.suplemento>0&&(We.push("SUPLEMENTO"),ea.push(n.suplemento)),n.extra1)if(n.extra1.includes("*")){let i=n.extra1.split("*"),c=i[0],p=i[1];We.push("Valor Extra","Valor Extra2"),ea.push(c,p)}else{let i=n.extra1;We.push("Valor Extra"),ea.push(i)}We.forEach((i,c)=>{const p=Y+c*j;z(p);const V=Qe[i]||i;h.text(V,C.left+Q,p+j/2,{baseline:"middle"});const L=n.totalPasajeros,A=ea[c]||0;let B="";if(He.includes(i)){const Je=`${i}_numeroPersonas`,ta=s[Je]||0;B=ta!==0?Math.trunc(A/ta):""}else B=L!==0?Math.trunc(A/L):"";h.text(B.toString(),C.left+_+Q,p+j/2,{baseline:"middle"});const $=L!==0?Math.trunc(L).toString():"";let ze="";if(He.includes(i)){const Je=`${i}_numeroPersonas`;ze=s[Je]||""}else ze=$;h.text(ze,C.left+2*_+Q,p+j/2,{baseline:"middle"});const ca=A!==0?Math.trunc(A).toString():"";if(h.text(ca,C.left+3*_+Q,p+j/2,{baseline:"middle"}),i==="Q"){h.text("Porcentaje",C.left+4*_+Q,p+j/2,{baseline:"middle"});const Je=n.clientePorcentaje||0,ta=Math.trunc(Je).toString()+"%";h.text(ta,C.left+5*_+Q,p+j/2,{baseline:"middle"})}else if(i==="YS"){h.text("Valor Descuento",C.left+4*_+Q,p+j/2,{baseline:"middle"});const Je=n.valorDescuento||0,ta=Math.trunc(Je).toString();h.text(ta,C.left+5*_+Q,p+j/2,{baseline:"middle"}),E==="Comisi\xF3n"&&[{label:`IVA(${f.porcentajeIva}%) (-)`,value:n.ivaValor},{label:`RTE FUENTE(${f.rteFuente}%) (+)`,value:n.rteFuente},{label:`RTE ICA(${f.rteIca}%) (+)`,value:n.rteIca},{label:"Total Comisi\xF3n",value:n.totalComision}].forEach((Ma,Aa)=>{const Ha=p+(Aa+1)*j;z(Ha),h.text(Ma.label,C.left+4*_+Q,Ha+j/2,{baseline:"middle"}),h.text(Ma.value.toString(),C.left+5*_+Q,Ha+j/2,{baseline:"middle"})})}}),Y+=We.length*j,l.forEach(i=>{if(i.adultos>0){const c=Y;z(c),h.text(`Valor total Adt ${i.acomodacion}`,C.left+Q,c+j/2,{baseline:"middle"});const p=i.precioHabitacionAdulto||0,V=Ca(p).format("$0,0");h.text(V,C.left+3*_+Q,c+j/2,{baseline:"middle"}),Y+=j}if(i.ni\u00F1os>0){const c=Y;z(c),h.text(`Valor total Chd ${i.acomodacion}`,C.left+Q,c+j/2,{baseline:"middle"});const p=i.precioHabitacionNino||0,V=Ca(p).format("$0,0");h.text(V,C.left+3*_+Q,c+j/2,{baseline:"middle"}),Y+=j}}),h.setFontSize(8),Y+=j,z(Y),h.text("Valor total",C.left+Q,Y+j/2,{baseline:"middle"});const Xe=n.precioBrutoTotal||0,ua=Ca(Xe).format("$0,0");h.text(ua,C.left+3*_+Q,Y+j/2,{baseline:"middle"}),h.text("Precio a pagar",C.left+4*_+Q,Y+j/2-2,{baseline:"middle"}),h.text("a Multidestinos",C.left+4*_+Q,Y+j/2+2,{baseline:"middle"});const ye=parseFloat(n.suplemento)||0,Me=parseFloat(n.totalPrecioCliente)||0,ve=ye>0?Me+ye:Me,Pe=Ca(ve).format("$0,0");h.text(Pe,C.left+5*_+Q,Y+j/2,{baseline:"middle"}),Y+=j+10;const Ue=C.left;let Se=Y+5;const Be=190;let aa=30;h.setFontSize(7),h.setLineWidth(.5);const ra="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",ha=h.splitTextToSize(ra,Be-10);Se+aa>Z-C.bottom&&(h.addPage(),Y=C.top,Se=Y+5),h.text("Deposito y Condiciones de Pago",Ue+5,Se+3),h.setFontSize(6);const ga=5;aa=20+ha.length*ga,h.rect(Ue,Se,Be,aa),ha.forEach((i,c)=>{h.text(i,Ue+5,Se+10+c*ga)}),Y+=aa+5;const r=h.output("blob");return h.save(`cotizacion_${e}.pdf`),r}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},async descargarCotizacion(e){try{let ue=function(c){return c.map(p=>{const V=p.adultos,L=p.ni\u00F1os,A=`1x${V}`;return L>0?`${A} CHD`:A}).join(", ")},We=function(c){for(let p=0;p<=6;p++){const V=g.left+p*ee;v.line(V,c,V,c+z)}v.line(g.left,c,h-g.right,c),v.line(g.left,c+z,h-g.right,c+z)};const[a,o]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const t=o.data[0];console.log("cotizacion",t);const n=a.data;console.log("habitacion",n);const s=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${t.cliente}`);console.log("clienteResponse",s);const l=s.data[0];console.log("clienteData",l);const u=l.tipoBase,f=await te.get(`https://backmultidestinos.onrender.com/user/${t.CreadorCotizacion}`),E=f.Data;console.log("vendedor",f.data.nombreCompleto);const b={hotel:t.hotel,nombrePrograma:t.nombrePrograma,destino:t.destino},x=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",b),X=t.incluye?t.incluye:x.data[0].incluye,k=t.noIncluye?t.noIncluye:x.data[0].noIncluye,v=new kt,g={top:10,bottom:10,left:10,right:10},h=v.internal.pageSize.width,C=v.internal.pageSize.height,G=40,Z={left:10,right:10,top:5,bottom:5},S=await new Promise((c,p)=>{const V=new Image;V.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",V.onload=()=>c(V),V.onerror=p}),M=S.width/S.height,xe=h/4-Z.left-Z.right,de=Math.min(100,xe),he=de/M,be=g.top+(G-he)/2,Ce=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,oe=`Numero de cotizaci\xF3n: ${e}`;v.addImage(S,"PNG",g.left+Z.left,be,de,he);const fe=h-g.left-g.right-de-Z.left-Z.right-10;v.setFontSize(10),v.text(v.splitTextToSize(Ce,fe),g.left+de+Z.left+Z.right,g.top+10);const K=h-g.right-v.getTextWidth(oe)-Z.right;v.setFontSize(12),v.setFont("Helvetica-Bold",12),v.text(oe,K,g.top+10),v.setDrawColor(0),v.rect(g.left,g.top,h-g.left-g.right,G,"S"),v.setFontSize(10);const ne=g.top+G+10;v.setFontSize(10),v.text("SOLICITUD DE RESERVA:",g.left,ne-4),v.setFontSize(8);const De=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],qe=[new Date(new Date(t.fechaCreacion).getTime()+new Date(t.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),t.cliente.toString(),l.telefono?l.telefono.toString():"N/A","N/A",l.nit?l.nit.toString():"N/A",f.data.nombreCompleto?f.data.nombreCompleto.toString():"N/A"],D=6,Ne=(h-g.left-g.right)/D;let we=g.left,w=ne;for(let c=0;c<De.length;c++){v.text(De[c],we,w);const p=qe[c]!==void 0?qe[c]:"N/A",V=v.splitTextToSize(p,Ne-2);v.text(V,we,w+5),we+=Ne,((c+1)%D===0||c===De.length-1)&&(w+=15,we=g.left)}const Y=ue(n),ie=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],Fe=[t.noches?t.noches.toString():"N/A",t.hotel?t.hotel.toString():"N/A",t.plan?t.plan.toString():"N/A",t.destino?t.destino.toString():"N/A",t.direccion?t.direccion.toString():"N/A",Y.toString()];console.log("campso2",Fe);const q=6,y=(h-g.left-g.right)/q;w+=1;for(let c=0;c<ie.length;c++){v.text(ie[c],we,w);const p=Fe[c]!==void 0?Fe[c]:"N/A",V=v.splitTextToSize(p,y-2);v.text(V,we,w+5),we+=y}w+=22,v.setFontSize(10),v.text("ITINERARIO: ",g.left,w-10);const T=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],W=[[t.aerolineaIda||"N/A",t.vueloIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta1||"N/A",t.claseIda||"N/A",t.horaSalidaIda||"N/A",t.horaLlegadaIda||"N/A",t.recordIda||"N/A"]];t.aerolineaEscalaIda!=null&&(W.push([t.aerolineaEscalaIda||"N/A",t.vueloEscalaIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",t.claseEscalaIda||"N/A",t.horaSalidaEscalaIda||"N/A",t.horaLlegadaEscalaIda||"N/A",""]),W.push([t.aerolineaEscalaVuelta||"N/A",t.vueloEscalaVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",t.claseEscalaVuelta||"N/A",t.horaSalidaEscalaVuelta||"N/A",t.horaLlegadaEscalaVuelta||"N/A",""])),W.push([t.aerolineaVuelta||"N/A",t.vueloVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta2||"N/A",t.claseVuelta||"N/A",t.horaSalidaVuelta||"N/A",t.horaLlegadaVuelta||"N/A",t.recordVuelta||"N/A"]);const H=(h-g.left-g.right)/T.length,Oe=h-g.left-g.right,U=12+8*W.length;w+=5,v.rect(g.left,w-5,Oe,U,"S"),v.setFontSize(8),T.forEach((c,p)=>{v.text(c,g.left+p*H,w)}),w+=5,W.forEach((c,p)=>{c.forEach((V,L)=>{v.text(V,g.left+L*H,w+(p+1)*8)})}),w+=U-5;const me="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Re=w+10,Ye=30;v.setDrawColor(0),v.rect(g.left,Re,h-g.left-g.right,Ye),v.setFontSize(12),v.text("OBSERVACIONES:",g.left+2,Re+6),v.setFontSize(10),v.text(me,g.left+2,Re+15,{maxWidth:h-g.left-g.right-4});let Ie=6;const Ge=w+50,Te=X.split("\xBF"),Ze=6,Ke=5;let pe=0;Te.forEach(c=>{pe+=v.getTextDimensions(c.trim(),{fontSize:8,maxWidth:h-g.left-g.right-4}).h});const je=pe+Ze+Ke+10;v.setDrawColor(0),v.rect(g.left,Ge,h-g.left-g.right,je),v.setFontSize(12),v.text("INCLUYE:",g.left+2,Ge+6),v.setFontSize(8);let $e=Ge+Ze+Ke;Te.forEach(c=>{v.text(c.trim(),g.left+2,$e,{maxWidth:h-g.left-g.right-4}),$e+=v.getTextDimensions(c.trim(),{fontSize:8,maxWidth:h-g.left-g.right-4}).h}),v.addPage(),w=g.top;const ke=12,J=w+5,ge=k.split(`
`).flatMap(c=>c.split("\xBF").map(p=>p.trim()));v.setDrawColor(0),v.rect(g.left,J,h-g.left-g.right,0),v.setFont("helvetica"),v.setFontSize(10),v.setTextColor(0),v.text("NO INCLUYE:",g.left+2,J+6),v.setFontSize(8),Ie=3;let re=J+ke,Q=!1;ge.forEach((c,p)=>{if(c==="")return;const V=Q?Ie/3:Ie,L=re+V;v.text(c,g.left+10,L,{maxWidth:h-g.left-g.right-10}),re=L+Ie,Q=c.endsWith("\xBF")});const j=re-J;v.rect(g.left,J,h-g.left-g.right,j),w=re+15,v.setFontSize(10),v.text("LIQUIDACI\xD3N:",g.left,w),w+=5;const Ae=w+5,_=2,z=6,ee=(h-g.left-g.right)/6;v.setDrawColor(0);let ea=0;v.setFontSize(7);let He=0;n.forEach(c=>{const p=Ae+He*z;We(p);const V=`Valor adul ${c.acomodacion}`;v.text(V,g.left+_,p+z/2,{baseline:"middle"});const L=Math.round(c.precioComisionableAdulto);v.text(L.toString(),g.left+ee+_,p+z/2,{baseline:"middle"});const A=c.adultos;console.log("numAdultos",A),v.text(A.toString(),g.left+2*ee+_,p+z/2,{baseline:"middle"});const B=Math.round(c.precioComisionableAdulto*c.adultos);if(v.text(B.toString(),g.left+3*ee+_,p+z/2,{baseline:"middle"}),He===0){v.setFontSize(6);const ze=u==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";v.text(ze,g.left+4*ee+_,p+z/2,{baseline:"middle"}),v.setFontSize(7)}let $=B;if(c.ni\u00F1os>0&&($+=Math.round(c.precioComisionableNino*c.ni\u00F1os)),ea+=$,He++,c.ni\u00F1os>0){const ze=Ae+He*z;We(ze);const ca=`Valor child ${c.acomodacion}`;v.text(ca,g.left+_,ze+z/2,{baseline:"middle"});const Je=Math.round(c.precioComisionableNino);v.text(Je.toString(),g.left+ee+_,ze+z/2,{baseline:"middle"});const ta=c.ni\u00F1os;v.text(ta.toString(),g.left+2*ee+_,ze+z/2,{baseline:"middle"});const da=Math.round(c.precioComisionableNino*c.ni\u00F1os);v.text(da.toString(),g.left+3*ee+_,ze+z/2,{baseline:"middle"}),He++}}),v.text(ea.toString(),g.left+5*ee+_,Ae+z/2,{baseline:"middle"}),w=Ae+He*z+10;const Qe=["TRANSPORTE NO COMISI","Q","YS","CO","TA","YS TA","TOTAL IMPUESTOS"],Xe=[t.otros,t.combus,t.iva,t.tasa,t.ta,t.ivaTa,t.precioTrans];if(t.suplemento>0&&(Qe.push("SUPLEMENTO"),Xe.push(t.suplemento)),t.extra1)if(t.extra1.includes("*")){let c=t.extra1.split("*"),p=c[0],V=c[1];Qe.push("Valor Extra","Valor Extra2"),Xe.push(p,V)}else{let c=t.extra1;Qe.push("Valor Extra"),Xe.push(c)}Qe.forEach((c,p)=>{const V=w+p*z;We(V),v.text(c,g.left+_,V+z/2,{baseline:"middle"});const L=t.totalPasajeros,A=Xe[p]||0,B=L!==0?Math.trunc(A/L):"";v.text(B.toString(),g.left+ee+_,V+z/2,{baseline:"middle"});const $=L!==0?Math.trunc(L).toString():"";v.text($,g.left+2*ee+_,V+z/2,{baseline:"middle"});const ze=A!==0?Math.trunc(A).toString():"";if(v.text(ze,g.left+3*ee+_,V+z/2,{baseline:"middle"}),c==="Q"){v.text("Porcentaje",g.left+4*ee+_,V+z/2,{baseline:"middle"});const ca=t.clientePorcentaje||0,Je=Math.trunc(ca).toString()+"%";v.text(Je,g.left+5*ee+_,V+z/2,{baseline:"middle"})}else if(c==="YS"){v.text("Valor Descuento",g.left+4*ee+_,V+z/2,{baseline:"middle"});const ca=t.valorDescuento||0,Je=Math.trunc(ca).toString();v.text(Je,g.left+5*ee+_,V+z/2,{baseline:"middle"}),u==="Comisi\xF3n"&&[{label:`IVA(${l.porcentajeIva}%) (-)`,value:t.ivaValor},{label:`RTE FUENTE(${l.rteFuente}%) (+)`,value:t.rteFuente},{label:`RTE ICA(${l.rteIca}%) (+)`,value:t.rteIca},{label:"Total Comisi\xF3n",value:t.totalComision}].forEach((da,Ma)=>{const Aa=V+(Ma+1)*z;We(Aa),v.text(da.label,g.left+4*ee+_,Aa+z/2,{baseline:"middle"}),v.text(da.value.toString(),g.left+5*ee+_,Aa+z/2,{baseline:"middle"})})}}),w+=Qe.length*z,n.forEach(c=>{if(c.adultos>0){const p=w;We(p),v.text(`Valor total Adt ${c.acomodacion}`,g.left+_,p+z/2,{baseline:"middle"});const V=c.precioHabitacionAdulto||0,L=Ca(V).format("$0,0");v.text(L,g.left+3*ee+_,p+z/2,{baseline:"middle"}),w+=z}if(c.ni\u00F1os>0){const p=w;We(p),v.text(`Valor total Chd ${c.acomodacion}`,g.left+_,p+z/2,{baseline:"middle"});const V=c.precioHabitacionNino||0,L=Ca(V).format("$0,0");v.text(L,g.left+3*ee+_,p+z/2,{baseline:"middle"}),w+=z}}),v.setFontSize(8),w+=z,We(w),v.text("Valor total",g.left+_,w+z/2,{baseline:"middle"});const ua=t.precioBrutoTotal||0,ye=Ca(ua).format("$0,0");v.text(ye,g.left+3*ee+_,w+z/2,{baseline:"middle"}),v.text("Precio a pagar",g.left+4*ee+_,w+z/2-2,{baseline:"middle"}),v.text("a Multidestinos",g.left+4*ee+_,w+z/2+2,{baseline:"middle"});const Me=0,ve=parseFloat(t.totalPrecioCliente)||0,Pe=Me>0?ve+Me:ve,Ue=Ca(Pe).format("$0,0");v.text(Ue,g.left+5*ee+_,w+z/2,{baseline:"middle"}),w+=z+10;const Se=g.left;let Be=w+5;const aa=190;let ra=30;v.setFontSize(7),v.setLineWidth(.5),v.setFontSize(6);const ha=5,ga="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",r=v.splitTextToSize(ga,aa-10);ra=20+r.length*ha,Be+ra>C-g.bottom&&(v.addPage(),w=g.top),Be=w,v.rect(Se,w,aa,ra),v.text("Deposito y Condiciones de Pago",Se+5,Be+3),r.forEach((c,p)=>{v.text(c,Se+5,Be+10+p*ha)}),w+=ra+5;const i=v.output("blob");return v.save(`cotizacion_${e}.pdf`),i}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},handleChildrenChange(e){this.rooms[e].numChildren=this.hasChildren[e]?1:0},async fetchCotizacionData(){try{const e=await te.get("https://backmultidestinos.onrender.com/cotizacion");this.cotizacionData=e.data}catch(e){console.error("Error fetching cotizacion data:",e)}},async fetchClientOptions(){try{console.log("Obteniendo opciones de clientes...");const e=await te.get("https://backmultidestinos.onrender.com/cliente");console.log("Opciones de clientes nombre:",e.data.nombre);const a=e.data.map(o=>o.nombre);console.log("Opciones de clientes:",a),this.clientOptions=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptionCorreo(){this.correo="",this.OptionCorreo=[];try{const a=(await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`)).data.flatMap(o=>o.correo.split(","));this.OptionCorreo=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptions(){try{console.log("Realizando solicitud HTTP para cargar opciones..."),console.log("Salida seleccionada:",this.selectedDeparture);const e=await te.get(`https://backmultidestinos.onrender.com/planes/porCiudad/${this.selectedDeparture}`);console.log("Respuesta del servidor:",e.data);const a={},o={};e.data.forEach(n=>{const s=n.destino;a[s]||(a[s]={programNameOptions:[],hotelOptions:[],nochesOptions:[],accommodationOptions:[]},o[s]={nochesOptions:[]}),a[s].programNameOptions.push(n.nombrePrograma),a[s].hotelOptions.push(...n.hotel.split("*")),a[s].nochesOptions.push(...n.noches.split("*")),a[s].accommodationOptions.push(...n.acomodacion.split("*")),o[s].nochesOptions.push(...n.noches.split("*"))}),this.optionsByDestination=a,this.originalOptionsByDestination=o;const t=e.data.map(n=>n.destino);this.destinationOptions=[...new Set(t)]}catch(e){console.error("Error al cargar opciones:",e)}},updateOptionsByDestination(e){const a=this.optionsByDestination[e];a?(this.programNameOptions=[...new Set(a.programNameOptions)],this.hotelOptions=[...new Set(a.hotelOptions)],this.accommodationOptions=[...new Set(a.accommodationOptions)],this.nochesOptions=[...new Set(a.nochesOptions)].map(o=>({label:o,value:parseInt(o.split(" ")[0])})),this.programName=null,this.noche=null,this.hotel=null):(this.programNameOptions=[],this.hotelOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.programName=null,this.noche=null,this.hotel=null)},buscarTiposDeHabitacion(){te.post("https://backmultidestinos.onrender.com/hoteles/buscar",this.params).then(e=>{const a=e.data.map(t=>t.tipoDeHabitacion),o=[...new Set(a)];this.tipoDeHabitacionOptions=o}).catch(e=>{console.error("Error al buscar hoteles:",e)})},handleDepartureChange(){this.clearFieldsc(),this.destinationOptions=[],this.programNameOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.OptionCorreo=[],this.hotelOptions=[],this.roomTypeOptions=[],console.log("Cambio en la selecci\xF3n de salida. Cargando opciones..."),this.fetchOptions(),this.fetchClientOptions()},handleSelectionChangeTipo(e){e.value,this.paramsN.hotel=this.hotel,this.paramsN.nombrePrograma=this.programName,this.paramsN.destino=this.destination,this.paramsN.noches=this.noche.label,this.paramsN.pertenece=this.selectedDeparture,console.log("noche escogida",this.noche.label),console.log(this.paramsN),te.post("https://backmultidestinos.onrender.com/hoteles/buscarN",this.paramsN).then(a=>{console.log("hola",a.data);const o=a.data.map(n=>n.tipoHabitacion),t=[...new Set(o)];console.log(t),this.roomTypeOptions=t}).catch(a=>{console.error("Error al buscar hoteles:",a)})},openModalPersonalizado(){this.modalVisiblePersonalizado=!0},openModal(){this.modalVisible=!0},closeModalPersonalizado(){this.modalVisiblePersonalizado=!1,this.clearFieldsPersonalizado()},closeModal(){this.modalVisible=!1,this.clearFields()},resetVariables(){this.aerolineaEscalaIda="",this.vueloEscalaIda="",this.horaLlegadaEscalaIda="",this.horaSalidaEscalaIda="",this.claseEscalaIda="",this.aerolineaEscalaVuelta="",this.vueloEscalaVuelta="",this.horaLlegadaEscalaVuelta="",this.horaSalidaEscalaVuelta="",this.claseEscalaVuelta="",this.aerolineaValue1="",this.vueloValue1="",this.aerolineaValue2="",this.vueloValue2="",this.horaSalidaValue1="",this.horaLlegadaValue1="",this.horaSalidaValue2="",this.horaLlegadaValue2="",this.claseValue1="",this.claseValue2="",this.totalAdultos=0,this.totalNi\u00F1os=0,this.hasChildren=[],this.additionalNightSelected=!1,this.additionalNightCount=0,this.habitacionesDatos=[],this.totalImpuestos=0,this.sumaTotalAcomodacion=0,this.sumaValorBrutohab=0,this.sumaTotalDescuento=0,this.childrenPriceNumber=0,this.cormacarena5a11Total=0,this.cormacarena12a65Total=0,this.cormacarenaExtranjeroTotal=0,this.pqsNaturales5a24Total=0,this.pqsNaturales25a65Total=0,this.pqsNaturalesExtranjeroTotal=0,this.alcaldiaNacionalTotal=0,this.alcaldiaExtranjeroTotal=0,this.defensaCivilTotal=0,this.cormacarena5a11Personas=0,this.cormacarena12a65Personas=0,this.cormacarenaExtranjeroPersonas=0,this.pqsNaturales5a24Personas=0,this.pqsNaturales25a65Personas=0,this.pqsNaturalesExtranjeroPersonas=0,this.alcaldiaNacionalPersonas=0,this.alcaldiaExtranjeroPersonas=0,this.defensaCivilPersonas=0},async obtenerInformacionTiquete(e,a){try{const o=await te.get(`https://backmultidestinos.onrender.com/tiquete/buscar/${e}/${a}`);return console.log("Informaci\xF3n del tiquete:",o.data),o.data}catch(o){throw console.error("Error al obtener la informaci\xF3n del tiquete:",o),o}},async saveFormData(){var E,b,x,X,k,v;if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,s=0,l=0;const f=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",f);try{const g=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",g);let h=null,C=null,G=null,Z=null,S=null;g.data.forEach(q=>{q.nombre===this.selectedClient&&(h=this.programName==="Ca\xF1o Cristales"?parseFloat(q.lmc):parseFloat(q.demas),C=q.tipoBase,G=q.rteFuente,Z=q.rteIca,S=q.porcentajeIva)}),console.log("clientePorcentaje",h),console.log("clienteTipoBase",C),console.log("rteFuente",G),console.log("rteIca",Z),console.log("ivaValor",S);const M=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",M);const xe=M[0].total,de=parseFloat(xe);console.log("tiquete",xe),console.log("tiqueteNum",de);let he=0;if(this.supplementValues)for(let q=0;q<this.supplementValues.length;q++)this.supplementValues[q]&&(console.log("persona",[q],this.supplementValues[q]),he+=parseFloat(this.supplementValues[q])-de),console.log("Total suplemento",[q],he);console.log("Valor del suplemento:",he);const be=[];this.rooms.forEach((q,y)=>{const T={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:q.roomType,noches:this.noche.value};be.push(T)}),console.log("edades",be);try{const q=await Promise.all(be.map(U=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",U)));console.log("preciosResponseArray",q),console.log("preciosResponseArray data",q.data);const y=[];q.forEach(U=>{U.data.length>0?y.push(...U.data):console.log("No se encontraron datos en esta respuesta")}),console.log(y),this.plan=y[0].plan;const T={pertenece:this.selectedDeparture,destino:this.destination},W=await te.get("https://backmultidestinos.onrender.com/transporte/buscar",{params:T});console.log("transporteResponse",W),console.log("entrando a trans"),W.data.forEach(U=>{console.log("transporte.combus",U.combus),e+=parseFloat(U.combus)||0,console.log("combus",e),a+=parseFloat(U.tasa)||0,o+=parseFloat(U.iva)||0,t+=parseFloat(U.ta)||0,n+=parseFloat(U.ivaTa)||0,s+=parseFloat(U.otros)||0,l+=parseFloat(U.total)||0}),console.log("saliendo de trans trans"),console.log("normalcombus",e),console.log("this.normalcombus",this.combus),console.log("precioTrans",this.precioTrans);let H=0,Oe=[];await Promise.all(this.rooms.map(async(U,me)=>{console.log(`Procesando habitaci\xF3n ${me+1}`);const Re=U.accommodation,Ye=U.roomType;console.log(`Tipo de habitaci\xF3n seleccionado: ${Ye}`);const Ie=y.find(pe=>pe.tipoHabitacion===Ye);console.log("Datos de precio encontrados:",Ie);const Ge=U.accommodation,Te=U.roomType,Ze={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:Te,noches:`${this.noche.value} noches`};console.log("noche escogida",this.noche.value),console.log(Ze);let Ke;try{const pe=await te.get("https://backmultidestinos.onrender.com/transporte/por-parametros",{params:Ze}),je=Object.keys(pe.data[0]||{}).filter(ke=>ke.toLowerCase().startsWith(Re.toLowerCase()+"_"));console.log("Nombres de impuestos por acomodaci\xF3n:",je),this.impuestosParaBD=je.reduce((ke,J)=>{const ge=`${J.split("_")[0]}_${J.split("_")[1]}`;return ke[ge]=pe.data[0][J],ke},{}),console.log("Impuestos para la BD:",Ke);const $e=y.find(ke=>ke.tipoHabitacion===Ye);console.log("Datos de precio encontrados:",$e)}catch(pe){console.error("Error al buscar transportes:",pe)}if(Ie){const pe=Ie[Re];console.log(`la acomodacio es: ${Re}`),console.log(`Precio de la acomodaci\xF3n: ${pe}`),U.accommodationPrice=pe;let je=0,$e=0;this.hasChildren[me]&&(H=Ie.ni\u00F1o,console.log("childrenPrice",H),this.childrenPriceNumber=parseFloat(H.replace(/\./g,"")),je+=H),console.log("childrenPriceNumber1",this.childrenPriceNumber);let ke=0,J=0;if(this.additionalNightSelected&&this.additionalNightCount>0){const ve=parseFloat(Ie[`nocheAdicional${Re}`].replace(/\./g,""));console.log("additionalNightPriceAdulto",ve);const Pe=this.additionalNightCount;if(console.log("nochesAdicionales",Pe),ke=ve*this.additionalNightCount,console.log("additionalNightTotalPriceAdulto",ke),je+=ke,this.hasChildren[me]){const Ue=parseFloat(Ie.nocheAdicionalni\u00F1o.replace(/\./g,""));console.log("additionalNightPriceNi\xF1o",Ue),J=Ue*this.additionalNightCount*U.numChildren,console.log("additionalNightTotalPriceNi\xF1o",J),je+=J}}const ge=parseFloat(pe.replace(/\./g,""));console.log("accommodationPriceNumber",ge),console.log("precioTrans",l);const re=ge-l+(this.additionalNightSelected?ke:0);this.ValorComisionableNi\u00F1os=0;let Q=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[me]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+J,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(h/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",re),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const j=re-re*(h/100);console.log("ValorClienteAdulto",j),console.log("ValorClienteNi\xF1o",Q);const Ae=j+Q;console.log("ValorCliente",Ae);const _=parseInt(U.adults);console.log("numAdultos",_);const z=this.hasChildren[me]?U.numChildren:0,ia=ge*_,ee=(this.childrenPriceNumber?this.childrenPriceNumber:0)*z;let We=ia+ee;console.log("valorBrutoAdulto",ia),console.log("valorBrutoni\xF1o",ee),console.log("valorBrutoTotal",We),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${me+1}: ${_}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${me+1}: ${z}`);const ea=j*_;console.log("TotalAcomodacionAdulto",ea);let He=this.ValorClienteNi\u00F1o*z;console.log("TotalAcomodacionNi\xF1o",He),(He===null||isNaN(He))&&(He=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",He);let Qe=He+ea;console.log("TotalAcomodacion",Qe),console.log("totalAdultos",_),this.totalAdultos+=_,console.log("totalAdultos",_),this.totalNi\u00F1os+=z;const Xe=re*_+this.ValorComisionableNi\u00F1os*z,ua=Xe*(h/100);console.log("descuento",ua),console.log("Valorporcentaje",Xe);let ye={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},Me={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",U),U.adultAges.length>0&&this.destination==="La Macarena")for(let ve=0;ve<U.adultAges.length;ve++){const Pe=U.adultAges[ve],Ue=U.isForeigner[ve];console.log(`Calculando impuestos para la persona ${ve+1} (edad: ${Pe}, extranjero: ${Ue})`);for(const Se of f){const Be=Se.IMPUESTO;console.log(`Impuesto actual: ${Be}`),Be==="cormacarena"?Ue?(ye.cormacarenaExtranjero+=parseFloat(Se.EXTRANJERO)||0,Me.cormacarenaExtranjero++):Pe>=5&&Pe<=11?(ye.cormacarena5a11+=parseFloat(Se["5 a 11 a\xF1os"])||0,Me.cormacarena5a11++):Pe>=12&&Pe<=65&&(ye.cormacarena12a65+=parseFloat(Se["12 a 65 a\xF1os"])||0,Me.cormacarena12a65++):Be==="pqsNaturales"?Ue?(ye.pqsNaturalesExtranjero+=parseFloat(Se.EXTRANJERO)||0,Me.pqsNaturalesExtranjero++):Pe>=5&&Pe<=24?(ye.pqsNaturales5a24+=parseFloat(Se["5 a 24 a\xF1os"])||0,Me.pqsNaturales5a24++):Pe>=25&&Pe<=65&&(ye.pqsNaturales25a65+=parseFloat(Se["25 a 65 a\xF1os"])||0,Me.pqsNaturales25a65++):Be==="alcaldia"?Ue?(ye.alcaldiaExtranjero+=parseFloat(Se.EXTRANJERO)||0,Me.alcaldiaExtranjero++):Pe>=5&&Pe<=1e3&&(ye.alcaldiaNacional+=parseFloat(Se["12 a 65 a\xF1os"])||0,Me.alcaldiaNacional++):Be==="defensaCivil"&&(ye.defensaCivil+=parseFloat(Se["5 a 11 a\xF1os"])||0,Me.defensaCivil++),console.log(`   Impuesto ${Be} (acumulado): ${ye[Be]}`)}}console.log("Impuestos totales por habitaci\xF3n:",ye);for(const ve in ye)ye[ve]===0&&(ye[ve]=null);console.log("Impuestos calculados para la habitaci\xF3n:",ye),console.log("N\xFAmero de personas por impuesto:",Me),console.log("        this.impuestosParaBD ",this.impuestosParaBD),this.habitacionesDatos.push({idCotizacion:"",adultos:_,ni\u00F1os:z,acomodacion:Re,tipoHabitacion:Ye,precioFlayerAdulto:ge,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:ee,precioHabitacionAdulto:ia,precioHabitacionTotal:We,precioComisionableAdulto:re,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:j,valorDescuentoCliente:Ae,descuento:ua,TotalAcomodacionAdulto:ea,TotalAcomodacionNino:He,TotalAcomodacion:Qe,edadesAdultos:U.adultAges.filter(ve=>ve!==null).join(","),edadNino:U.childAge!==null?U.childAge:null,extranjero:U.isForeigner.map(ve=>ve?"SI":"NO").join(","),...this.impuestosParaBD}),console.log("habitacionesDatos despu\xE9s del push:",this.habitacionesDatos)}else console.log("No se encontraron datos de precio para esta habitaci\xF3n")}))}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),console.log("ENTRANDOOOOO HABITACION COSOTOS"),this.habitacionesDatos.forEach(q=>{console.log("ENTRANDOOOOO222 HABITACION COSOTOS"),console.log("habitacion.TotalAcomodacion;",q.TotalAcomodacion);const y=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"];this.sumaTotalAcomodacion+=q.TotalAcomodacion,console.log("suma total antes de los totales otros",this.sumaTotalAcomodacion);for(const T in q){console.log("propiedad",T);const W=q[T],H=Number(W);y.includes(T)&&(console.log("si paso",H),console.log("suma total antesitos de los totales otros",this.sumaTotalAcomodacion),this.sumaTotalAcomodacion+=H,this.sumaValorBrutohab+=H,console.log("suma total despusito de los totales otros",this.sumaTotalAcomodacion))}console.log("despues suma total antes de los totales otros",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=q.precioHabitacionTotal,this.sumaTotalDescuento+=q.descuento,this.cormacarena5a11Total+=q.cormacarena5a11||0,this.cormacarena12a65Total+=q.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=q.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=q.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=q.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=q.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=q.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=q.alcaldiaExtranjero||0,this.defensaCivilTotal+=q.defensaCivil||0,this.cormacarena5a11Personas+=q.cormacarena5a11Personas,this.cormacarena12a65Personas+=q.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=q.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=q.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=q.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=q.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=q.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=q.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=q.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=he,this.sumaTotalAcomodacion+=he,console.log("valor de sumaValorBrutohab antes de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion antes de extras",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=(x=(b=(E=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?E:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?b:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?x:0,this.sumaTotalAcomodacion+=(v=(k=(X=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?X:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?k:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?v:0,console.log("valor de sumaValorBrutohab despues de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion despues de extras",this.sumaTotalAcomodacion),console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let Ce=null,oe=null,fe=null,K=null;C==="Comisi\xF3n"&&(console.log("si es comison"),this.total,K=this.sumaTotalDescuento,S!==null&&S!==0&&(oe=Math.round(this.sumaTotalDescuento*(S/100)),this.ivaCalculado=oe,K+=oe),G!==null&&G!==0&&(Ce=Math.round(this.sumaTotalDescuento*(G/100)),this.rteFuenteCalculado=Ce,K-=Ce),Z!==null&&Z!==0&&(fe=Math.round(this.sumaTotalDescuento*(Z/100)),this.rteIcaCalculado=fe,K-=fe)),console.log("this.ivaCalculado",oe),console.log("this.rteFuenteCalculado",Ce),console.log("this.rteIcaCalculado",fe),console.log("this.totalComision",K);const ne=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",ne),console.log("1combus",this.combus),e*=ne,a*=ne,console.log("despuescombus2.0",e),o*=ne,t*=ne,n*=ne,s*=ne,l*=ne,this.sumaTotalAcomodacion+=l,console.log("combus multi",e),console.log("precioTrans",l),C==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-K);const De=new Date;De.setHours(0,0,0,0),console.log(De.toISOString().split("T")[0]);const qe=dt.getItem("userData");console.log(qe);let D=parseInt(this.noche.value),Ne=parseInt(D)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",D),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",Ne);const we=this.numExtraValues===0?null:[this.extraValue1,this.extraValue2].filter(q=>q!==null&&q!=="").join(this.numExtraValues===2?"*":"");console.log("extraValue1",this.extraValue1),console.log("extraValuesString",we),this.programName!=="Ca\xF1o Cristales"?this.tieneImpuestos=!1:this.tieneImpuestos=!0,console.log("llego a formData"),console.log("combus",this.combus);const w={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:Ne,plan:this.plan,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:ne,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:o,ta:t,ivaTa:n,otros:s,precioTrans:l,suplemento:he,cliente:this.selectedClient,clientePorcentaje:h,CreadorCotizacion:qe.id,fechaCreacion:De.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:Ce,ivaValor:oe,rteIca:fe,totalComision:K,correo:this.correo,transfer:this.transferInOutValue||null,asesorExterno:"this.selectedUser.value || null",extra1:we||null,incluye:null,noIncluye:null,status:"pendiente",tieneImpuestos:this.tieneImpuestos};console.log("formData",w),console.log("formData",w);const ue=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",w);ue.data.success&&(console.log("mirar el numero",ue.data.success),console.log("mirar el numero1",ue.data.idCotizacion),this.idCotizacion=ue.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",ue.data),console.log("idCotizacion1",this.idCotizacion);const Y={idCotizacion:this.idCotizacion,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas};if(this.programName=="Ca\xF1o Cristales"){const q=await te.post("https://backmultidestinos.onrender.com/ImpuestoCot",Y)}const ie=this.habitacionesDatos.map(async q=>{q.idCotizacion=this.idCotizacion;const y=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",q);return console.log("Respuesta de la habitaci\xF3n:",y.data),y.data}),Fe=await Promise.all(ie);console.log("Respuestas de todas las habitaciones:",Fe),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.closeModal(),this.resetVariables()}catch(g){console.error("Error al guardar la cotizaci\xF3n:",g),this.closeModal(),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}},async saveFormDataPersonalizado(){if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,s=0,l=0;const f=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",f);try{const E=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",E);let b=null,x=null,X=null,k=null,v=null;E.data.forEach(D=>{D.nombre===this.selectedClient&&(b=this.programName==="Ca\xF1o Cristales"?parseFloat(D.lmc):parseFloat(D.demas),x=D.tipoBase,X=D.rteFuente,k=D.rteIca,v=D.porcentajeIva)}),console.log("clientePorcentaje",b),console.log("clienteTipoBase",x),console.log("rteFuente",X),console.log("rteIca",k),console.log("ivaValor",v);const g=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",g);const h=g[0].total,C=parseFloat(h);console.log("tiquete",h),console.log("tiqueteNum",C);let G=0;if(this.supplementValues)for(let D=0;D<this.supplementValues.length;D++)this.supplementValues[D]&&(console.log("persona",[D],this.supplementValues[D]),G+=parseFloat(this.supplementValues[D])-C),console.log("Total suplemento",[D],G);console.log("Valor del suplemento:",G);const Z=[];try{const D=await Promise.all(Z.map(w=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",w)));console.log("preciosResponseArray",D),console.log("preciosResponseArray data",D.data);const Ne=[];D.forEach(w=>{w.data.length>0?Ne.push(...w.data):console.log("No se encontraron datos en esta respuesta")}),console.log(Ne),e+=parseFloat(this.Combus)||0,a+=parseFloat(this.Tasa)||0,o+=parseFloat(this.Iva)||0,t+=parseFloat(this.Ta)||0,n+=parseFloat(this.IvaTa)||0,s+=parseFloat(this.otros)||0,l+=parseFloat(this.precioTransp)||0,console.log("precioTrans",l);let we=0;this.rooms.forEach(async(w,ue)=>{console.log(`Procesando habitaci\xF3n ${ue+1}`);const Y=w.accommodation,ie=w.roomType,Fe=parseFloat(w.valor),q=Fe+parseFloat(l);if(1){const T=w.adults,W=this.hasChildren[ue]?w.numChildren:0,H=q;console.log(`Precio de la acomodaci\xF3n: ${H}`),w.accommodationPrice=H;let Oe=0,U=0;console.log("precioTrans",l);const me=Fe;this.ValorComisionableNi\u00F1os=0;let Re=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[ue]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+additionalNightTotalPriceNi\u00F1o,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(b/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",me),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Ye=me-me*(b/100);console.log("ValorClienteAdulto",Ye),console.log("ValorClienteNi\xF1o",Re);const Ie=Ye+Re;console.log("ValorCliente",Ie);const Ge=H*T,Te=(this.childrenPriceNumber?this.childrenPriceNumber:0)*W;let Ze=Ge+Te;console.log("valorBrutoAdulto",Ge),console.log("valorBrutoni\xF1o",Te),console.log("valorBrutoTotal",Ze),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${ue+1}: ${T}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${ue+1}: ${W}`);const Ke=Ye*T;console.log("TotalAcomodacionAdulto",Ke);let pe=this.ValorClienteNi\u00F1o*W;console.log("TotalAcomodacionNi\xF1o",pe),(pe===null||isNaN(pe))&&(pe=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",pe);let je=pe+Ke;console.log("TotalAcomodacion",je),this.totalAdultos+=parseInt(T),this.totalNi\u00F1os+=W;const $e=me*T+this.ValorComisionableNi\u00F1os*W,ke=$e*(b/100);console.log("descuento",ke),console.log("Valorporcentaje",$e);let J={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},ge={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",w),w.adultAges.length>0)for(let re=0;re<w.adultAges.length;re++){const Q=w.adultAges[re],j=w.isForeigner[re];console.log(`Calculando impuestos para la persona ${re+1} (edad: ${Q}, extranjero: ${j})`);for(const Ae of f){const _=Ae.IMPUESTO;console.log(`Impuesto actual: ${_}`),_==="cormacarena"?j?(J.cormacarenaExtranjero+=parseFloat(Ae.EXTRANJERO)||0,ge.cormacarenaExtranjero++):Q>=5&&Q<=11?(J.cormacarena5a11+=parseFloat(Ae["5 a 11 a\xF1os"])||0,ge.cormacarena5a11++):Q>=12&&Q<=65&&(J.cormacarena12a65+=parseFloat(Ae["12 a 65 a\xF1os"])||0,ge.cormacarena12a65++):_==="pqsNaturales"?j?(J.pqsNaturalesExtranjero+=parseFloat(Ae.EXTRANJERO)||0,ge.pqsNaturalesExtranjero++):Q>=5&&Q<=24?(J.pqsNaturales5a24+=parseFloat(Ae["5 a 24 a\xF1os"])||0,ge.pqsNaturales5a24++):Q>=25&&Q<=65&&(J.pqsNaturales25a65+=parseFloat(Ae["25 a 65 a\xF1os"])||0,ge.pqsNaturales25a65++):_==="alcaldia"?j?(J.alcaldiaExtranjero+=parseFloat(Ae.EXTRANJERO)||0,ge.alcaldiaExtranjero++):Q>=5&&Q<=1e3&&(J.alcaldiaNacional+=parseFloat(Ae["12 a 65 a\xF1os"])||0,ge.alcaldiaNacional++):_==="defensaCivil"&&(J.defensaCivil+=parseFloat(Ae["5 a 11 a\xF1os"])||0,ge.defensaCivil++),console.log(`   Impuesto ${_} (acumulado): ${J[_]}`)}}console.log("Impuestos totales por habitaci\xF3n:",J);for(const re in J)J[re]===0&&(J[re]=null);console.log("Impuestos calculados para la habitaci\xF3n:",J),console.log("N\xFAmero de personas por impuesto:",ge),this.habitacionesDatos.push({idCotizacion:"",adultos:T,ni\u00F1os:W,acomodacion:Y,tipoHabitacion:ie,precioFlayerAdulto:H,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:Te,precioHabitacionAdulto:Ge,precioHabitacionTotal:Ze,precioComisionableAdulto:me,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Ye,valorDescuentoCliente:Ie,descuento:ke,TotalAcomodacionAdulto:Ke,TotalAcomodacionNino:pe,TotalAcomodacion:je,edadesAdultos:w.adultAges.filter(re=>re!==null).join(","),edadNino:w.childAge!==null?w.childAge:null,extranjero:w.isForeigner.map(re=>re?"SI":"NO").join(","),defensaCivil:J.defensaCivil,defensaCivilPersonas:ge.defensaCivil,alcaldiaNacional:J.alcaldiaNacional,alcaldiaNacionalPersonas:ge.alcaldiaNacional,alcaldiaExtranjero:J.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:ge.alcaldiaExtranjero,pqsNaturalesExtranjero:J.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:ge.pqsNaturalesExtranjero,pqsNaturales25a65:J.pqsNaturales25a65,pqsNaturales25a65Personas:ge.pqsNaturales25a65,pqsNaturales5a24:J.pqsNaturales5a24,pqsNaturales5a24Personas:ge.pqsNaturales5a24,cormacarenaExtranjero:J.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:ge.cormacarenaExtranjero,cormacarena5a11:J.cormacarena5a11,cormacarena5a11Personas:ge.cormacarena5a11,cormacarena12a65:J.cormacarena12a65,cormacarena12a65Personas:ge.cormacarena12a65})}})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(D=>{this.sumaTotalAcomodacion+=D.TotalAcomodacion,this.sumaValorBrutohab+=D.precioHabitacionTotal,this.sumaTotalDescuento+=D.descuento,this.cormacarena5a11Total+=D.cormacarena5a11||0,this.cormacarena12a65Total+=D.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=D.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=D.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=D.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=D.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=D.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=D.alcaldiaExtranjero||0,this.defensaCivilTotal+=D.defensaCivil||0,this.cormacarena5a11Personas+=D.cormacarena5a11Personas,this.cormacarena12a65Personas+=D.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=D.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=D.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=D.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=D.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=D.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=D.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=D.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=G,this.sumaTotalAcomodacion+=G,console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let S=null,M=null,xe=null,de=null;x==="Comisi\xF3n"&&(console.log("si es comison"),this.total,de=this.sumaTotalDescuento,v!==null&&v!==0&&(M=Math.round(this.sumaTotalDescuento*(v/100)),this.ivaCalculado=M,de+=M),X!==null&&X!==0&&(S=Math.round(this.sumaTotalDescuento*(X/100)),this.rteFuenteCalculado=S,de-=S),k!==null&&k!==0&&(xe=Math.round(this.sumaTotalDescuento*(k/100)),this.rteIcaCalculado=xe,de-=xe)),console.log("this.ivaCalculado",M),console.log("this.rteFuenteCalculado",S),console.log("this.rteIcaCalculado",xe),console.log("this.totalComision",de);const he=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",he),e*=he,a*=he,o*=he,t*=he,n*=he,s*=he,l*=he,this.sumaTotalAcomodacion+=l,console.log("combus",e),console.log("precioTrans",l),x==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-de);const be=new Date;be.setHours(0,0,0,0),console.log(be.toISOString().split("T")[0]);const Ce=dt.getItem("userData");console.log(Ce);let oe=parseInt(this.noche.value),fe=parseInt(oe)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",oe),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",fe);const K={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:fe,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:he,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:this.combus,tasa:this.tasa,iva:this.iva,ta:this.ta,ivaTa:this.ivaTa,otros:this.otros,precioTrans:this.precioTrans,suplemento:G,cliente:this.selectedClient,clientePorcentaje:b,CreadorCotizacion:Ce.id,fechaCreacion:be.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:S,ivaValor:M,rteIca:xe,totalComision:de,correo:this.correo,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas,incluye:this.textoIncluye?this.textoIncluye.replace(/\n/g,"\xBF"):null,noIncluye:this.textoNoIncluye?this.textoNoIncluye.replace(/\n/g,"\xBF"):null,extra1:null,transfer:null};console.log("formData",K);const ne=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",K);ne.data.success&&(console.log("mirar el numero",ne.data.success),console.log("mirar el numero1",ne.data.idCotizacion),this.idCotizacion=ne.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",ne.data),console.log("idCotizacion1",this.idCotizacion);const De=this.habitacionesDatos.map(async D=>{D.idCotizacion=this.idCotizacion;const Ne=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",D);return console.log("Respuesta de la habitaci\xF3n:",Ne.data),Ne.data}),qe=await Promise.all(De);console.log("Respuestas de todas las habitaciones:",qe),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.resetVariables(),this.closeModalPersonalizado()}catch(E){console.error("Error al guardar la cotizaci\xF3n:",E),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}}}},ys={key:0},Vs={padding:""},Cs={key:1},Ns=d("p",null,"Cargando datos del usuario...",-1),Ts=[Ns],Ss={style:{display:"inline-block","margin-right":"10px"}},Es={style:{display:"inline-block"}},xs=d("br",null,null,-1),ws={class:"row q-col-gutter-md"},As={class:"col",style:{"margin-left":"10px"}},Ps={class:"row items-center justify-end"},_s={class:"col"},qs={class:"row items-center justify-end"},Ds={class:"q-gutter-md"},Os={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},Is={class:"row q-col-gutter-md"},ks={class:"col"},Ms={class:"col"},zs={class:"row q-col-gutter-md"},Ls={class:"col"},Fs={class:"col"},Rs={class:"row q-col-gutter-md"},js={class:"col"},Hs={class:"col"},Us={key:0,class:"row q-col-gutter-md"},Bs={class:"col"},Ys={class:"col"},Ws={class:"row q-col-gutter-md"},Qs={class:"col"},Xs={class:"col"},Gs={class:"row q-col-gutter-md"},Js={class:"col"},Zs={key:0,class:"col"},Ks={class:"row q-col-gutter-md"},$s={class:"col"},ei={key:1,class:"row q-col-gutter-md"},ai={class:"col"},ti={key:2,class:"row q-col-gutter-md"},oi={class:"col"},li={style:{"text-align":"center"}},ni={style:{"margin-left":"10px","font-weight":"bold"}},si={class:"row q-col-gutter-md"},ii={class:"col"},ri={class:"col"},ci={class:"row q-col-gutter-md"},di={class:"col"},ui={class:"col"},mi={key:0},hi={class:"row"},fi=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),gi={key:0,class:"row"},pi=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),vi={class:"col-6 col-sm-4 col-md-3"},bi=d("div",null,null,-1),yi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),Vi={class:"row q-col-gutter-md"},Ci={class:"col"},Ni={class:"q-mb-md q-ml-md"},Ti={class:"col"},Si={class:"row q-col-gutter-md"},Ei={class:"col"},xi={class:"q-mb-md q-ml-md"},wi={class:"col"},Ai={class:"row q-col-gutter-md"},Pi={class:"col"},_i={class:"q-mb-md q-ml-md"},qi={class:"col",style:{"margin-left":"10px"}},Di={class:"row items-center justify-end"},Oi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),Ii={class:"row q-col-gutter-md"},ki={class:"col"},Mi={class:"q-mb-md q-ml-md"},zi={class:"col"},Li={class:"row q-col-gutter-md"},Fi={class:"col"},Ri={class:"q-mb-md q-ml-md"},ji={class:"col"},Hi={class:"row q-col-gutter-md"},Ui={class:"col"},Bi={class:"q-mb-md q-ml-md"},Yi={class:"col"},Wi={class:"row items-center justify-end"},Qi={class:"row q-col-gutter-md"},Xi={class:"col",style:{"margin-left":"10px"}},Gi={key:0},Ji=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),Zi={class:"row q-col-gutter-md"},Ki={class:"col"},$i={class:"col"},er={class:"row q-col-gutter-md"},ar={class:"col"},tr={class:"col"},or={class:"row q-col-gutter-md"},lr={class:"col"},nr=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),sr={class:"row q-col-gutter-md"},ir={class:"col"},rr={class:"col"},cr={class:"row q-col-gutter-md"},dr={class:"col"},ur={class:"col"},mr={class:"row q-col-gutter-md"},hr={class:"col"},fr={class:"row q-col-gutter-md"},gr={class:"col"},pr={class:"q-mb-md q-ml-md"},vr={key:1},br={class:"row q-mt-md justify-center"},yr={key:0,class:"col"},Vr={key:1,class:"col"},Cr={key:2,class:"col"},Nr={key:3,class:"col"},Tr={class:"row q-col-gutter-md"},Sr={class:"col",style:{"margin-left":"10px"}},Er={class:"row items-center justify-end"},xr={class:"col"},wr={class:"row items-center justify-end"},Ar={class:"q-gutter-md"},Pr={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},_r={class:"row q-col-gutter-md"},qr={class:"col"},Dr={class:"col"},Or={class:"row q-col-gutter-md"},Ir={class:"col"},kr={class:"col"},Mr={key:0,class:"row q-col-gutter-md"},zr={class:"col"},Lr={class:"col"},Fr={class:"row q-col-gutter-md"},Rr={class:"col"},jr={class:"col"},Hr={style:{"text-align":"center"}},Ur={style:{"margin-left":"10px","font-weight":"bold"}},Br={class:"row q-col-gutter-md"},Yr={class:"col"},Wr={class:"col"},Qr={class:"row q-col-gutter-md"},Xr={class:"col"},Gr={class:"col"},Jr={key:0},Zr={class:"row"},Kr=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),$r={key:0,class:"row"},ec=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),ac={class:"col-6 col-sm-4 col-md-3"},tc=d("div",null,null,-1),oc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),lc={class:"row q-col-gutter-md"},nc={class:"col"},sc={class:"q-mb-md q-ml-md"},ic={class:"col"},rc={class:"row q-col-gutter-md"},cc={class:"col"},dc={class:"q-mb-md q-ml-md"},uc={class:"col"},mc={class:"row q-col-gutter-md"},hc={class:"col"},fc={class:"q-mb-md q-ml-md"},gc={class:"col",style:{"margin-left":"10px"}},pc={class:"row items-center justify-end"},vc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),bc={class:"row q-col-gutter-md"},yc={class:"col"},Vc={class:"q-mb-md q-ml-md"},Cc={class:"col"},Nc={class:"row q-col-gutter-md"},Tc={class:"col"},Sc={class:"q-mb-md q-ml-md"},Ec={class:"col"},xc={class:"row q-col-gutter-md"},wc={class:"col"},Ac={class:"q-mb-md q-ml-md"},Pc={class:"col"},_c={class:"row items-center justify-end"},qc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Impuestos")],-1),Dc={class:"row q-col-gutter-md"},Oc={class:"col"},Ic={class:"q-mb-md q-ml-md"},kc={class:"col"},Mc={class:"row q-col-gutter-md"},zc={class:"col"},Lc={class:"q-mb-md q-ml-md"},Fc={class:"col"},Rc={class:"row q-col-gutter-md"},jc={class:"col"},Hc={class:"q-mb-md q-ml-md"},Uc={class:"col"},Bc={class:"row q-col-gutter-md"},Yc={class:"col"},Wc={class:"q-mb-md q-ml-md"},Qc={class:"row q-col-gutter-md"},Xc={class:"col"},Gc={class:"q-mb-md q-ml-md"},Jc={class:"col"},Zc={class:"row q-col-gutter-md"},Kc={class:"col",style:{"margin-left":"10px"}},$c={key:0},ed=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),ad={class:"row q-col-gutter-md"},td={class:"col"},od={class:"col"},ld={class:"row q-col-gutter-md"},nd={class:"col"},sd={class:"col"},id={class:"row q-col-gutter-md"},rd={class:"col"},cd=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),dd={class:"row q-col-gutter-md"},ud={class:"col"},md={class:"col"},hd={class:"row q-col-gutter-md"},fd={class:"col"},gd={class:"col"},pd={class:"row q-col-gutter-md"},vd={class:"col"},bd={class:"row q-col-gutter-md"},yd={class:"col"},Vd={class:"q-mb-md q-ml-md"},Cd={key:1},Nd={class:"row q-mt-md justify-center"},Td={key:0,class:"col"},Sd={key:1,class:"col"},Ed={key:2,class:"col"},xd={key:3,class:"col"},wd=d("div",{class:"text-h6 q-mb-md"},"Datos de Pasajeros",-1),Ad={class:"text-subtitle1 q-mb-sm"},Pd={class:"row q-mb-md"},_d={class:"col-6 q-pr-sm"},qd={class:"col-6"},Dd=d("br",null,null,-1),Od={class:"row"},Id={class:"col-6"},kd={class:"col-6"},Md=d("br",null,null,-1),zd=d("br",null,null,-1),Ld=d("br",null,null,-1),Fd=d("br",null,null,-1),Rd=d("br",null,null,-1),jd={type:"file",ref:"fileInput",style:{display:"none"}};function Hd(e,a,o,t,n,s){return ae(),ut(_l,{padding:""},{default:F(()=>[t.userData?(ae(),se("div",ys,[d("h5",Vs,"Bienvenido, "+Ya(t.userData.nombreCompleto),1)])):(ae(),se("div",Cs,Ts)),d("div",Ss,[m(le,{label:"Crear cotizacion",onClick:s.openModal,color:"primary"},null,8,["onClick"])]),d("div",Es,[m(le,{label:"Crear cotizacion Personalizada",onClick:s.openModalPersonalizado,color:"orange"},null,8,["onClick"])]),xs,m(ot,{modelValue:t.modalVisible,"onUpdate:modelValue":a[48]||(a[48]=l=>t.modalVisible=l),"content-css":"max-width: 600px;"},{default:F(()=>[m(_a,null,{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[oa(d("div",null,[m(_a,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("div",ws,[d("div",As,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[1]||(a[1]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[0]||(a[0]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",Ps,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",_s,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[3]||(a[3]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[2]||(a[2]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",qs,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",Ds,[m(ce,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[4]||(a[4]=l=>t.selectedDeparture=l),s.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(ce,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[5]||(a[5]=l=>t.destination=l),s.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:F(()=>[oa(d("div",Os," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",Is,[d("div",ks,[m(ce,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[6]||(a[6]=l=>t.hotel=l),s.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Ms,[m(ce,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":a[7]||(a[7]=l=>t.programName=l),label:"Nombre del Programa",options:t.matchingPrograms,"option-label":"nombrePrograma",class:"q-mb-md",error:!t.programName&&!t.autofillingProgramName,"error-message":"UPS... NO HAY TARIFA PARA ESTA TEMPORADA"},null,8,["modelValue","options","error"])])]),d("div",zs,[d("div",Ls,[m(ce,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[8]||(a[8]=l=>t.selectedClient=l),s.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Fs,[m(ce,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":a[9]||(a[9]=l=>t.noche=l),label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])])]),d("div",Rs,[d("div",js,[m(la,{modelValue:t.asesorExternoCheck,"onUpdate:modelValue":a[10]||(a[10]=l=>t.asesorExternoCheck=l),label:"\xBFAsesor Externo?",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Hs,[m(ce,{outlined:"",modelValue:t.selectedUser,"onUpdate:modelValue":a[11]||(a[11]=l=>t.selectedUser=l),options:e.dropdownOptions,label:"Selecciona un usuario",class:"q-mb-md q-ml-md",disable:!t.asesorExternoCheck},null,8,["modelValue","options","disable"])])]),s.shouldHideAdditionalNightSection()?Le("",!0):(ae(),se("div",Us,[d("div",Bs,[m(la,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[12]||(a[12]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Ys,[m(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[13]||(a[13]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",Ws,[d("div",Qs,[m(ce,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[14]||(a[14]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",Xs,[m(ce,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[15]||(a[15]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",Gs,[d("div",Js,[m(ce,{outlined:"",modelValue:t.transferInOut,"onUpdate:modelValue":a[16]||(a[16]=l=>t.transferInOut=l),label:"\xBFNecesita agregar alg\xFAn valor correspondiente a 'transfer in-out'?",options:["S\xED","No"],class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),t.transferInOut==="S\xED"?(ae(),se("div",Zs,[m(O,{outlined:"",modelValue:t.transferInOutValue,"onUpdate:modelValue":a[17]||(a[17]=l=>t.transferInOutValue=l),label:"Valor 'transfer in-out'",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])):Le("",!0)]),d("div",Ks,[d("div",$s,[m(ce,{outlined:"",modelValue:t.numExtraValues,"onUpdate:modelValue":a[18]||(a[18]=l=>t.numExtraValues=l),label:"\xBFCu\xE1ntos valores extra necesita agregar (m\xE1ximo 2)?",options:[0,1,2],class:"q-mb-md q-ml-md"},null,8,["modelValue"])])]),t.numExtraValues>=1?(ae(),se("div",ei,[d("div",ai,[m(O,{outlined:"",modelValue:t.extraValue1,"onUpdate:modelValue":a[19]||(a[19]=l=>t.extraValue1=l),label:"Valor extra 1",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Le("",!0),t.numExtraValues===2?(ae(),se("div",ti,[d("div",oi,[m(O,{outlined:"",modelValue:t.extraValue2,"onUpdate:modelValue":a[20]||(a[20]=l=>t.extraValue2=l),label:"Valor extra 2",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Le("",!0),(ae(!0),se(Da,null,qa(t.rooms,(l,u)=>(ae(),se("div",{key:u},[m(_a,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("p",li,[d("span",ni," Habitaci\xF3n "+Ya(u+1),1)]),d("div",si,[d("div",ii,[m(ce,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":f=>l.roomType=f,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",ri,[m(ce,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":f=>l.adults=f,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",ci,[d("div",di,[m(la,{modelValue:t.hasChildren[u],"onUpdate:modelValue":[f=>t.hasChildren[u]=f,f=>s.handleChildrenChange(u)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",ui,[m(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":f=>l.numChildren=f,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[u]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(u)?(ae(),se("div",mi,[d("div",hi,[fi,(ae(!0),se(Da,null,qa(l.adultAges,(f,E)=>(ae(),se("div",{key:"adult"+E+"-"+u,class:"col-6 col-sm-4 col-md-3"},[m(O,{filled:"",modelValue:l.adultAges[E],"onUpdate:modelValue":b=>l.adultAges[E]=b,label:"Adulto "+(E+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(la,{modelValue:l.isForeigner[E],"onUpdate:modelValue":b=>l.isForeigner[E]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[u]?(ae(),se("div",gi,[pi,d("div",vi,[m(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":f=>l.childAge=f,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Le("",!0)])):Le("",!0),m(ce,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":f=>l.accommodation=f,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),bi],512),[[za,t.activeTab==="tab1"]]),oa(d("div",null,[yi,d("div",Vi,[d("div",Ci,[d("div",Ni,[m(ce,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[21]||(a[21]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Ti,[m(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[22]||(a[22]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Si,[d("div",Ei,[d("div",xi,[m(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[23]||(a[23]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",wi,[m(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[24]||(a[24]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ai,[d("div",Pi,[d("div",_i,[m(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[25]||(a[25]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",qi,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[27]||(a[27]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[26]||(a[26]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",Di,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),Oi,d("div",Ii,[d("div",ki,[d("div",Mi,[m(ce,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[28]||(a[28]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",zi,[m(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[29]||(a[29]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Li,[d("div",Fi,[d("div",Ri,[m(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[30]||(a[30]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ji,[m(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[31]||(a[31]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Hi,[d("div",Ui,[d("div",Bi,[m(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[32]||(a[32]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Yi,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[34]||(a[34]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[33]||(a[33]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",Wi,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",Qi,[d("div",Xi,[m(la,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[35]||(a[35]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),se("div",Gi,[Ji,d("div",Zi,[d("div",Ki,[m(ce,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[36]||(a[36]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",$i,[m(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[37]||(a[37]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",er,[d("div",ar,[m(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[38]||(a[38]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",tr,[m(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[39]||(a[39]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",or,[d("div",lr,[m(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[40]||(a[40]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),nr,d("div",sr,[d("div",ir,[m(ce,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[41]||(a[41]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",rr,[m(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[42]||(a[42]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",cr,[d("div",dr,[m(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[43]||(a[43]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",ur,[m(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[44]||(a[44]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",mr,[d("div",hr,[m(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[45]||(a[45]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Le("",!0),d("div",fr,[d("div",gr,[d("div",pr,[m(la,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[46]||(a[46]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),se("div",vr,[m(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[47]||(a[47]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),se(Da,null,qa(t.peopleArray,l=>(ae(),se("div",{key:l},[m(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":u=>t.supplementValues[l-1]=u,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Le("",!0)],512),[[za,t.activeTab==="tab2"]]),d("div",br,[t.activeTab==="tab2"?(ae(),se("div",yr,[m(le,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab2"?(ae(),se("div",Vr,[m(le,{label:"Registrar",onClick:s.saveFormData,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),se("div",Cr,[m(le,{label:"Cerrar",onClick:s.closeModal,color:"red"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"?(ae(),se("div",Nr,[m(le,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Le("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ot,{modelValue:t.modalVisiblePersonalizado,"onUpdate:modelValue":a[101]||(a[101]=l=>t.modalVisiblePersonalizado=l),"content-css":"max-width: 600px;"},{default:F(()=>[m(_a,null,{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[oa(d("div",null,[m(_a,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("div",Tr,[d("div",Sr,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[50]||(a[50]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[49]||(a[49]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",Er,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",xr,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[52]||(a[52]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[51]||(a[51]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",wr,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",Ar,[m(ce,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[53]||(a[53]=l=>t.selectedDeparture=l),s.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(ce,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[54]||(a[54]=l=>t.destination=l),s.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:F(()=>[oa(d("div",Pr," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",_r,[d("div",qr,[m(ce,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[55]||(a[55]=l=>t.selectedClient=l),s.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Dr,[m(ce,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":[a[56]||(a[56]=l=>t.programName=l),s.handleSelectionChangeTipo],label:"Nombre del Programa",options:t.programNameOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",Or,[d("div",Ir,[m(ce,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":[a[57]||(a[57]=l=>t.noche=l),s.handleSelectionChangeTipo],label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",kr,[m(ce,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[58]||(a[58]=l=>t.hotel=l),s.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),s.shouldHideAdditionalNightSection()?Le("",!0):(ae(),se("div",Mr,[d("div",zr,[m(la,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[59]||(a[59]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Lr,[m(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[60]||(a[60]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",Fr,[d("div",Rr,[m(ce,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[61]||(a[61]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",jr,[m(ce,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[62]||(a[62]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(ae(!0),se(Da,null,qa(t.rooms,(l,u)=>(ae(),se("div",{key:u},[m(_a,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("p",Hr,[d("span",Ur," Habitaci\xF3n "+Ya(u+1),1)]),d("div",Br,[d("div",Yr,[m(ce,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":f=>l.roomType=f,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",Wr,[m(ce,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":f=>l.adults=f,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",Qr,[d("div",Xr,[m(la,{modelValue:t.hasChildren[u],"onUpdate:modelValue":[f=>t.hasChildren[u]=f,f=>s.handleChildrenChange(u)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",Gr,[m(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":f=>l.numChildren=f,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[u]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(u)?(ae(),se("div",Jr,[d("div",Zr,[Kr,(ae(!0),se(Da,null,qa(l.adultAges,(f,E)=>(ae(),se("div",{key:"adult"+E+"-"+u,class:"col-6 col-sm-4 col-md-3"},[m(O,{filled:"",modelValue:l.adultAges[E],"onUpdate:modelValue":b=>l.adultAges[E]=b,label:"Adulto "+(E+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(la,{modelValue:l.isForeigner[E],"onUpdate:modelValue":b=>l.isForeigner[E]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[u]?(ae(),se("div",$r,[ec,d("div",ac,[m(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":f=>l.childAge=f,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Le("",!0)])):Le("",!0),m(ce,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":f=>l.accommodation=f,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"]),m(O,{filled:"",modelValue:l.valor,"onUpdate:modelValue":f=>l.valor=f,label:"Valor Persona",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),tc],512),[[za,t.activeTab==="tab1"]]),oa(d("div",null,[oc,d("div",lc,[d("div",nc,[d("div",sc,[m(ce,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[63]||(a[63]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",ic,[m(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[64]||(a[64]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",rc,[d("div",cc,[d("div",dc,[m(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[65]||(a[65]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",uc,[m(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[66]||(a[66]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",mc,[d("div",hc,[d("div",fc,[m(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[67]||(a[67]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",gc,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[69]||(a[69]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[68]||(a[68]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",pc,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),vc,d("div",bc,[d("div",yc,[d("div",Vc,[m(ce,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[70]||(a[70]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Cc,[m(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[71]||(a[71]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Nc,[d("div",Tc,[d("div",Sc,[m(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[72]||(a[72]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ec,[m(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[73]||(a[73]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",xc,[d("div",wc,[d("div",Ac,[m(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[74]||(a[74]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Pc,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[76]||(a[76]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ea,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[75]||(a[75]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",_c,[oa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),qc,d("div",Dc,[d("div",Oc,[d("div",Ic,[m(O,{modelValue:t.Combus,"onUpdate:modelValue":a[77]||(a[77]=l=>t.Combus=l),label:"Combus",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",kc,[m(O,{modelValue:t.Tasa,"onUpdate:modelValue":a[78]||(a[78]=l=>t.Tasa=l),label:"Tasa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Mc,[d("div",zc,[d("div",Lc,[m(O,{modelValue:t.Iva,"onUpdate:modelValue":a[79]||(a[79]=l=>t.Iva=l),label:"Iva",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Fc,[m(O,{modelValue:t.Ta,"onUpdate:modelValue":a[80]||(a[80]=l=>t.Ta=l),label:"Ta",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Rc,[d("div",jc,[d("div",Hc,[m(O,{modelValue:t.IvaTa,"onUpdate:modelValue":a[81]||(a[81]=l=>t.IvaTa=l),label:"IvaTa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Uc,[m(O,{modelValue:t.Otros,"onUpdate:modelValue":a[82]||(a[82]=l=>t.Otros=l),label:"Otros",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Bc,[d("div",Yc,[d("div",Wc,[m(O,{modelValue:t.precioTransp,"onUpdate:modelValue":a[83]||(a[83]=l=>t.precioTransp=l),label:"Precio Transporte",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])]),d("div",Qc,[d("div",Xc,[d("div",Gc,[m(O,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[85]||(a[85]=l=>t.textoIncluye=l),label:"Incluye",filled:"",type:"textarea",autogrow:""},{control:F(()=>[m(Bt,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[84]||(a[84]=l=>t.textoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Jc,[m(O,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[87]||(a[87]=l=>t.textoNoIncluye=l),label:"No Incluye",filled:"",type:"textarea",autogrow:""},{control:F(()=>[m(Bt,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[86]||(a[86]=l=>t.textoNoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Zc,[d("div",Kc,[m(la,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[88]||(a[88]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),se("div",$c,[ed,d("div",ad,[d("div",td,[m(ce,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[89]||(a[89]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",od,[m(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[90]||(a[90]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ld,[d("div",nd,[m(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[91]||(a[91]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",sd,[m(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[92]||(a[92]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",id,[d("div",rd,[m(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[93]||(a[93]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),cd,d("div",dd,[d("div",ud,[m(ce,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[94]||(a[94]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",md,[m(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[95]||(a[95]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",hd,[d("div",fd,[m(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[96]||(a[96]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",gd,[m(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[97]||(a[97]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",pd,[d("div",vd,[m(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[98]||(a[98]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Le("",!0),d("div",bd,[d("div",yd,[d("div",Vd,[m(la,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[99]||(a[99]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),se("div",Cd,[m(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[100]||(a[100]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),se(Da,null,qa(t.peopleArray,l=>(ae(),se("div",{key:l},[m(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":u=>t.supplementValues[l-1]=u,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Le("",!0)],512),[[za,t.activeTab==="tab2"]]),d("div",Nd,[t.activeTab==="tab2"?(ae(),se("div",Td,[m(le,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"?(ae(),se("div",Sd,[m(le,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab2"?(ae(),se("div",Ed,[m(le,{label:"Registrar",onClick:s.saveFormDataPersonalizado,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),se("div",xd,[m(le,{label:"Cerrar",onClick:s.closeModalPersonalizado,color:"red"},null,8,["onClick"])])):Le("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ot,{modelValue:t.mostrarModalPasajeros,"onUpdate:modelValue":a[106]||(a[106]=l=>t.mostrarModalPasajeros=l),persistent:""},{default:F(()=>[m(_a,{style:{"min-width":"500px"}},{default:F(()=>[m(ya,null,{default:F(()=>[wd]),_:1}),m(ya,{class:"q-pt-none"},{default:F(()=>[m(ql,{onSubmit:s.procesarLiquidacion,class:"q-gutter-md"},{default:F(()=>[(ae(!0),se(Da,null,qa(t.pasajeros,(l,u)=>(ae(),se("div",{key:u,class:"q-pa-md q-mb-md bg-grey-2 rounded-borders"},[d("div",Ad,"Pasajero "+Ya(u+1),1),m(O,{modelValue:l.nombre,"onUpdate:modelValue":f=>l.nombre=f,label:"Nombre",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),d("div",Pd,[d("div",_d,[m(ce,{modelValue:l.tipoDocumento,"onUpdate:modelValue":f=>l.tipoDocumento=f,options:t.opcionesTipoDocumento,label:"Tipo de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",qd,[m(O,{modelValue:l.numeroDocumento,"onUpdate:modelValue":f=>l.numeroDocumento=f,label:"N\xFAmero de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]),m(O,{modelValue:l.fechaNacimiento,"onUpdate:modelValue":f=>l.fechaNacimiento=f,label:"Fecha de Nacimiento",filled:"",dense:"",type:"date",rules:[f=>f?new Date(f)>new Date?"La fecha no puede ser en el futuro":!0:"La fecha es requerida"],class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue","rules"])]))),128)),m(la,{modelValue:t.tieneTelefono,"onUpdate:modelValue":a[102]||(a[102]=l=>t.tieneTelefono=l),label:"\xBFTiene tel\xE9fono?"},null,8,["modelValue"]),t.tieneTelefono?(ae(),ut(O,{key:0,modelValue:t.telefono,"onUpdate:modelValue":a[103]||(a[103]=l=>t.telefono=l),label:"Tel\xE9fono",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Le("",!0),m(la,{modelValue:t.tieneNumero,"onUpdate:modelValue":a[104]||(a[104]=l=>t.tieneNumero=l),label:"\xBFTiene correo?"},null,8,["modelValue"]),t.tieneNumero?(ae(),ut(O,{key:1,modelValue:t.correoPasajero,"onUpdate:modelValue":a[105]||(a[105]=l=>t.correoPasajero=l),label:"Correo",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Le("",!0),m(Dl,{align:"right",class:"bg-white text-teal"},{default:F(()=>[m(le,{flat:"",label:"Cancelar",onClick:s.cerrarModalPasajeros},null,8,["onClick"]),m(le,{type:"submit",label:"Guardar",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("div",null,[Dd,d("div",Od,[d("div",Id,[m(ce,{modelValue:t.selectedFilter,"onUpdate:modelValue":a[107]||(a[107]=l=>t.selectedFilter=l),options:["Todos","Cot","Cot-C"],label:"Filtrar por Tipo",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),d("div",kd,[m(ce,{modelValue:t.filterStatus,"onUpdate:modelValue":a[108]||(a[108]=l=>t.filterStatus=l),options:t.statusOptions,label:"Filtrar por Status",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),Md,m(kl,{rows:s.filteredCotizacionData(),columns:t.columns,sortBy:t.sortBy,"onUpdate:sortBy":a[109]||(a[109]=l=>t.sortBy=l),sortOrder:t.sortOrder,"onUpdate:sortOrder":a[110]||(a[110]=l=>t.sortOrder=l)},{"body-cell-status":F(l=>[m(It,{props:l},{default:F(()=>[m(Ol,{color:s.getStatusColor(l.row.status),"text-color":"white",square:""},{default:F(()=>[Il(Ya(l.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-cotizacion":F(l=>[m(It,{props:l},{default:F(()=>[m(le,{onClick:u=>s.descargarCotizacionN(l.row),color:"primary",label:"Descargar Cotizaci\xF3n"},null,8,["onClick"]),zd,Ld,m(le,{onClick:u=>s.enviarCotizacion(l.row),color:"secondary",label:"Enviar Cotizaci\xF3n"},null,8,["onClick"]),Fd,Rd,m(le,{onClick:u=>s.abrirModalPasajeros(l.row),color:"green",label:"Pasar a Liquidaci\xF3n"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","sortBy","sortOrder"]),d("input",jd,null,512)])]),_:1})}var Zd=Al(bs,[["render",Hd]]);export{Zd as default};
