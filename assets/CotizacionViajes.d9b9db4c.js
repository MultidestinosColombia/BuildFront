import{a as j,aJ as Te,aK as $t,aL as al,c as Ra,aM as tl,E as eo,F as ao,aN as ol,r as C,aO as ll,w as na,T as bt,h as P,aP as ja,d as Ga,g as Ja,aQ as nl,af as le,aR as to,aS as oo,aT as sl,aA as ot,aU as lo,n as il,aV as no,aW as so,aX as rl,aY as cl,k as Ct,a6 as fa,z as io,O as dl,aZ as xt,a_ as ul,P as ml,a$ as wt,aq as hl,Q as fl,b0 as gl,b1 as pl,R as vl,b2 as bl,o as yt,b3 as At,B as Pt,b4 as yl,D as qt,v as Dt,j as Vl,b5 as Cl,C as ro,an as co,y as _t,a4 as Ot,a3 as Nl,b6 as El,b7 as Sl,b8 as Tl,b9 as xl,ba as wl,ad as Al,ab as Pl,ac as dt,a0 as ae,a1 as ut,a2 as F,as as ql,ax as mt,aw as ie,aj as d,aa as Ya,a5 as m,au as qa,at as ya,N as aa,bb as za,av as O,bc as Va,az as de,bd as la,a7 as Me,aD as Da,aE as _a,ay as Dl,be as _l,aB as It,aG as Ol,a9 as Il,aC as kl}from"./index.78b815cd.js";import{E as kt,n as Ca}from"./PDFButton.2605e19d.js";import{a as te}from"./axios.37d53be1.js";function Ml(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return e.hasOwnProperty(a)},clearCache(a){a!==void 0?delete e[a]:e={}}}}const wa=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function zl(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Rl(Nt(e,a,o))}function Mt(e,a,o){return mo(jl(e,a,o))}function Ll(e){return Fl(e)===0}function lt(e,a){return a<=6?31:a<=11||Ll(e)?30:29}function Fl(e){const a=wa.length;let o=wa[0],t,n,s,l,u;if(e<o||e>=wa[a-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<a&&(t=wa[u],n=t-o,!(e<t));u+=1)o=t;return l=e-o,n-l<6&&(l=l-n+De(n+4,33)*33),s=sa(sa(l+1,33)-1,4),s===-1&&(s=4),s}function uo(e,a){const o=wa.length,t=e+621;let n=-14,s=wa[0],l,u,f,T,b;if(e<s||e>=wa[o-1])throw new Error("Invalid Jalaali year "+e);for(b=1;b<o&&(l=wa[b],u=l-s,!(e<l));b+=1)n=n+De(u,33)*8+De(sa(u,33),4),s=l;T=e-s,n=n+De(T,33)*8+De(sa(T,33)+3,4),sa(u,33)===4&&u-T===4&&(n+=1);const x=De(t,4)-De((De(t,100)+1)*3,4)-150,X=20+n-x;return a||(u-T<6&&(T=T-u+De(u+4,33)*33),f=sa(sa(T+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:t,march:X}}function jl(e,a,o){const t=uo(e,!0);return Nt(t.gy,3,t.march)+(a-1)*31-De(a,7)*(a-7)+o-1}function Rl(e){const a=mo(e).gy;let o=a-621,t,n,s;const l=uo(o,!1),u=Nt(a,3,l.march);if(s=e-u,s>=0){if(s<=185)return n=1+De(s,31),t=sa(s,31)+1,{jy:o,jm:n,jd:t};s-=186}else o-=1,s+=179,l.leap===1&&(s+=1);return n=7+De(s,30),t=sa(s,30)+1,{jy:o,jm:n,jd:t}}function Nt(e,a,o){let t=De((e+De(a-8,6)+100100)*1461,4)+De(153*sa(a+9,12)+2,5)+o-34840408;return t=t-De(De(e+100100+De(a-8,6),100)*3,4)+752,t}function mo(e){let a=4*e+139361631;a=a+De(De(4*e+183187720,146097)*3,4)*4-3908;const o=De(sa(a,1461),4)*5+308,t=De(sa(o,153),5)+1,n=sa(De(o,153),12)+1;return{gy:De(a,1461)-100100+De(8-n,6),gm:n,gd:t}}function De(e,a){return~~(e/a)}function sa(e,a){return e-~~(e/a)*a}const Hl=["gregorian","persian"],Ul={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Hl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Bl=["update:modelValue"];function Na(e){return e.year+"/"+Te(e.month)+"/"+Te(e.day)}function Yl(e,a){const o=j(()=>e.disable!==!0&&e.readonly!==!0),t=j(()=>o.value===!0?0:-1),n=j(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function s(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function l(u){const f=new Date,T=u===!0?null:0;if(e.calendar==="persian"){const b=zl(f);return{year:b.jy,month:b.jm,day:b.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:o,tabindex:t,headerClass:n,getLocale:s,getCurrentDate:l}}const ho=864e5,Wl=36e5,Vt=6e4,fo="YYYY-MM-DDTHH:mm:ss.SSSZ",Ql=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Xl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,ht={};function Gl(e,a){const o="("+a.days.join("|")+")",t=e+o;if(ht[t]!==void 0)return ht[t];const n="("+a.daysShort.join("|")+")",s="("+a.months.join("|")+")",l="("+a.monthsShort.join("|")+")",u={};let f=0;const T=e.replace(Xl,x=>{switch(f++,x){case"YY":return u.YY=f,"(-?\\d{1,2})";case"YYYY":return u.YYYY=f,"(-?\\d{1,4})";case"M":return u.M=f,"(\\d{1,2})";case"MM":return u.M=f,"(\\d{2})";case"MMM":return u.MMM=f,l;case"MMMM":return u.MMMM=f,s;case"D":return u.D=f,"(\\d{1,2})";case"Do":return u.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=f,"(\\d{2})";case"H":return u.H=f,"(\\d{1,2})";case"HH":return u.H=f,"(\\d{2})";case"h":return u.h=f,"(\\d{1,2})";case"hh":return u.h=f,"(\\d{2})";case"m":return u.m=f,"(\\d{1,2})";case"mm":return u.m=f,"(\\d{2})";case"s":return u.s=f,"(\\d{1,2})";case"ss":return u.s=f,"(\\d{2})";case"S":return u.S=f,"(\\d{1})";case"SS":return u.S=f,"(\\d{2})";case"SSS":return u.S=f,"(\\d{3})";case"A":return u.A=f,"(AM|PM)";case"a":return u.a=f,"(am|pm)";case"aa":return u.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=f,"(-?\\d+)";case"x":return u.x=f,"(-?\\d{4,})";default:return f--,x[0]==="["&&(x=x.substring(1,x.length-1)),x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),b={map:u,regex:new RegExp("^"+T)};return ht[t]=b,b}function go(e,a){return e!==void 0?e:a!==void 0?a.date:al.date}function zt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.floor(t/60),s=t%60;return o+Te(n)+a+Te(s)}function Jl(e,a,o,t,n){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(s,n),e==null||e===""||typeof e!="string")return s;a===void 0&&(a=fo);const l=go(o,$t.props),u=l.months,f=l.monthsShort,{regex:T,map:b}=Gl(a,l),x=e.match(T);if(x===null)return s;let X="";if(b.X!==void 0||b.x!==void 0){const k=parseInt(x[b.X!==void 0?b.X:b.x],10);if(isNaN(k)===!0||k<0)return s;const v=new Date(k*(b.X!==void 0?1e3:1));s.year=v.getFullYear(),s.month=v.getMonth()+1,s.day=v.getDate(),s.hour=v.getHours(),s.minute=v.getMinutes(),s.second=v.getSeconds(),s.millisecond=v.getMilliseconds()}else{if(b.YYYY!==void 0)s.year=parseInt(x[b.YYYY],10);else if(b.YY!==void 0){const k=parseInt(x[b.YY],10);s.year=k<0?k:2e3+k}if(b.M!==void 0){if(s.month=parseInt(x[b.M],10),s.month<1||s.month>12)return s}else b.MMM!==void 0?s.month=f.indexOf(x[b.MMM])+1:b.MMMM!==void 0&&(s.month=u.indexOf(x[b.MMMM])+1);if(b.D!==void 0){if(s.day=parseInt(x[b.D],10),s.year===null||s.month===null||s.day<1)return s;const k=t!=="persian"?new Date(s.year,s.month,0).getDate():lt(s.year,s.month);if(s.day>k)return s}b.H!==void 0?s.hour=parseInt(x[b.H],10)%24:b.h!==void 0&&(s.hour=parseInt(x[b.h],10)%12,(b.A&&x[b.A]==="PM"||b.a&&x[b.a]==="pm"||b.aa&&x[b.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),b.m!==void 0&&(s.minute=parseInt(x[b.m],10)%60),b.s!==void 0&&(s.second=parseInt(x[b.s],10)%60),b.S!==void 0&&(s.millisecond=parseInt(x[b.S],10)*10**(3-x[b.S].length)),(b.Z!==void 0||b.ZZ!==void 0)&&(X=b.Z!==void 0?x[b.Z].replace(":",""):x[b.ZZ],s.timezoneOffset=(X[0]==="+"?-1:1)*(60*X.slice(1,3)+1*X.slice(3,5)))}return s.dateHash=Te(s.year,6)+"/"+Te(s.month)+"/"+Te(s.day),s.timeHash=Te(s.hour)+":"+Te(s.minute)+":"+Te(s.second)+X,s}function Lt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const t=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-t);const n=(a-o)/(ho*7);return 1+Math.floor(n)}function va(e,a,o){const t=new Date(e),n=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":t[`${n}Month`](0);case"month":case"months":t[`${n}Date`](1);case"day":case"days":case"date":t[`${n}Hours`](0);case"hour":case"hours":t[`${n}Minutes`](0);case"minute":case"minutes":t[`${n}Seconds`](0);case"second":case"seconds":t[`${n}Milliseconds`](0)}return t}function tt(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Vt-(a.getTime()-a.getTimezoneOffset()*Vt))/o}function po(e,a,o="days"){const t=new Date(e),n=new Date(a);switch(o){case"years":case"year":return t.getFullYear()-n.getFullYear();case"months":case"month":return(t.getFullYear()-n.getFullYear())*12+t.getMonth()-n.getMonth();case"days":case"day":case"date":return tt(va(t,"day"),va(n,"day"),ho);case"hours":case"hour":return tt(va(t,"hour"),va(n,"hour"),Wl);case"minutes":case"minute":return tt(va(t,"minute"),va(n,"minute"),Vt);case"seconds":case"second":return tt(va(t,"second"),va(n,"second"),1e3)}}function Ft(e){return po(e,va(e,"year"),"days")+1}function jt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Rt={YY(e,a,o){const t=this.YYYY(e,a,o)%100;return t>=0?Te(t):"-"+Te(Math.abs(t))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Te(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return jt(this.Q(e))},D(e){return e.getDate()},Do(e){return jt(e.getDate())},DD(e){return Te(e.getDate())},DDD(e){return Ft(e)},DDDD(e){return Te(Ft(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Lt(e)},ww(e){return Te(Lt(e))},H(e){return e.getHours()},HH(e){return Te(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Te(this.h(e))},m(e){return e.getMinutes()},mm(e){return Te(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Te(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Te(Math.floor(e.getMilliseconds()/10))},SSS(e){return Te(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return zt(n,":")},ZZ(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return zt(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Zl(e,a,o,t,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;a===void 0&&(a=fo);const l=go(o,$t.props);return a.replace(Ql,(u,f)=>u in Rt?Rt[u](s,l,t,n):f===void 0?u:f.split("\\]").join("]"))}const Oa=20,Kl=["Calendar","Years","Months"],Ht=e=>Kl.includes(e),ft=e=>/^-?[\d]+\/[0-1]\d$/.test(e),La=" \u2014 ";function Ea(e){return e.year+"/"+Te(e.month)}var Sa=Ra({name:"QDate",props:{...Ul,...tl,...eo,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ft},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ft},navigationMaxYearMonth:{type:String,validator:ft},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ht}},emits:[...Bl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),{$q:n}=t,s=ao(e,n),{getCache:l}=Ml(),{tabindex:u,headerClass:f,getLocale:T,getCurrentDate:b}=Yl(e,n);let x;const X=ol(e),k=nl(X),v=C(null),g=C(R()),h=C(T()),N=j(()=>R()),G=j(()=>T()),J=j(()=>b()),E=C(_(g.value,h.value)),z=C(e.defaultView),xe=n.lang.rtl===!0?"right":"left",ue=C(xe.value),he=C(xe.value),Ce=E.value.year,Ee=C(Ce-Ce%Oa-(Ce<0?Oa:0)),oe=C(null),fe=j(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(s.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),Z=j(()=>e.color||"primary"),ne=j(()=>e.textColor||"white"),Ie=j(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),_e=j(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),q=j(()=>_e.value.filter(r=>typeof r=="string").map(r=>qe(r,g.value,h.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),Se=j(()=>{const r=i=>qe(i,g.value,h.value);return _e.value.filter(i=>ll(i)===!0&&i.from!==void 0&&i.to!==void 0).map(i=>({from:r(i.from),to:r(i.to)})).filter(i=>i.from.dateHash!==null&&i.to.dateHash!==null&&i.from.dateHash<i.to.dateHash)}),we=j(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const i=Mt(r.year,r.month,r.day);return new Date(i.gy,i.gm-1,i.gd)}),w=j(()=>e.calendar==="persian"?Na:(r,i,c)=>Zl(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),i===void 0?g.value:i,c===void 0?h.value:c,r.year,r.timezoneOffset)),me=j(()=>q.value.length+Se.value.reduce((r,i)=>r+1+po(we.value(i.to),we.value(i.from)),0)),U=j(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(oe.value!==null){const c=oe.value.init,p=we.value(c);return h.value.daysShort[p.getDay()]+", "+h.value.monthsShort[c.month-1]+" "+c.day+La+"?"}if(me.value===0)return La;if(me.value>1)return`${me.value} ${h.value.pluralDay}`;const r=q.value[0],i=we.value(r);return isNaN(i.valueOf())===!0?La:h.value.headerTitle!==void 0?h.value.headerTitle(i,r):h.value.daysShort[i.getDay()]+", "+h.value.monthsShort[r.month-1]+" "+r.day}),re=j(()=>q.value.concat(Se.value.map(i=>i.from)).sort((i,c)=>i.year-c.year||i.month-c.month)[0]),ze=j(()=>q.value.concat(Se.value.map(i=>i.to)).sort((i,c)=>c.year-i.year||c.month-i.month)[0]),D=j(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(me.value===0)return La;if(me.value>1){const r=re.value,i=ze.value,c=h.value.monthsShort;return c[r.month-1]+(r.year!==i.year?" "+r.year+La+c[i.month-1]+" ":r.month!==i.month?La+c[i.month-1]:"")+" "+i.year}return q.value[0].year}),y=j(()=>{const r=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?r.reverse():r}),S=j(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):h.value.firstDayOfWeek),Y=j(()=>{const r=h.value.daysShort,i=S.value;return i>0?r.slice(i,7).concat(r.slice(0,i)):r}),B=j(()=>{const r=E.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():lt(r.year,r.month)}),Q=j(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ge=j(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),ye=j(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),Be=j(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ge.value!==null&&ge.value.year>=E.value.year&&(r.year.prev=!1,ge.value.year===E.value.year&&ge.value.month>=E.value.month&&(r.month.prev=!1)),ye.value!==null&&ye.value.year<=E.value.year&&(r.year.next=!1,ye.value.year===E.value.year&&ye.value.month<=E.value.month&&(r.month.next=!1)),r}),Le=j(()=>{const r={};return q.value.forEach(i=>{const c=Ea(i);r[c]===void 0&&(r[c]=[]),r[c].push(i.day)}),r}),Fe=j(()=>{const r={};return Se.value.forEach(i=>{const c=Ea(i.from),p=Ea(i.to);if(r[c]===void 0&&(r[c]=[]),r[c].push({from:i.from.day,to:c===p?i.to.day:void 0,range:i}),c<p){let V;const{year:L,month:A}=i.from,H=A<12?{year:L,month:A+1}:{year:L+1,month:1};for(;(V=Ea(H))<=p;)r[V]===void 0&&(r[V]=[]),r[V].push({from:void 0,to:V===p?i.to.day:void 0,range:i}),H.month++,H.month>12&&(H.year++,H.month=1)}}),r}),je=j(()=>{if(oe.value===null)return;const{init:r,initHash:i,final:c,finalHash:p}=oe.value,[V,L]=i<=p?[r,c]:[c,r],A=Ea(V),H=Ea(L);if(A!==Ae.value&&H!==Ae.value)return;const K={};return A===Ae.value?(K.from=V.day,K.includeFrom=!0):K.from=1,H===Ae.value?(K.to=L.day,K.includeTo=!0):K.to=B.value,K}),Ae=j(()=>Ea(E.value)),Ye=j(()=>{const r={};if(e.options===void 0){for(let c=1;c<=B.value;c++)r[c]=!0;return r}const i=typeof e.options=="function"?e.options:c=>e.options.includes(c);for(let c=1;c<=B.value;c++){const p=Ae.value+"/"+Te(c);r[c]=i(p)}return r}),We=j(()=>{const r={};if(e.events===void 0)for(let i=1;i<=B.value;i++)r[i]=!1;else{const i=typeof e.events=="function"?e.events:c=>e.events.includes(c);for(let c=1;c<=B.value;c++){const p=Ae.value+"/"+Te(c);r[c]=i(p)===!0&&Q.value(p)}}return r}),Pe=j(()=>{let r,i;const{year:c,month:p}=E.value;if(e.calendar!=="persian")r=new Date(c,p-1,1),i=new Date(c,p-1,0).getDate();else{const V=Mt(c,p,1);r=new Date(V.gy,V.gm-1,V.gd);let L=p-1,A=c;L===0&&(L=12,A--),i=lt(A,L)}return{days:r.getDay()-S.value-1,endDay:i}}),Re=j(()=>{const r=[],{days:i,endDay:c}=Pe.value,p=i<0?i+7:i;if(p<6)for(let A=c-p;A<=c;A++)r.push({i:A,fill:!0});const V=r.length;for(let A=1;A<=B.value;A++){const H={i:A,event:We.value[A],classes:[]};Ye.value[A]===!0&&(H.in=!0,H.flat=!0),r.push(H)}if(Le.value[Ae.value]!==void 0&&Le.value[Ae.value].forEach(A=>{const H=V+A-1;Object.assign(r[H],{selected:!0,unelevated:!0,flat:!1,color:Z.value,textColor:ne.value})}),Fe.value[Ae.value]!==void 0&&Fe.value[Ae.value].forEach(A=>{if(A.from!==void 0){const H=V+A.from-1,K=V+(A.to||B.value)-1;for(let ke=H;ke<=K;ke++)Object.assign(r[ke],{range:A.range,unelevated:!0,color:Z.value,textColor:ne.value});Object.assign(r[H],{rangeFrom:!0,flat:!1}),A.to!==void 0&&Object.assign(r[K],{rangeTo:!0,flat:!1})}else if(A.to!==void 0){const H=V+A.to-1;for(let K=V;K<=H;K++)Object.assign(r[K],{range:A.range,unelevated:!0,color:Z.value,textColor:ne.value});Object.assign(r[H],{flat:!1,rangeTo:!0})}else{const H=V+B.value-1;for(let K=V;K<=H;K++)Object.assign(r[K],{range:A.range,unelevated:!0,color:Z.value,textColor:ne.value})}}),je.value!==void 0){const A=V+je.value.from-1,H=V+je.value.to-1;for(let K=A;K<=H;K++)r[K].color=Z.value,r[K].editRange=!0;je.value.includeFrom===!0&&(r[A].editRangeFrom=!0),je.value.includeTo===!0&&(r[H].editRangeTo=!0)}E.value.year===J.value.year&&E.value.month===J.value.month&&(r[V+J.value.day-1].today=!0);const L=r.length%7;if(L>0){const A=7-L;for(let H=1;H<=A;H++)r.push({i:H,fill:!0})}return r.forEach(A=>{let H="q-date__calendar-item ";A.fill===!0?H+="q-date__calendar-item--fill":(H+=`q-date__calendar-item--${A.in===!0?"in":"out"}`,A.range!==void 0&&(H+=` q-date__range${A.rangeTo===!0?"-to":A.rangeFrom===!0?"-from":""}`),A.editRange===!0&&(H+=` q-date__edit-range${A.editRangeFrom===!0?"-from":""}${A.editRangeTo===!0?"-to":""}`),(A.range!==void 0||A.editRange===!0)&&(H+=` text-${A.color}`)),A.classes=H}),r}),Ze=j(()=>e.disable===!0?{"aria-disabled":"true"}:{});na(()=>e.modelValue,r=>{if(x===r)x=0;else{const i=_(g.value,h.value);Ve(i.year,i.month,i)}}),na(z,()=>{v.value!==null&&t.$el.contains(document.activeElement)===!0&&v.value.focus()}),na(()=>E.value.year+"|"+E.value.month,()=>{o("navigation",{year:E.value.year,month:E.value.month})}),na(N,r=>{Je(r,h.value,"mask"),g.value=r}),na(G,r=>{Je(g.value,r,"locale"),h.value=r});function Xe(){const{year:r,month:i,day:c}=J.value,p={...E.value,year:r,month:i,day:c},V=Le.value[Ea(p)];(V===void 0||V.includes(p.day)===!1)&&ua(p),se(p.year,p.month)}function $(r){Ht(r)===!0&&(z.value=r)}function pe(r,i){["month","year"].includes(r)&&(r==="month"?da:ee)(i===!0?-1:1)}function se(r,i){z.value="Calendar",Ve(r,i)}function W(r,i){if(e.range===!1||!r){oe.value=null;return}const c=Object.assign({...E.value},r),p=i!==void 0?Object.assign({...E.value},i):c;oe.value={init:c,initHash:Na(c),final:p,finalHash:Na(p)},se(c.year,c.month)}function R(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function qe(r,i,c){return Jl(r,i,c,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function _(r,i){const c=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(c.length===0)return M();const p=c[c.length-1],V=qe(p.from!==void 0?p.from:p,r,i);return V.dateHash===null?M():V}function M(){let r,i;if(e.defaultYearMonth!==void 0){const c=e.defaultYearMonth.split("/");r=parseInt(c[0],10),i=parseInt(c[1],10)}else{const c=J.value!==void 0?J.value:b();r=c.year,i=c.month}return{year:r,month:i,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+Te(i)+"/01"}}function da(r){let i=E.value.year,c=Number(E.value.month)+r;c===13?(c=1,i++):c===0&&(c=12,i--),Ve(i,c),Ie.value===!0&&Oe("month")}function ee(r){const i=Number(E.value.year)+r;Ve(i,E.value.month),Ie.value===!0&&Oe("year")}function He(r){Ve(r,E.value.month),z.value=e.defaultView==="Years"?"Months":"Calendar",Ie.value===!0&&Oe("year")}function ce(r){Ve(E.value.year,r),z.value="Calendar",Ie.value===!0&&Oe("month")}function ve(r,i){const c=Le.value[i];(c!==void 0&&c.includes(r.day)===!0?ta:ua)(r)}function be(r){return{year:r.year,month:r.month,day:r.day}}function Ve(r,i,c){if(ge.value!==null&&r<=ge.value.year&&((i<ge.value.month||r<ge.value.year)&&(i=ge.value.month),r=ge.value.year),ye.value!==null&&r>=ye.value.year&&((i>ye.value.month||r>ye.value.year)&&(i=ye.value.month),r=ye.value.year),c!==void 0){const{hour:V,minute:L,second:A,millisecond:H,timezoneOffset:K,timeHash:ke}=c;Object.assign(E.value,{hour:V,minute:L,second:A,millisecond:H,timezoneOffset:K,timeHash:ke})}const p=r+"/"+Te(i)+"/01";p!==E.value.dateHash&&(ue.value=E.value.dateHash<p==(n.lang.rtl!==!0)?"left":"right",r!==E.value.year&&(he.value=ue.value),bt(()=>{Ee.value=r-r%Oa-(r<0?Oa:0),Object.assign(E.value,{year:r,month:i,day:1,dateHash:p})}))}function Ge(r,i,c){const p=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;x=p;const{reason:V,details:L}=Ue(i,c);o("update:modelValue",p,V,L)}function Oe(r){const i=q.value[0]!==void 0&&q.value[0].dateHash!==null?{...q.value[0]}:{...E.value};bt(()=>{i.year=E.value.year,i.month=E.value.month;const c=e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():lt(i.year,i.month);i.day=Math.min(Math.max(1,i.day),c);const p=Ke(i);x=p;const{details:V}=Ue("",i);o("update:modelValue",p,r,V)})}function Ue(r,i){return i.from!==void 0?{reason:`${r}-range`,details:{...be(i.target),from:be(i.from),to:be(i.to)}}:{reason:`${r}-day`,details:be(i)}}function Ke(r,i,c){return r.from!==void 0?{from:w.value(r.from,i,c),to:w.value(r.to,i,c)}:w.value(r,i,c)}function ua(r){let i;if(e.multiple===!0)if(r.from!==void 0){const c=Na(r.from),p=Na(r.to),V=q.value.filter(A=>A.dateHash<c||A.dateHash>p),L=Se.value.filter(({from:A,to:H})=>H.dateHash<c||A.dateHash>p);i=V.concat(L).concat(r).map(A=>Ke(A))}else{const c=_e.value.slice();c.push(Ke(r)),i=c}else i=Ke(r);Ge(i,"add",r)}function ta(r){if(e.noUnset===!0)return;let i=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const c=Ke(r);r.from!==void 0?i=e.modelValue.filter(p=>p.from!==void 0?p.from!==c.from&&p.to!==c.to:!0):i=e.modelValue.filter(p=>p!==c),i.length===0&&(i=null)}Ge(i,"remove",r)}function Je(r,i,c){const p=q.value.concat(Se.value).map(V=>Ke(V,r,i)).filter(V=>V.from!==void 0?V.from.dateHash!==null&&V.to.dateHash!==null:V.dateHash!==null);o("update:modelValue",(e.multiple===!0?p:p[0])||null,c)}function oa(){if(e.minimal!==!0)return P("div",{class:"q-date__header "+f.value},[P("div",{class:"relative-position"},[P(ja,{name:"q-transition--fade"},()=>P("div",{key:"h-yr-"+D.value,class:"q-date__header-subtitle q-date__header-link "+(z.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...l("vY",{onClick(){z.value="Years"},onKeyup(r){r.keyCode===13&&(z.value="Years")}})},[D.value]))]),P("div",{class:"q-date__header-title relative-position flex no-wrap"},[P("div",{class:"relative-position col"},[P(ja,{name:"q-transition--fade"},()=>P("div",{key:"h-sub"+U.value,class:"q-date__header-title-label q-date__header-link "+(z.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...l("vC",{onClick(){z.value="Calendar"},onKeyup(r){r.keyCode===13&&(z.value="Calendar")}})},[U.value]))]),e.todayBtn===!0?P(le,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Xe}):null])])}function $e({label:r,type:i,key:c,dir:p,goTo:V,boundaries:L,cls:A}){return[P("div",{class:"row items-center q-date__arrow"},[P(le,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[0],tabindex:u.value,disable:L.prev===!1,...l("go-#"+i,{onClick(){V(-1)}})})]),P("div",{class:"relative-position overflow-hidden flex flex-center"+A},[P(ja,{name:"q-transition--jump-"+p},()=>P("div",{key:c},[P(le,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:u.value,...l("view#"+i,{onClick:()=>{z.value=i}})})]))]),P("div",{class:"row items-center q-date__arrow"},[P(le,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[1],tabindex:u.value,disable:L.next===!1,...l("go+#"+i,{onClick(){V(1)}})})])]}const ia={Calendar:()=>[P("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[P("div",{class:"q-date__navigation row items-center no-wrap"},$e({label:h.value.months[E.value.month-1],type:"Months",key:E.value.month,dir:ue.value,goTo:da,boundaries:Be.value.month,cls:" col"}).concat($e({label:E.value.year,type:"Years",key:E.value.year,dir:he.value,goTo:ee,boundaries:Be.value.year,cls:""}))),P("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Y.value.map(r=>P("div",{class:"q-date__calendar-item"},[P("div",r)]))),P("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[P(ja,{name:"q-transition--slide-"+ue.value},()=>P("div",{key:Ae.value,class:"q-date__calendar-days fit"},Re.value.map(r=>P("div",{class:r.classes},[r.in===!0?P(le,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:u.value,...l("day#"+r.i,{onClick:()=>{ha(r.i)},onMouseover:()=>{ga(r.i)}})},r.event!==!1?()=>P("div",{class:"q-date__event bg-"+r.event}):null):P("div",""+r.i)]))))])])],Months(){const r=E.value.year===J.value.year,i=p=>ge.value!==null&&E.value.year===ge.value.year&&ge.value.month>p||ye.value!==null&&E.value.year===ye.value.year&&ye.value.month<p,c=h.value.monthsShort.map((p,V)=>{const L=E.value.month===V+1;return P("div",{class:"q-date__months-item flex flex-center"},[P(le,{class:r===!0&&J.value.month===V+1?"q-date__today":null,flat:L!==!0,label:p,unelevated:L,color:L===!0?Z.value:null,textColor:L===!0?ne.value:null,tabindex:u.value,disable:i(V+1),...l("month#"+V,{onClick:()=>{ce(V+1)}})})])});return e.yearsInMonthView===!0&&c.unshift(P("div",{class:"row no-wrap full-width"},[$e({label:E.value.year,type:"Years",key:E.value.year,dir:he.value,goTo:ee,boundaries:Be.value.year,cls:" col"})])),P("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},c)},Years(){const r=Ee.value,i=r+Oa,c=[],p=V=>ge.value!==null&&ge.value.year>V||ye.value!==null&&ye.value.year<V;for(let V=r;V<=i;V++){const L=E.value.year===V;c.push(P("div",{class:"q-date__years-item flex flex-center"},[P(le,{key:"yr"+V,class:J.value.year===V?"q-date__today":null,flat:!L,label:V,dense:!0,unelevated:L,color:L===!0?Z.value:null,textColor:L===!0?ne.value:null,tabindex:u.value,disable:p(V),...l("yr#"+V,{onClick:()=>{He(V)}})})]))}return P("div",{class:"q-date__view q-date__years flex flex-center"},[P("div",{class:"col-auto"},[P(le,{round:!0,dense:!0,flat:!0,icon:y.value[0],tabindex:u.value,disable:p(r),...l("y-",{onClick:()=>{Ee.value-=Oa}})})]),P("div",{class:"q-date__years-content col self-stretch row items-center"},c),P("div",{class:"col-auto"},[P(le,{round:!0,dense:!0,flat:!0,icon:y.value[1],tabindex:u.value,disable:p(i),...l("y+",{onClick:()=>{Ee.value+=Oa}})})])])}};function ha(r){const i={...E.value,day:r};if(e.range===!1){ve(i,Ae.value);return}if(oe.value===null){const c=Re.value.find(V=>V.fill!==!0&&V.i===r);if(e.noUnset!==!0&&c.range!==void 0){ta({target:i,from:c.range.from,to:c.range.to});return}if(c.selected===!0){ta(i);return}const p=Na(i);oe.value={init:i,initHash:p,final:i,finalHash:p},o("rangeStart",be(i))}else{const c=oe.value.initHash,p=Na(i),V=c<=p?{from:oe.value.init,to:i}:{from:i,to:oe.value.init};oe.value=null,ua(c===p?i:{target:i,...V}),o("rangeEnd",{from:be(V.from),to:be(V.to)})}}function ga(r){if(oe.value!==null){const i={...E.value,day:r};Object.assign(oe.value,{final:i,finalHash:Na(i)})}}return Object.assign(t,{setToday:Xe,setView:$,offsetCalendar:pe,setCalendarTo:se,setEditingRange:W}),()=>{const r=[P("div",{class:"q-date__content col relative-position"},[P(ja,{name:"q-transition--fade"},ia[z.value])])],i=Ga(a.default);return i!==void 0&&r.push(P("div",{class:"q-date__actions"},i)),e.name!==void 0&&e.disable!==!0&&k(r,"push"),P("div",{class:fe.value,...Ze.value},[oa(),P("div",{ref:v,class:"q-date__main col column",tabindex:-1},r)])}}}),Ta=Ra({name:"QPopupProxy",props:{...to,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:t}){const{proxy:n}=Ja(),{$q:s}=n,l=C(!1),u=C(null),f=j(()=>parseInt(e.breakpoint,10)),{canShow:T}=oo({showing:l});function b(){return s.screen.width<f.value||s.screen.height<f.value?"dialog":"menu"}const x=C(b()),X=j(()=>x.value==="menu"?{maxHeight:"99vh"}:{});na(()=>b(),g=>{l.value!==!0&&(x.value=g)});function k(g){l.value=!0,o("show",g)}function v(g){l.value=!1,x.value=b(),o("hide",g)}return Object.assign(n,{show(g){T(g)===!0&&u.value.show(g)},hide(g){u.value.hide(g)},toggle(g){u.value.toggle(g)}}),sl(n,"currentComponent",()=>({type:x.value,ref:u.value})),()=>{const g={ref:u,...X.value,...t,onShow:k,onHide:v};let h;return x.value==="dialog"?h=ot:(h=lo,Object.assign(g,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),P(h,g,a.default)}}});function vo(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=t.display;return n==="block"||n==="table"?e:vo(e.parentNode)}function gt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function bo(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let t=0;a.count!==0&&t<e.childNodes.length;t++)o=bo(e.childNodes[t],a,o);return o}const $l=/^https?:\/\//;class en{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(gt(a.anchorNode,this.el,!0)&&gt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!==null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?vo(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),t=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),t.removeAllRanges(),t.addRange(o)):(t.selectAllChildren(this.el),t.collapseToEnd())}savePosition(){let a=-1,o;const t=document.getSelection(),n=this.el.parentNode;if(t.focusNode&&gt(t.focusNode,n))for(o=t.focusNode,a=t.focusOffset;o&&o!==n;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),t=bo(this.el,{count:this.savedPos});t&&(t.collapse(!1),o.removeAllRanges(),o.addRange(t))}}hasParent(a,o){const t=o?this.parent:this.blockParent;return t!==null?t.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,t=this.parent){return t===null?!1:a.includes(t.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,t.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const t=document.queryCommandValue(a);return t===`"${o}"`||t===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const n=document.queryCommandState(a);return o!==void 0?n===o:n}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,t=il){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){t();const n=window.open();n.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),n.print(),n.close();return}else if(a==="link"){const n=this.getParentAttribute("href");if(n===null){const s=this.selectWord(this.selection),l=s?s.toString():"";if(!l.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=$l.test(l)?l:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(s.getRangeAt(0))}else this.eVm.editLinkUrl.value=n,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),t();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),t();return}document.execCommand(a,!1,o),t()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const t=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const n=a.focusNode,s=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",t[0],"character"),a.modify("move",t[1],"word"),a.extend(n,s),a.modify("extend",t[1],"character"),a.modify("extend",t[0],"word"),a}}var an=Ra({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const o=j(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>P("div",{class:o.value},Ga(a.default))}});const tn=Object.keys(no),on=e=>tn.reduce((a,o)=>{const t=e[o];return t!==void 0&&(a[o]=t),a},{});var ln=Ra({name:"QBtnDropdown",props:{...no,...so,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),n=C(e.modelValue),s=C(null),l=rl(),u=j(()=>{const E={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l.value,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(E["aria-disabled"]="true"),E}),f=j(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),T=j(()=>cl(e)),b=j(()=>on(e));na(()=>e.modelValue,E=>{s.value!==null&&s.value[E?"show":"hide"]()}),na(()=>e.split,J);function x(E){n.value=!0,o("beforeShow",E)}function X(E){o("show",E),o("update:modelValue",!0)}function k(E){n.value=!1,o("beforeHide",E)}function v(E){o("hide",E),o("update:modelValue",!1)}function g(E){o("click",E)}function h(E){io(E),J(),o("click",E)}function N(E){s.value!==null&&s.value.toggle(E)}function G(E){s.value!==null&&s.value.show(E)}function J(E){s.value!==null&&s.value.hide(E)}return Object.assign(t,{show:G,hide:J,toggle:N}),Ct(()=>{e.modelValue===!0&&G()}),()=>{const E=[P(fa,{class:f.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&E.push(P(lo,{ref:s,id:l.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:x,onShow:X,onBeforeHide:k,onHide:v},a.default)),e.split===!1?P(le,{class:"q-btn-dropdown q-btn-dropdown--simple",...b.value,...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:g},{default:()=>Ga(a.label,[]).concat(E),loading:a.loading}):P(an,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...T.value,glossy:e.glossy,stretch:e.stretch},()=>[P(le,{class:"q-btn-dropdown--current",...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:a.label,loading:a.loading}),P(le,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...u.value,...T.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>E)])}}}),nn=Ra({name:"QTooltip",inheritAttrs:!1,props:{...to,...dl,...so,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:xt},self:{type:String,default:"top middle",validator:xt},offset:{type:Array,default:()=>[14,14],validator:ul},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ml],setup(e,{slots:a,emit:o,attrs:t}){let n,s;const l=Ja(),{proxy:{$q:u}}=l,f=C(null),T=C(!1),b=j(()=>wt(e.anchor,u.lang.rtl)),x=j(()=>wt(e.self,u.lang.rtl)),X=j(()=>e.persistent!==!0),{registerTick:k,removeTick:v}=hl(),{registerTimeout:g}=fl(),{transitionProps:h,transitionStyle:N}=gl(e),{localScrollTarget:G,changeScrollEvent:J,unconfigureScrollTarget:E}=pl(e,w),{anchorEl:z,canShow:xe,anchorEvents:ue}=oo({showing:T,configureAnchorEl:we}),{show:he,hide:Ce}=vl({showing:T,canShow:xe,handleShow:Z,handleHide:ne,hideOnRouteChange:X,processOnMount:!0});Object.assign(ue,{delayShow:q,delayHide:Se});const{showPortal:Ee,hidePortal:oe,renderPortal:fe}=bl(l,f,U,"tooltip");if(u.platform.is.mobile===!0){const re={anchorEl:z,innerRef:f,onClickOutside(D){return Ce(D),D.target.classList.contains("q-dialog__backdrop")&&ro(D),!0}},ze=j(()=>e.modelValue===null&&e.persistent!==!0&&T.value===!0);na(ze,D=>{(D===!0?Cl:At)(re)}),yt(()=>{At(re)})}function Z(re){Ee(),k(()=>{s=new MutationObserver(()=>_e()),s.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),_e(),w()}),n===void 0&&(n=na(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,_e)),g(()=>{Ee(!0),o("show",re)},e.transitionDuration)}function ne(re){v(),oe(),Ie(),g(()=>{oe(!0),o("hide",re)},e.transitionDuration)}function Ie(){s!==void 0&&(s.disconnect(),s=void 0),n!==void 0&&(n(),n=void 0),E(),Pt(ue,"tooltipTemp")}function _e(){yl({targetEl:f.value,offset:e.offset,anchorEl:z.value,anchorOrigin:b.value,selfOrigin:x.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function q(re){if(u.platform.is.mobile===!0){qt(),document.body.classList.add("non-selectable");const ze=z.value,D=["touchmove","touchcancel","touchend","click"].map(y=>[ze,y,"delayHide","passiveCapture"]);Dt(ue,"tooltipTemp",D)}g(()=>{he(re)},e.delay)}function Se(re){u.platform.is.mobile===!0&&(Pt(ue,"tooltipTemp"),qt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{Ce(re)},e.hideDelay)}function we(){if(e.noParentEvent===!0||z.value===null)return;const re=u.platform.is.mobile===!0?[[z.value,"touchstart","delayShow","passive"]]:[[z.value,"mouseenter","delayShow","passive"],[z.value,"mouseleave","delayHide","passive"]];Dt(ue,"anchor",re)}function w(){if(z.value!==null||e.scrollTarget!==void 0){G.value=Vl(z.value,e.scrollTarget);const re=e.noParentEvent===!0?_e:Ce;J(G.value,re)}}function me(){return T.value===!0?P("div",{...t,ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,N.value],role:"tooltip"},Ga(a.default)):null}function U(){return P(ja,h.value,me)}return yt(Ie),Object.assign(l.proxy,{updatePosition:_e}),fe}});function yo(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function Et(e){return P("div",{class:"q-editor__toolbar-group"},e)}function Vo(e,a,o,t=!1){const n=t||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),s=[];if(a.tip&&e.$q.platform.is.desktop){const l=a.key?P("div",[P("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;s.push(P(nn,{delay:1e3},()=>[P("div",{innerHTML:a.tip}),l]))}return P(le,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:n?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:n&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(l){o&&o(),yo(l,a,e)}},()=>s)}function sn(e,a){const o=a.list==="only-icons";let t=a.label,n=a.icon!==null?a.icon:void 0,s,l;function u(){T.component.proxy.hide()}if(o)l=a.options.map(b=>{const x=b.type===void 0?e.caret.is(b.cmd,b.param):!1;return x&&(t=b.tip,n=b.icon!==null?b.icon:void 0),Vo(e,b,u,x)}),s=e.toolbarBackgroundClass.value,l=[Et(l)];else{const b=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,x=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,X=a.list==="no-icons";l=a.options.map(k=>{const v=k.disable?k.disable(e):!1,g=k.type===void 0?e.caret.is(k.cmd,k.param):!1;g&&(t=k.tip,n=k.icon!==null?k.icon:void 0);const h=k.htmlTip;return P(Nl,{active:g,activeClass:b,clickable:!0,disable:v,dense:!0,onClick(N){u(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),yo(N,k,e)}},()=>[X===!0?null:P(Ot,{class:g?b:x,side:!0},()=>P(fa,{name:k.icon!==null?k.icon:void 0})),P(Ot,h?()=>P("div",{class:"text-no-wrap",innerHTML:k.htmlTip}):k.tip?()=>P("div",{class:"text-no-wrap"},k.tip):void 0)])}),s=[e.toolbarBackgroundClass.value,x]}const f=a.highlight&&t!==a.label,T=P(ln,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:f?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:f&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:t,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:n,contentClass:s,onShow:b=>e.emit("dropdownShow",b),onHide:b=>e.emit("dropdownHide",b),onBeforeShow:b=>e.emit("dropdownBeforeShow",b),onBeforeHide:b=>e.emit("dropdownBeforeHide",b)},()=>l);return T}function rn(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>Et(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?Ga(e.slots[o.slot]):o.type==="dropdown"?sn(e,o):Vo(e,o))))}function cn(e,a,o,t={}){const n=Object.keys(t);if(n.length===0)return{};const s={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return n.forEach(l=>{const u=t[l];s[l]={cmd:"fontName",param:u,icon:o,tip:u,htmlTip:`<font face="${u}">${u}</font>`}}),s}function dn(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const t=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[P("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),P("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:n=>{io(n),o=n.target.value},onKeydown:n=>{if(co(n)!==!0)switch(n.keyCode){case 13:return _t(n),t();case 27:_t(n),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Et([P(le,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),P(le,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:t})])]}}const un=Object.prototype.toString,pt=Object.prototype.hasOwnProperty,mn=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Ut(e){if(e!==Object(e)||mn.has(un.call(e))===!0||e.constructor&&pt.call(e,"constructor")===!1&&pt.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||pt.call(e,a)}function Co(){let e,a,o,t,n,s,l=arguments[0]||{},u=1,f=!1;const T=arguments.length;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},u=2),Object(l)!==l&&typeof l!="function"&&(l={}),T===u&&(l=this,u--);u<T;u++)if((e=arguments[u])!==null)for(a in e)o=l[a],t=e[a],l!==t&&(f===!0&&t&&((n=Array.isArray(t))||Ut(t)===!0)?(n===!0?s=Array.isArray(o)===!0?o:[]:s=Ut(o)===!0?o:{},l[a]=Co(f,s,t)):t!==void 0&&(l[a]=t));return l}var Bt=Ra({name:"QEditor",props:{...eo,...El,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Sl,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),{$q:n}=t,s=ao(e,n),{inFullscreen:l,toggleFullscreen:u}=Tl(),f=xl(),T=C(null),b=C(null),x=C(null),X=C(!1),k=j(()=>!e.readonly&&!e.disable);let v,g,h=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),v=window.getComputedStyle(document.body).fontFamily;const N=j(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),G=j(()=>{const y=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:y,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!k.value,size:"sm"}}),J=j(()=>{const y=n.lang.editor,S=n.iconSet.editor;return{bold:{cmd:"bold",icon:S.bold,tip:y.bold,key:66},italic:{cmd:"italic",icon:S.italic,tip:y.italic,key:73},strike:{cmd:"strikeThrough",icon:S.strikethrough,tip:y.strikethrough,key:83},underline:{cmd:"underline",icon:S.underline,tip:y.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:S.unorderedList,tip:y.unorderedList},ordered:{cmd:"insertOrderedList",icon:S.orderedList,tip:y.orderedList},subscript:{cmd:"subscript",icon:S.subscript,tip:y.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:S.superscript,tip:y.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:Y=>Y.caret&&!Y.caret.can("link"),icon:S.hyperlink,tip:y.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:S.toggleFullscreen,tip:y.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:S.viewSource,tip:y.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:S.quote,tip:y.quote,key:81},left:{cmd:"justifyLeft",icon:S.left,tip:y.left},center:{cmd:"justifyCenter",icon:S.center,tip:y.center},right:{cmd:"justifyRight",icon:S.right,tip:y.right},justify:{cmd:"justifyFull",icon:S.justify,tip:y.justify},print:{type:"no-state",cmd:"print",icon:S.print,tip:y.print,key:80},outdent:{type:"no-state",disable:Y=>Y.caret&&!Y.caret.can("outdent"),cmd:"outdent",icon:S.outdent,tip:y.outdent},indent:{type:"no-state",disable:Y=>Y.caret&&!Y.caret.can("indent"),cmd:"indent",icon:S.indent,tip:y.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:S.removeFormat,tip:y.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:S.hr,tip:y.hr},undo:{type:"no-state",cmd:"undo",icon:S.undo,tip:y.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:S.redo,tip:y.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:S.heading1||S.heading,tip:y.heading1,htmlTip:`<h1 class="q-ma-none">${y.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:S.heading2||S.heading,tip:y.heading2,htmlTip:`<h2 class="q-ma-none">${y.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:S.heading3||S.heading,tip:y.heading3,htmlTip:`<h3 class="q-ma-none">${y.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:S.heading4||S.heading,tip:y.heading4,htmlTip:`<h4 class="q-ma-none">${y.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:S.heading5||S.heading,tip:y.heading5,htmlTip:`<h5 class="q-ma-none">${y.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:S.heading6||S.heading,tip:y.heading6,htmlTip:`<h6 class="q-ma-none">${y.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:S.heading,tip:y.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:S.code,htmlTip:`<code>${y.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:S.size1||S.size,tip:y.size1,htmlTip:`<font size="1">${y.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:S.size2||S.size,tip:y.size2,htmlTip:`<font size="2">${y.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:S.size3||S.size,tip:y.size3,htmlTip:`<font size="3">${y.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:S.size4||S.size,tip:y.size4,htmlTip:`<font size="4">${y.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:S.size5||S.size,tip:y.size5,htmlTip:`<font size="5">${y.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:S.size6||S.size,tip:y.size6,htmlTip:`<font size="6">${y.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:S.size7||S.size,tip:y.size7,htmlTip:`<font size="7">${y.size7}</font>`}}}),E=j(()=>{const y=e.definitions||{},S=e.definitions||e.fonts?Co(!0,{},J.value,y,cn(v,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):J.value;return e.toolbar.map(Y=>Y.map(B=>{if(B.options)return{type:"dropdown",icon:B.icon,label:B.label,size:"sm",dense:!0,fixedLabel:B.fixedLabel,fixedIcon:B.fixedIcon,highlight:B.highlight,list:B.list,options:B.options.map(ge=>S[ge])};const Q=S[B];return Q?Q.type==="no-state"||y[B]&&(Q.cmd===void 0||J.value[Q.cmd]&&J.value[Q.cmd].type==="no-state")?Q:Object.assign({type:"toggle"},Q):{type:"slot",slot:B}}))}),z={$q:n,props:e,slots:a,emit:o,inFullscreen:l,toggleFullscreen:u,runCmd:U,isViewingSource:X,editLinkUrl:x,toolbarBackgroundClass:N,buttonProps:G,contentRef:b,buttons:E,setContent:me};na(()=>e.modelValue,y=>{h!==y&&(h=y,me(y,!0))}),na(x,y=>{o(`link${y?"Show":"Hide"}`)});const xe=j(()=>e.toolbar&&e.toolbar.length!==0),ue=j(()=>{const y={},S=Y=>{Y.key&&(y[Y.key]={cmd:Y.cmd,param:Y.param})};return E.value.forEach(Y=>{Y.forEach(B=>{B.options?B.options.forEach(S):S(B)})}),y}),he=j(()=>l.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Ce=j(()=>`q-editor q-editor--${X.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(l.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(s.value===!0?" q-editor--dark q-dark":"")),Ee=j(()=>[e.contentClass,"q-editor__content",{col:l.value,"overflow-auto":l.value||e.maxHeight}]),oe=j(()=>e.disable===!0?{"aria-disabled":"true"}:{});function fe(){if(b.value!==null){const y=`inner${X.value===!0?"Text":"HTML"}`,S=b.value[y];S!==e.modelValue&&(h=S,o("update:modelValue",S))}}function Z(y){if(o("keydown",y),y.ctrlKey!==!0||co(y)===!0){re();return}const S=y.keyCode,Y=ue.value[S];if(Y!==void 0){const{cmd:B,param:Q}=Y;ro(y),U(B,Q,!1)}}function ne(y){re(),o("click",y)}function Ie(y){if(b.value!==null){const{scrollTop:S,scrollHeight:Y}=b.value;g=Y-S}z.caret.save(),o("blur",y)}function _e(y){bt(()=>{b.value!==null&&g!==void 0&&(b.value.scrollTop=b.value.scrollHeight-g)}),o("focus",y)}function q(y){const S=T.value;if(S!==null&&S.contains(y.target)===!0&&(y.relatedTarget===null||S.contains(y.relatedTarget)!==!0)){const Y=`inner${X.value===!0?"Text":"HTML"}`;z.caret.restorePosition(b.value[Y].length),re()}}function Se(y){const S=T.value;S!==null&&S.contains(y.target)===!0&&(y.relatedTarget===null||S.contains(y.relatedTarget)!==!0)&&(z.caret.savePosition(),re())}function we(){g=void 0}function w(y){z.caret.save()}function me(y,S){if(b.value!==null){S===!0&&z.caret.savePosition();const Y=`inner${X.value===!0?"Text":"HTML"}`;b.value[Y]=y,S===!0&&(z.caret.restorePosition(b.value[Y].length),re())}}function U(y,S,Y=!0){ze(),z.caret.restore(),z.caret.apply(y,S,()=>{ze(),z.caret.save(),Y&&re()})}function re(){setTimeout(()=>{x.value=null,t.$forceUpdate()},1)}function ze(){wl(()=>{b.value!==null&&b.value.focus({preventScroll:!0})})}function D(){return b.value}return Ct(()=>{z.caret=t.caret=new en(b.value,z),me(e.modelValue),re(),document.addEventListener("selectionchange",w)}),yt(()=>{document.removeEventListener("selectionchange",w)}),Object.assign(t,{runCmd:U,refreshToolbar:re,focus:ze,getContentEl:D}),()=>{let y;if(xe.value){const S=[P("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+N.value},rn(z))];x.value!==null&&S.push(P("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+N.value},dn(z))),y=P("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},S)}return P("div",{ref:T,class:Ce.value,style:{height:l.value===!0?"100%":null},...oe.value,onFocusin:q,onFocusout:Se},[y,P("div",{ref:b,style:he.value,class:Ee.value,contenteditable:k.value,placeholder:e.placeholder,...f.listeners.value,onInput:fe,onKeydown:Z,onClick:ne,onBlur:Ie,onFocus:_e,onMousedown:we,onTouchstartPassive:we})])}}});function ma(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function ka(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const No=6048e5,hn=864e5;let fn={};function st(){return fn}function Xa(e,a){var u,f,T,b,x,X,k,v;const o=st(),t=(v=(k=(b=(T=a==null?void 0:a.weekStartsOn)!=null?T:(f=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)!=null?b:o.weekStartsOn)!=null?k:(X=(x=o.locale)==null?void 0:x.options)==null?void 0:X.weekStartsOn)!=null?v:0,n=ma(e),s=n.getDay(),l=(s<t?7:0)+s-t;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function nt(e){return Xa(e,{weekStartsOn:1})}function Eo(e){const a=ma(e),o=a.getFullYear(),t=ka(e,0);t.setFullYear(o+1,0,4),t.setHours(0,0,0,0);const n=nt(t),s=ka(e,0);s.setFullYear(o,0,4),s.setHours(0,0,0,0);const l=nt(s);return a.getTime()>=n.getTime()?o+1:a.getTime()>=l.getTime()?o:o-1}function Yt(e){const a=ma(e);return a.setHours(0,0,0,0),a}function Wt(e){const a=ma(e),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),+e-+o}function gn(e,a){const o=Yt(e),t=Yt(a),n=+o-Wt(o),s=+t-Wt(t);return Math.round((n-s)/hn)}function pn(e){const a=Eo(e),o=ka(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),nt(o)}function vn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bn(e){if(!vn(e)&&typeof e!="number")return!1;const a=ma(e);return!isNaN(Number(a))}function yn(e){const a=ma(e),o=ka(e,0);return o.setFullYear(a.getFullYear(),0,1),o.setHours(0,0,0,0),o}const Vn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cn=(e,a,o)=>{let t;const n=Vn[e];return typeof n=="string"?t=n:a===1?t=n.one:t=n.other.replace("{{count}}",a.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+t:t+" ago":t};function vt(e){return(a={})=>{const o=a.width?String(a.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}const Nn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},En={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tn={date:vt({formats:Nn,defaultWidth:"full"}),time:vt({formats:En,defaultWidth:"full"}),dateTime:vt({formats:Sn,defaultWidth:"full"})},xn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wn=(e,a,o,t)=>xn[e];function Wa(e){return(a,o)=>{const t=o!=null&&o.context?String(o.context):"standalone";let n;if(t==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=o!=null&&o.width?String(o.width):l;n=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=o!=null&&o.width?String(o.width):e.defaultWidth;n=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(a):a;return n[s]}}const An={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_n={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},On={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},In=(e,a)=>{const o=Number(e),t=o%100;if(t>20||t<10)switch(t%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},kn={ordinalNumber:In,era:Wa({values:An,defaultWidth:"wide"}),quarter:Wa({values:Pn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wa({values:qn,defaultWidth:"wide"}),day:Wa({values:Dn,defaultWidth:"wide"}),dayPeriod:Wa({values:_n,defaultWidth:"wide",formattingValues:On,defaultFormattingWidth:"wide"})};function Qa(e){return(a,o={})=>{const t=o.width,n=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],s=a.match(n);if(!s)return null;const l=s[0],u=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?zn(u,x=>x.test(l)):Mn(u,x=>x.test(l));let T;T=e.valueCallback?e.valueCallback(f):f,T=o.valueCallback?o.valueCallback(T):T;const b=a.slice(l.length);return{value:T,rest:b}}}function Mn(e,a){for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&a(e[o]))return o}function zn(e,a){for(let o=0;o<e.length;o++)if(a(e[o]))return o}function Ln(e){return(a,o={})=>{const t=a.match(e.matchPattern);if(!t)return null;const n=t[0],s=a.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=o.valueCallback?o.valueCallback(l):l;const u=a.slice(n.length);return{value:l,rest:u}}}const Fn=/^(\d+)(th|st|nd|rd)?/i,jn=/\d+/i,Rn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hn={any:[/^b/i,/^(a|c)/i]},Un={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bn={any:[/1/i,/2/i,/3/i,/4/i]},Yn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zn={ordinalNumber:Ln({matchPattern:Fn,parsePattern:jn,valueCallback:e=>parseInt(e,10)}),era:Qa({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:Hn,defaultParseWidth:"any"}),quarter:Qa({matchPatterns:Un,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qa({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),day:Qa({matchPatterns:Qn,defaultMatchWidth:"wide",parsePatterns:Xn,defaultParseWidth:"any"}),dayPeriod:Qa({matchPatterns:Gn,defaultMatchWidth:"any",parsePatterns:Jn,defaultParseWidth:"any"})},Kn={code:"en-US",formatDistance:Cn,formatLong:Tn,formatRelative:wn,localize:kn,match:Zn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $n(e){const a=ma(e);return gn(a,yn(a))+1}function es(e){const a=ma(e),o=+nt(a)-+pn(a);return Math.round(o/No)+1}function So(e,a){var b,x,X,k,v,g,h,N;const o=ma(e),t=o.getFullYear(),n=st(),s=(N=(h=(k=(X=a==null?void 0:a.firstWeekContainsDate)!=null?X:(x=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)!=null?k:n.firstWeekContainsDate)!=null?h:(g=(v=n.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)!=null?N:1,l=ka(e,0);l.setFullYear(t+1,0,s),l.setHours(0,0,0,0);const u=Xa(l,a),f=ka(e,0);f.setFullYear(t,0,s),f.setHours(0,0,0,0);const T=Xa(f,a);return o.getTime()>=u.getTime()?t+1:o.getTime()>=T.getTime()?t:t-1}function as(e,a){var u,f,T,b,x,X,k,v;const o=st(),t=(v=(k=(b=(T=a==null?void 0:a.firstWeekContainsDate)!=null?T:(f=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)!=null?b:o.firstWeekContainsDate)!=null?k:(X=(x=o.locale)==null?void 0:x.options)==null?void 0:X.firstWeekContainsDate)!=null?v:1,n=So(e,a),s=ka(e,0);return s.setFullYear(n,0,t),s.setHours(0,0,0,0),Xa(s,a)}function ts(e,a){const o=ma(e),t=+Xa(o,a)-+as(o,a);return Math.round(t/No)+1}function Ne(e,a){const o=e<0?"-":"",t=Math.abs(e).toString().padStart(a,"0");return o+t}const xa={y(e,a){const o=e.getFullYear(),t=o>0?o:1-o;return Ne(a==="yy"?t%100:t,a.length)},M(e,a){const o=e.getMonth();return a==="M"?String(o+1):Ne(o+1,2)},d(e,a){return Ne(e.getDate(),a.length)},a(e,a){const o=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(e,a){return Ne(e.getHours()%12||12,a.length)},H(e,a){return Ne(e.getHours(),a.length)},m(e,a){return Ne(e.getMinutes(),a.length)},s(e,a){return Ne(e.getSeconds(),a.length)},S(e,a){const o=a.length,t=e.getMilliseconds(),n=Math.trunc(t*Math.pow(10,o-3));return Ne(n,a.length)}},Fa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qt={G:function(e,a,o){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})}},y:function(e,a,o){if(a==="yo"){const t=e.getFullYear(),n=t>0?t:1-t;return o.ordinalNumber(n,{unit:"year"})}return xa.y(e,a)},Y:function(e,a,o,t){const n=So(e,t),s=n>0?n:1-n;if(a==="YY"){const l=s%100;return Ne(l,2)}return a==="Yo"?o.ordinalNumber(s,{unit:"year"}):Ne(s,a.length)},R:function(e,a){const o=Eo(e);return Ne(o,a.length)},u:function(e,a){const o=e.getFullYear();return Ne(o,a.length)},Q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return Ne(t,2);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return Ne(t,2);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,o){const t=e.getMonth();switch(a){case"M":case"MM":return xa.M(e,a);case"Mo":return o.ordinalNumber(t+1,{unit:"month"});case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,o){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return Ne(t+1,2);case"Lo":return o.ordinalNumber(t+1,{unit:"month"});case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,o,t){const n=ts(e,t);return a==="wo"?o.ordinalNumber(n,{unit:"week"}):Ne(n,a.length)},I:function(e,a,o){const t=es(e);return a==="Io"?o.ordinalNumber(t,{unit:"week"}):Ne(t,a.length)},d:function(e,a,o){return a==="do"?o.ordinalNumber(e.getDate(),{unit:"date"}):xa.d(e,a)},D:function(e,a,o){const t=$n(e);return a==="Do"?o.ordinalNumber(t,{unit:"dayOfYear"}):Ne(t,a.length)},E:function(e,a,o){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,o,t){const n=e.getDay(),s=(n-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(s);case"ee":return Ne(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,o,t){const n=e.getDay(),s=(n-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(s);case"cc":return Ne(s,a.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,o){const t=e.getDay(),n=t===0?7:t;switch(a){case"i":return String(n);case"ii":return Ne(n,a.length);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return o.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(t,{width:"short",context:"formatting"});case"iiii":default:return o.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,o){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,o){const t=e.getHours();let n;switch(t===12?n=Fa.noon:t===0?n=Fa.midnight:n=t/12>=1?"pm":"am",a){case"b":case"bb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,o){const t=e.getHours();let n;switch(t>=17?n=Fa.evening:t>=12?n=Fa.afternoon:t>=4?n=Fa.morning:n=Fa.night,a){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,o){if(a==="ho"){let t=e.getHours()%12;return t===0&&(t=12),o.ordinalNumber(t,{unit:"hour"})}return xa.h(e,a)},H:function(e,a,o){return a==="Ho"?o.ordinalNumber(e.getHours(),{unit:"hour"}):xa.H(e,a)},K:function(e,a,o){const t=e.getHours()%12;return a==="Ko"?o.ordinalNumber(t,{unit:"hour"}):Ne(t,a.length)},k:function(e,a,o){let t=e.getHours();return t===0&&(t=24),a==="ko"?o.ordinalNumber(t,{unit:"hour"}):Ne(t,a.length)},m:function(e,a,o){return a==="mo"?o.ordinalNumber(e.getMinutes(),{unit:"minute"}):xa.m(e,a)},s:function(e,a,o){return a==="so"?o.ordinalNumber(e.getSeconds(),{unit:"second"}):xa.s(e,a)},S:function(e,a){return xa.S(e,a)},X:function(e,a,o){const t=e.getTimezoneOffset();if(t===0)return"Z";switch(a){case"X":return Gt(t);case"XXXX":case"XX":return Ia(t);case"XXXXX":case"XXX":default:return Ia(t,":")}},x:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"x":return Gt(t);case"xxxx":case"xx":return Ia(t);case"xxxxx":case"xxx":default:return Ia(t,":")}},O:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Xt(t,":");case"OOOO":default:return"GMT"+Ia(t,":")}},z:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Xt(t,":");case"zzzz":default:return"GMT"+Ia(t,":")}},t:function(e,a,o){const t=Math.trunc(e.getTime()/1e3);return Ne(t,a.length)},T:function(e,a,o){const t=e.getTime();return Ne(t,a.length)}};function Xt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.trunc(t/60),s=t%60;return s===0?o+String(n):o+String(n)+a+Ne(s,2)}function Gt(e,a){return e%60===0?(e>0?"-":"+")+Ne(Math.abs(e)/60,2):Ia(e,a)}function Ia(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Ne(Math.trunc(t/60),2),s=Ne(t%60,2);return o+n+a+s}const Jt=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},To=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},os=(e,a)=>{const o=e.match(/(P+)(p+)?/)||[],t=o[1],n=o[2];if(!n)return Jt(e,a);let s;switch(t){case"P":s=a.dateTime({width:"short"});break;case"PP":s=a.dateTime({width:"medium"});break;case"PPP":s=a.dateTime({width:"long"});break;case"PPPP":default:s=a.dateTime({width:"full"});break}return s.replace("{{date}}",Jt(t,a)).replace("{{time}}",To(n,a))},ls={p:To,P:os},ns=/^D+$/,ss=/^Y+$/,is=["D","DD","YY","YYYY"];function rs(e){return ns.test(e)}function cs(e){return ss.test(e)}function ds(e,a,o){const t=us(e,a,o);if(console.warn(t),is.includes(e))throw new RangeError(t)}function us(e,a,o){const t=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ms=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fs=/^'([^]*?)'?$/,gs=/''/g,ps=/[a-zA-Z]/;function Zt(e,a,o){var b,x,X,k,v,g,h,N,G,J,E,z,xe,ue,he,Ce,Ee,oe;const t=st(),n=(x=(b=o==null?void 0:o.locale)!=null?b:t.locale)!=null?x:Kn,s=(J=(G=(g=(v=o==null?void 0:o.firstWeekContainsDate)!=null?v:(k=(X=o==null?void 0:o.locale)==null?void 0:X.options)==null?void 0:k.firstWeekContainsDate)!=null?g:t.firstWeekContainsDate)!=null?G:(N=(h=t.locale)==null?void 0:h.options)==null?void 0:N.firstWeekContainsDate)!=null?J:1,l=(oe=(Ee=(ue=(xe=o==null?void 0:o.weekStartsOn)!=null?xe:(z=(E=o==null?void 0:o.locale)==null?void 0:E.options)==null?void 0:z.weekStartsOn)!=null?ue:t.weekStartsOn)!=null?Ee:(Ce=(he=t.locale)==null?void 0:he.options)==null?void 0:Ce.weekStartsOn)!=null?oe:0,u=ma(e);if(!bn(u))throw new RangeError("Invalid time value");let f=a.match(hs).map(fe=>{const Z=fe[0];if(Z==="p"||Z==="P"){const ne=ls[Z];return ne(fe,n.formatLong)}return fe}).join("").match(ms).map(fe=>{if(fe==="''")return{isToken:!1,value:"'"};const Z=fe[0];if(Z==="'")return{isToken:!1,value:vs(fe)};if(Qt[Z])return{isToken:!0,value:fe};if(Z.match(ps))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return{isToken:!1,value:fe}});n.localize.preprocessor&&(f=n.localize.preprocessor(u,f));const T={firstWeekContainsDate:s,weekStartsOn:l,locale:n};return f.map(fe=>{if(!fe.isToken)return fe.value;const Z=fe.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&cs(Z)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&rs(Z))&&ds(Z,a,String(e));const ne=Qt[Z[0]];return ne(u,Z,n.localize,T)}).join("")}function vs(e){const a=e.match(fs);return a?a[1].replace(gs,"'"):e}const Kt=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),bs={setup(){let e=C(null),a=C(0),o=C(!0),t=C(0),n=C(0),s=C(null),l=C(0),u=0,f=0,T=0,b=0,x=0,X=0,k=0,v=0,g=0,h=0,N=0,G=0,J=0,E=0,z=0,xe=0,ue=0,he=0,Ce=0,Ee=0,oe=0,fe=0,Z=C([]);const ne=C("idCotizacion"),Ie=C("desc"),_e=j(()=>Array.from({length:Tt.value},(I,pa)=>pa+1)),q=C(0),Se=C(!1),we=C(!1),w=C(null),me=Array.from({length:10},(I,pa)=>pa+1),U=C(!1),re=C(0),ze=C([]),D=C(null),y=C([]),S=C([]),Y=C(1),B=C([]),Q=C([]),ge=C("Todos"),ye=C(null),Be=[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"Pendiente"}],Le=I=>Pa.value==="La Macarena"&&(ba.value==="Ca\xF1o Cristales"||ba.value==="Ca\xF1o Cristales Semana Receso"),Fe=()=>{B.value.push({index:B.value.length,accommodation:"",adults:1,adultAges:[null],childAge:null,isForeigner:[!1],valor:[null]}),S.value.push(!1)};na(()=>B.value.map(I=>I.adults),I=>{B.value.forEach((pa,Ba)=>{const $o=Array.from({length:I[Ba]},()=>null),el=Array.from({length:I[Ba]},()=>!1);pa.adultAges.splice(0,pa.adultAges.length,...$o),pa.isForeigner.splice(0,pa.isForeigner.length,...el)})},{deep:!0});const je=I=>I?[...I.adultAges]:[],Ae=()=>{B.value=[];for(let I=0;I<Y.value;I++)B.value.push({index:I,accommodation:null,adultAges:[null],childAge:null,isForeigner:[!1]})},Ye=I=>Pa.value==="La Macarena"&&(ba.value==="Ca\xF1o Cristales"||ba.value==="Ca\xF1o Cristales Semana Receso");Ae();const We=()=>{console.log("N\xFAmero de habitaciones cambiado:",Y.value),Ae()},Pe=C([]),Re=C({}),Ze=async()=>{try{const I=await te.get("https://backmultidestinos.onrender.com/cotizacion");Pe.value=I.data,await Xe(),$(),pe()}catch(I){console.error("Error fetching cotizacion data:",I)}},Xe=async()=>{try{(await te.get("https://backmultidestinos.onrender.com/user/")).data.forEach(Ba=>{Re.value[Ba.id]=Ba.nombreCompleto})}catch(I){console.error("Error fetching user data:",I)}},$=()=>{Pe.value.forEach(I=>{I.CreadorCotizacion=Re.value[I.CreadorCotizacion],I.fechaCreacion=se(I.fechaCreacion),I.fechaInicio=se(I.fechaInicio),I.fechaFin=se(I.fechaFin)})},pe=()=>{Pe.value.forEach(I=>{I.precioBrutoTotal=Kt(Number(I.precioBrutoTotal)),I.totalPrecioCliente=Kt(Number(I.totalPrecioCliente))})},se=I=>Zt(new Date(I),"yyyy-MM-dd"),W=C(!1),R=C(null),qe=C(null),_=C(null),M=C(null),da=C(null),ee=C(null),He=C(null),ce=C(null),ve=C(null),be=C(null),Ve=C(""),Ge=C(""),Oe=C(""),Ue=C(""),Ke=C(""),ua=C(""),ta=C(""),Je=C(""),oa=C(""),$e=C(""),ia=C(""),ha=C(""),ga=C(""),r=C(""),i=C(""),c=C(""),p=C(""),V=C(""),L=C(""),A=C(""),H=C("tab1"),K=()=>{if(H.value==="tab1"){if(!ca.value[0]||!ca.value[1]){mt.create({message:"Por favor ingrese una fecha de inicio y una fecha de fin.",color:"negative"});return}if(!Pa.value||!Ua.value){mt.create({message:"Por favor seleccione un destino y un cliente.",color:"negative"});return}if(B.value.length===0||B.value.some(I=>!I.roomType||!I.adults||!I.accommodation)){mt.create({message:"Por favor complete la informaci\xF3n de al menos una habitaci\xF3n.",color:"negative"});return}H.value="tab2"}},ke=()=>{H.value==="tab2"&&(H.value="tab1")},ra=new Date,Qe=C(""),ea=ra.toISOString().split("T")[0],ca=C([ea,ea]),Ma=I=>{ca.value[1]<I&&(ca.value[1]=I)},Aa=[I=>ra<=new Date(I)||"La fecha de inicio no puede ser anterior a hoy"],Ha=[I=>I>=ca.value[0]||"La fecha de fin no puede ser anterior a la fecha de inicio"],xo=C(!1),wo=C(""),Ao=C(!1),Po=C(""),St=C(null),qo=Pl(),Do=C(!1),_o=C(!1),Oo=C(["C.C","T.I","Pasaporte"]),Io=C(["Bogota","Cali","Medellin","Porcion Terrestre","San Andres"]),ko=C([]),Mo=C([]),zo=C([]),Lo=C([]),Fo=C([]),jo=C(["1","2","3","4","5","6","7","8","9","10","11","12","13"]);let Ro=[],Ho=null;const Uo=C(["1","2","3","4","5","6","7","8","9"]),Bo=C([]),Yo=C([]),Wo=C([]),Qo=C([]),Xo=C(["Satena","Avianca","Latam","JetSmart","Clic"]),it=C(""),Pa=C(""),ba=C(""),Za=C(""),Ka=C(""),Go=C(""),$a=C(""),et=C(""),at=C(""),Ua=C(""),rt=C(!1),ct=C(null),Tt=C(null),Jo=C([]),Zo=C(!1),Ko=C(null);return Ct(()=>{console.log("Intentando recuperar los datos del usuario del almacenamiento local..."),Ze(),Ae();const I=dt.getItem("userData");console.log("Datos del usuario recuperados:",I),I?St.value=I:(console.log("No se encontraron datos de usuario en el almacenamiento local. Redirigiendo a la p\xE1gina de inicio de sesi\xF3n..."),qo.push("/login"))}),{tieneTelefono:xo,telefono:wo,tieneNumero:Ao,correoPasajero:Po,filterStatus:ye,statusOptions:Be,selectedUser:e,matchingPrograms:Z,autofillingProgramName:o,transferInOut:s,transferInOutValue:l,numExtraValues:a,extraValue1:t,extraValue2:n,opcionesTipoDocumento:Oo,mostrarModalPasajeros:U,totalPasajero:re,pasajeros:ze,cotizacionSeleccionada:D,sortBy:ne,sortOrder:Ie,selectedFilter:ge,cormacarena5a11Personas:f,cormacarena12a65Personas:b,cormacarenaExtranjeroPersonas:X,pqsNaturales5a24Personas:v,pqsNaturales25a65Personas:h,pqsNaturalesExtranjeroPersonas:G,alcaldiaNacionalPersonas:E,alcaldiaExtranjeroPersonas:xe,defensaCivilPersonas:he,cormacarena5a11Total:u,cormacarena12a65Total:T,cormacarenaExtranjeroTotal:x,pqsNaturales5a24Total:k,pqsNaturales25a65Total:g,pqsNaturalesExtranjeroTotal:N,alcaldiaNacionalTotal:J,alcaldiaExtranjeroTotal:z,defensaCivilTotal:ue,totalImpuestos:Ee,adultAgesComputed:je,mostrarCamposEdad:Ye,showAgeInputs:Le,nochesOptionsRaw:Q,peopleArray:_e,numberOfPeople:Tt,supplementValues:Jo,idCotizacion:Ge,archivoSeleccionado:Ko,mostrarDialogo:Zo,ultimaCotizacionDescargada:Ho,correo:Qe,OptionCorreo:Qo,cotizacionCounter:q,sumaTotalDescuento:fe,sumaTotalAcomodacion:Ce,sumaValorBrutohab:oe,habitacionesDatos:Ro,additionalNightSelected:Se,asesorExternoCheck:we,additionalNightCount:w,handleNumRoomsChange:We,roomOptions:me,addRoom:Fe,hasChildren:S,numRooms:Y,rooms:B,updateAccommodationOptions:Ae,cotizacionData:Pe,usersMap:Re,formatDate:I=>Zt(new Date(I),"yyyy-MM-dd"),columns:[{name:"status",label:"Status",align:"left",field:"status"},{name:"idCotizacion",label:"Id-cotizaci\xF3n",align:"left",field:"idCotizacion"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",align:"left",field:"fechaCreacion"},{name:"CreadorCotizacion",label:"Usuario que la Cre\xF3",align:"left",field:"CreadorCotizacion"},{name:"cliente",label:"Cliente",align:"left",field:"cliente"},{name:"precioBrutoTotal",label:"precio Bruto",align:"left",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Valor Total con Descuento",align:"left",field:"totalPrecioCliente"},{name:"totalAdultos",label:"Adultos",align:"left",field:"totalAdultos"},{name:"totalNinos",label:"Ni\xF1os",align:"left",field:"totalNinos"},{name:"fechaInicio",label:"Fecha de Inicio",align:"left",field:"fechaInicio"},{name:"fechaFin",label:"Fecha de Fin",align:"left",field:"fechaFin"},{name:"salida",label:"Salida",align:"left",field:"salida"},{name:"destino",label:"Destino",align:"left",field:"destino"},{name:"hotel",label:"Hotel",align:"left",field:"hotel"},{name:"cotizacion",label:"Cotizacion",align:"left",field:"cotizacion",format:I=>""}],mostrarEscalas:W,aerolineaEscalaIda:R,vueloEscalaIda:qe,horaLlegadaEscalaIda:_,horaSalidaEscalaIda:M,claseEscalaIda:da,aerolineaEscalaVuelta:ee,vueloEscalaVuelta:He,horaLlegadaEscalaVuelta:ce,horaSalidaEscalaVuelta:ve,claseEscalaVuelta:be,aerolineaValue1:Ve,vueloValue1:Oe,horaLlegadaValue1:Ue,horaSalidaValue1:Ke,claseValue1:ua,aerolineaValue2:ta,vueloValue2:Je,horaLlegadaValue2:oa,horaSalidaValue2:$e,claseValue2:ia,Combus:ha,Tasa:ga,Iva:r,Ta:i,IvaTa:c,Otros:p,precioTransp:V,textoIncluye:L,textoNoIncluye:A,startDateRules:Aa,activeTab:H,goNext:K,goBack:ke,params:{hotel:"",nombrePrograma:"",destino:""},paramsH:{hotel:"",destino:"",noches:"",pertenece:""},paramsN:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:""},userData:St,modalVisible:Do,modalVisiblePersonalizado:_o,departureOptions:Io,destinationOptions:ko,programNameOptions:Mo,hotelOptions:zo,nochesOptions:Lo,planOptions:Fo,adultsOptions:jo,childrenOptions:Uo,aerolineaOptions:Xo,accommodationOptions:Bo,roomTypeOptions:Yo,selectedDeparture:it,destination:Pa,programName:ba,hotel:Za,noche:Ka,plan:Go,adults:$a,children:y,accommodation:et,roomType:at,clientOptions:Wo,selectedClient:Ua,clearFields:()=>{it.value="",Pa.value="",ba.value="",Za.value="",Ka.value="",$a.value="",y.value="",et.value="",at.value="",Ua.value="",s.value="",l.value="",t.value="",n.value="",a.value=0,B.value.forEach(I=>{I.roomType="",I.adults="",I.hasChildren=!1,I.numChildren="",I.accommodation=""}),Ve.value="",Oe.value="",Ke.value="",Ue.value="",ua.value="",ta.value="",Je.value="",$e.value="",oa.value="",ia.value="",rt.value=!1,ct.value=""},clearFieldsc:()=>{Pa.value="",ba.value="",Za.value="",Ka.value="",$a.value="",y.value="",et.value="",at.value="",Ua.value="",Qe.value=""},clearFieldsPersonalizado:()=>{it.value="",Pa.value="",ba.value="",Za.value="",Ka.value="",$a.value="",y.value="",et.value="",at.value="",Ua.value="",B.value.forEach(I=>{I.roomType="",I.adults="",I.hasChildren=!1,I.numChildren="",I.accommodation="",I.valor=""}),Ve.value="",Oe.value="",Ke.value="",Ue.value="",ua.value="",ta.value="",Je.value="",$e.value="",oa.value="",ia.value="",rt.value=!1,ct.value="",ha.value="",ga.value="",r.value="",i.value="",c.value="",p.value="",V.value="",L.value="",A.value=""},supplementChecked:rt,supplementValue:ct,dateRange:ca,adjustEndDate:Ma,endDateRules:Ha,totalAdultos:0,totalNi\u00F1os:0}},watch:{selectedDeparture:"fetchProgramName",destination:"fetchProgramName",noche:"fetchProgramName",hotel:"fetchProgramName",dateRange:"fetchProgramName",hotel(){this.fetchOptions()},horaLlegadaValue1(e){this.validarHora(e,this.horaSalidaValue1)},horaLlegadaValue2(e){this.validarHora(e,this.horaSalidaValue2)}},mounted(){this.dataUsuario()},methods:{async dataUsuario(){const e="https://backmultidestinos.onrender.com/user/";te.get(e).then(a=>{const t=a.data.filter(n=>n.rol==="Asesor");this.dropdownOptions=t.map(n=>({label:n.nombreCompleto,value:n.id}))}).catch(a=>{console.error("Error al obtener los datos de usuario:",a)})},getStatusColor(e){switch(e){case"Pendiente":return"orange";case"Aprobado":return"green";case"Finalizado":return"red";default:return"grey"}},async fetchProgramName(){console.log("Iniciando fetchProgramName..."),this.autofillingProgramName=!0;try{this.paramsH.hotel=this.hotel,this.paramsH.destino=this.destination,this.paramsH.noches=this.noche.label,this.paramsH.pertenece=this.selectedDeparture,console.log("Enviando datos al servidor:",this.paramsH);const e=await te.post("https://backmultidestinos.onrender.com/hoteles/buscarH",this.paramsH);console.log("Respuesta del servidor sobre el programa:",e),this.programNameOptions=e.data,console.log("Opciones de nombre de programa:",this.programNameOptions);let a=this.programNameOptions.filter(l=>{const u=l.FechaInicio!==null&&l.FechaFin!==null;return console.log(`Programa ${l.nombrePrograma} tiene fechas v\xE1lidas: ${u}`),u});console.log("Programas con fechas v\xE1lidas:",a);let o=new Date(this.dateRange[0]),t=new Date(this.dateRange[1]);if(console.log("Fecha de inicio seleccionada:",o),console.log("Fecha de fin seleccionada:",t),isNaN(o)||isNaN(t)){console.error("Error: Fecha inv\xE1lida en dateRange."),this.$q.notify({message:"Error: Fecha inv\xE1lida seleccionada.",color:"negative"});return}o.setHours(0,0,0,0),t.setHours(0,0,0,0),a=a.filter(l=>{let u=new Date(l.FechaInicio),f=new Date(l.FechaFin);if(isNaN(u)||isNaN(f))return console.error(`Error: Fecha inv\xE1lida en el programa ${l.nombrePrograma}.`),!1;u.setHours(0,0,0,0),f.setHours(0,0,0,0),console.log("Fecha de inicio del programa:",u),console.log("Fecha de fin del programa:",f);const T=u<=t&&f>=o;return console.log(`Programa ${l.nombrePrograma} coincide con las fechas: ${T}`),T}),console.log("Programas que coinciden con las fechas:",a),a=a.filter((l,u,f)=>u===f.findIndex(T=>T.nombrePrograma===l.nombrePrograma)),console.log("Programas coincidentes (sin duplicados y con fechas v\xE1lidas):",a),this.matchingPrograms=a,this.matchingPrograms.length===1?(this.programName=this.matchingPrograms[0].nombrePrograma,console.log("Nombre del programa seleccionado:",this.programName)):this.matchingPrograms.length>1?(this.matchingProgramOptions=this.matchingPrograms.map(l=>l.nombrePrograma),console.log("Opciones de programas coincidentes:",this.matchingProgramOptions)):(this.programName=null,console.log("No hay programas coincidentes."));const n=e.data.map(l=>l.tipoHabitacion),s=[...new Set(n)];console.log("Tipos de habitaci\xF3n \xFAnicos:",s),this.roomTypeOptions=s}catch(e){console.error("Error al obtener nombres de programa:",e)}finally{this.autofillingProgramName=!1}},validarHora(e,a){e&&a&&e<a&&this.$q.notify({message:"La hora de llegada no puede ser anterior a la hora de salida.",color:"negative",position:"top",timeout:2e3})},procesarLiquidacion(){this.cerrarModalPasajeros();const e=this.cotizacionSeleccionada.idCotizacion;te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`).then(a=>{const o=a.data;console.log("Datos de la cotizaci\xF3n desde la API:",o);const t={idCotizacion:this.cotizacionSeleccionada.idCotizacion,salida:this.cotizacionSeleccionada.salida,destino:this.cotizacionSeleccionada.destino,nombrePrograma:this.cotizacionSeleccionada.nombrePrograma,plan:this.cotizacionSeleccionada.plan,hotel:this.cotizacionSeleccionada.hotel,totalAdultos:this.cotizacionSeleccionada.totalAdultos,totalNinos:this.cotizacionSeleccionada.totalNinos,totalPasajeros:this.cotizacionSeleccionada.totalPasajeros,precioBrutoTotal:this.cotizacionSeleccionada.precioBrutoTotal.replace(/[^\d.-]/g,""),valorDescuento:this.cotizacionSeleccionada.valorDescuento,ivaValor:this.cotizacionSeleccionada.ivaValor,rteFuente:this.cotizacionSeleccionada.rteFuente,rteIca:this.cotizacionSeleccionada.rteIca,totalComision:this.cotizacionSeleccionada.totalComision,totalPrecioCliente:this.cotizacionSeleccionada.totalPrecioCliente.replace(/[^\d.-]/g,""),combus:this.cotizacionSeleccionada.combus,tasa:this.cotizacionSeleccionada.tasa,iva:this.cotizacionSeleccionada.iva,ta:this.cotizacionSeleccionada.ta,ivaTa:this.cotizacionSeleccionada.ivaTa,otros:this.cotizacionSeleccionada.otros,suplemento:this.cotizacionSeleccionada.suplemento,precioTrans:this.cotizacionSeleccionada.precioTrans,noches:this.cotizacionSeleccionada.noches,notas:this.cotizacionSeleccionada.notas,cliente:this.cotizacionSeleccionada.cliente,clientePorcentaje:this.cotizacionSeleccionada.clientePorcentaje,nochesAdicionales:this.cotizacionSeleccionada.nochesAdicionales,CreadorCotizacion:this.cotizacionSeleccionada.CreadorCotizacion,fechaCreacion:this.cotizacionSeleccionada.fechaCreacion,aerolineaIda:this.cotizacionSeleccionada.aerolineaIda,vueloIda:this.cotizacionSeleccionada.vueloIda,horaLlegadaIda:this.cotizacionSeleccionada.horaLlegadaIda,horaSalidaIda:this.cotizacionSeleccionada.horaSalidaIda,claseIda:this.cotizacionSeleccionada.claseIda,fechaInicio:this.cotizacionSeleccionada.fechaInicio,aerolineaVuelta:this.cotizacionSeleccionada.aerolineaVuelta,vueloVuelta:this.cotizacionSeleccionada.vueloVuelta,horaLlegadaVuelta:this.cotizacionSeleccionada.horaLlegadaVuelta,horaSalidaVuelta:this.cotizacionSeleccionada.horaSalidaVuelta,claseVuelta:this.cotizacionSeleccionada.claseVuelta,fechaFin:this.cotizacionSeleccionada.fechaFin,correo:this.cotizacionSeleccionada.correo,impuestosLiq:o[0].tieneImpuestos,extra:this.cotizacionSeleccionada.extra,transfer:this.cotizacionSeleccionada.transfer,incluye:this.cotizacionSeleccionada.incluye,noIncluye:this.cotizacionSeleccionada.noIncluye,status:"Pendiente",telefono:this.telefono||null,correoPasajero:this.correoPasajero||null};te.post("https://backmultidestinos.onrender.com/liquidacion",t).then(n=>{const s=n.data.idLiquidacion;if(o[0].tieneImpuestos){const u={idLiquidacion:s,defensaCivil:o[0].defensaCivil_Total,cormacarena5a11:o[0].cormacarena5a11_Total,cormacarena12a65:o[0].cormacarena12a65_Total,cormacarenaExtranjero:o[0].cormacarenaExtranjero_Total,pqsNaturales5a24:o[0].pqsNaturales5a24_Total,pqsNaturales25a65:o[0].pqsNaturales25a65_Total,pqsNaturalesExtranjero:o[0].pqsNaturalesExtranjero_Total,alcaldiaNacional:o[0].alcaldiaNacional_Total,alcaldiaExtranjero:o[0].alcaldiaExtranjero_Total,cormacarena5a11Personas:o[0].cormacarena5a11_numeroPersonas,cormacarena12a65Personas:o[0].cormacarena12a65_numeroPersonas,cormacarenaExtranjeroPersonas:o[0].cormacarenaExtranjero_numeroPersonas,pqsNaturales5a24Personas:o[0].pqsNaturales5a24_numeroPersonas,pqsNaturales25a65Personas:o[0].pqsNaturales25a65_numeroPersonas,pqsNaturalesExtranjeroPersonas:o[0].pqsNaturalesExtranjero_numeroPersonas,alcaldiaNacionalPersonas:o[0].alcaldiaNacional_numeroPersonas,alcaldiaExtranjeroPersonas:o[0].alcaldiaExtranjero_numeroPersonas,defensaCivilPersonas:o[0].defensaCivil_numeroPersonas};te.post("https://backmultidestinos.onrender.com/impuestosLiq",u).then(()=>{console.log("Impuestos creados exitosamente")}).catch(f=>{console.error("Error al crear los impuestos:",f)})}const l=this.pasajeros.map(u=>(u.idLiquidacion=s,te.post("https://backmultidestinos.onrender.com/pasajero",u)));Promise.all(l).then(()=>{console.log("Liquidaci\xF3n y pasajeros creados exitosamente"),te.post(`https://backmultidestinos.onrender.com/cotizacion/${e}`,{status:"Aprobado"}).then(()=>{console.log("Cotizaci\xF3n actualizada a 'Aprobado'")}).catch(u=>{console.error("Error al actualizar la cotizaci\xF3n:",u)})}).catch(u=>{console.error("Error al crear los pasajeros:",u)})}).catch(n=>{console.error("Error al crear la liquidaci\xF3n:",n)})}).catch(a=>{console.error("Error al obtener datos de la cotizaci\xF3n:",a)})},abrirModalPasajeros(e){this.cotizacionSeleccionada=e,this.totalPasajeros=e.totalPasajeros,this.pasajeros=[];for(let a=0;a<this.totalPasajeros;a++)this.pasajeros.push({nombre:"",tipoDocumento:"",numeroDocumento:"",fechaNacimiento:""});this.tieneTelefono=!1,this.telefono="",this.tieneNumero=!1,this.correoPasajero="",this.mostrarModalPasajeros=!0},cerrarModalPasajeros(){this.mostrarModalPasajeros=!1},async pasarALiquidacion(){console.log("Pasando cotizaci\xF3n a liquidaci\xF3n:",cotizacion)},filteredCotizacionData(){const e=this.selectedFilter,a=[...this.cotizacionData];return a.sort((o,t)=>{const n=o.idCotizacion,s=t.idCotizacion;if(n.includes("-C")&&!s.includes("-C"))return-1;if(!n.includes("-C")&&s.includes("-C"))return 1;const l=n.startsWith("COT-C")?parseInt(n.split("-C")[1],10):0,u=s.startsWith("COT-C")?parseInt(s.split("-C")[1],10):0;if(n.startsWith("COT-C")&&s.startsWith("COT-C"))return u-l;if(n.startsWith("COT-")&&s.startsWith("COT-")){const f=parseInt(n.split("-")[1],10);return parseInt(s.split("-")[1],10)-f}return 0}),a.filter(o=>{const t=e==="Todos"||e==="Cot-C"&&o.idCotizacion.includes("-C")||e==="Cot"&&!o.idCotizacion.includes("-C"),n=this.filterStatus===null||o.status===this.filterStatus;return t&&n})},customSort(e,a,o){const t=[...e];return a==="idCotizacion"?t.sort((n,s)=>{const[l,u]=n[a].split("-"),[f,T]=s[a].split("-");return l==="COT-"&&f==="COT-"?o?T-u:u-T:0}):a==="fechaCreacion"?t.sort((n,s)=>{const l=new Date(n[a]),u=new Date(s[a]);return o?u-l:l-u}):t.sort((n,s)=>{const l=o?s:n,u=o?n:s;return l[a]>u[a]?1:l[a]<u[a]?-1:0}),t},descargarCotizacionN(e){e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)},shouldHideAdditionalNightSection(){return this.destination==="Bah\xEDa Solano"&&this.programName==="Temporada Baja"&&this.hotel==="El Almejal Ecolodge"},mostrarDialogoSeleccionArchivo(){this.mostrarDialogo=!0},seleccionarArchivo(e){this.archivoSeleccionado=e.target.files[0]},async enviarCotizacion(e){try{const a=await(e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download=`cotizacion_${e.cliente}.pdf`,o.style.display="none",document.body.appendChild(o),o.click(),await new Promise(n=>setTimeout(n,1e3));const t=`mailto:${e.correo}?subject=Cotizaci\xF3n para ${e.cliente}&body=Estimado(a) ${e.cliente},%0D%0A%0D%0AAdjuntamos su cotizaci\xF3n (reci\xE9n descargada).%0D%0A%0D%0ASaludos cordiales,`;window.location.href=t,setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},1e3),this.$q.notify({message:"Abriendo cliente de correo...",color:"info"})}catch(a){console.error(a),this.$q.notify({message:"Error al enviar la cotizaci\xF3n",color:"negative"})}},checkPageOverflow(e,a,o,t=10){const n=e.internal.pageSize.height;return a+o>n-t?(e.addPage(),margins.top):a},async descargarCotizacionCano(e){try{let re=function(i){return i.map(c=>{const p=c.adultos,V=c.ni\u00F1os,L=`1x${p}`;return V>0?`${L} CHD`:L}).join(", ")},M=function(i){for(let c=0;c<=6;c++){const p=N.left+c*_;h.line(p,i,p,i+R)}h.line(N.left,i,G-N.right,i),h.line(N.left,i+R,G-N.right,i+R)};const[a,o,t]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const n=o.data[0],s=t.data[0];console.log("impuesto",s);const l=a.data;console.log("habitacion",l);const u=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${n.cliente}`);console.log("clienteResponse",u);const f=u.data[0];console.log("clienteData",f);const T=f.tipoBase,b=await te.get(`https://backmultidestinos.onrender.com/user/${n.CreadorCotizacion}`),x=b.Data;console.log("vendedor",b.data.nombreCompleto);const X={hotel:n.hotel,nombrePrograma:n.nombrePrograma,destino:n.destino},k=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",X),v=k.data[0].incluye,g=k.data[0].noIncluye,h=new kt,N={top:10,bottom:10,left:10,right:10},G=h.internal.pageSize.width,J=h.internal.pageSize.height,E=40,z={left:10,right:10,top:5,bottom:5},xe=await new Promise((i,c)=>{const p=new Image;p.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",p.onload=()=>i(p),p.onerror=c}),ue=xe.width/xe.height,he=G/4-z.left-z.right,Ce=Math.min(100,he),Ee=Ce/ue,oe=N.top+(E-Ee)/2,fe=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,Z=`Numero de cotizaci\xF3n: ${e}`;h.addImage(xe,"PNG",N.left+z.left,oe,Ce,Ee);const ne=G-N.left-N.right-Ce-z.left-z.right-10;h.setFontSize(10),h.text(h.splitTextToSize(fe,ne),N.left+Ce+z.left+z.right,N.top+10);const Ie=G-N.right-h.getTextWidth(Z)-z.right;h.setFontSize(12),h.setFont("Helvetica-Bold",12),h.text(Z,Ie,N.top+10),h.setDrawColor(0),h.rect(N.left,N.top,G-N.left-N.right,E,"S"),h.setFontSize(10);const _e=N.top+E+10;h.setFontSize(10),h.text("SOLICITUD DE RESERVA:",N.left,_e-4),h.setFontSize(8);const q=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],Se=[new Date(n.fechaCreacion).toLocaleDateString(),n.cliente.toString(),f.telefono?f.telefono.toString():"N/A",f.nit?f.nit.toString():"N/A",f.nit?f.nit.toString():"N/A",b.data.nombreCompleto?b.data.nombreCompleto.toString():"N/A"],we=6,w=(G-N.left-N.right)/we;let me=N.left,U=_e;for(let i=0;i<q.length;i++){h.text(q[i],me,U);const c=Se[i]!==void 0?Se[i]:"N/A",p=h.splitTextToSize(c,w-2);h.text(p,me,U+5),me+=w,((i+1)%we===0||i===q.length-1)&&(U+=15,me=N.left)}const ze=re(l),D=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],y=[n.noches?n.noches.toString():"N/A",n.hotel?n.hotel.toString():"N/A",n.plan?n.plan.toString():"N/A",n.destino?n.destino.toString():"N/A",n.direccion?n.direccion.toString():"N/A",ze.toString()];console.log("campso2",y);const S=6,Y=(G-N.left-N.right)/S;U+=1;for(let i=0;i<D.length;i++){h.text(D[i],me,U);const c=y[i]!==void 0?y[i]:"N/A",p=h.splitTextToSize(c,Y-2);h.text(p,me,U+5),me+=Y}U+=1,h.setFontSize(10),h.text("ITINERARIO: ",N.left,U+12),U+=20;const B=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],Q=[[n.aerolineaIda||"N/A",n.vueloIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta1||"N/A",n.claseIda||"N/A",n.horaSalidaIda||"N/A",n.horaLlegadaIda||"N/A",n.recordIda||"N/A"]];n.aerolineaEscalaIda!=null&&(Q.push([n.aerolineaEscalaIda||"N/A",n.vueloEscalaIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",n.claseEscalaIda||"N/A",n.horaSalidaEscalaIda||"N/A",n.horaLlegadaEscalaIda||"N/A",""]),Q.push([n.aerolineaEscalaVuelta||"N/A",n.vueloEscalaVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",n.claseEscalaVuelta||"N/A",n.horaSalidaEscalaVuelta||"N/A",n.horaLlegadaEscalaVuelta||"N/A",""])),Q.push([n.aerolineaVuelta||"N/A",n.vueloVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta2||"N/A",n.claseVuelta||"N/A",n.horaSalidaVuelta||"N/A",n.horaLlegadaVuelta||"N/A",n.recordVuelta||"N/A"]);const ge=(G-N.left-N.right)/B.length,ye=G-N.left-N.right,Be=10+8*Q.length;h.rect(N.left,U,ye,Be,"S"),h.setFontSize(8),B.forEach((i,c)=>{h.text(i,N.left+c*ge,U+5)}),U+=10,Q.forEach((i,c)=>{i.forEach((p,V)=>{h.text(p,N.left+V*ge,U+c*8)})}),U+=Be+5;const Le="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Fe=U-10,je=30;h.setDrawColor(0),h.rect(N.left,Fe,G-N.left-N.right,je),h.setFontSize(12),h.text("OBSERVACIONES:",N.left+2,Fe+6),h.setFontSize(10),h.text(Le,N.left+2,Fe+15,{maxWidth:G-N.left-N.right-4});let Ae=6;const Ye=U+25,We=v.split("\xBF"),Pe=6,Re=5;let Ze=0;We.forEach(i=>{Ze+=h.getTextDimensions(i.trim(),{fontSize:8,maxWidth:G-N.left-N.right-4}).h});const Xe=Ze+Pe+Re+10;h.setDrawColor(0),h.rect(N.left,Ye,G-N.left-N.right,Xe),h.setFontSize(12),h.text("INCLUYE:",N.left+2,Ye+6),h.setFontSize(8);let $=Ye+Pe+Re;We.forEach(i=>{h.text(i.trim(),N.left+2,$,{maxWidth:G-N.left-N.right-4}),$+=h.getTextDimensions(i.trim(),{fontSize:8,maxWidth:G-N.left-N.right-4}).h}),h.addPage(),U=N.top;const pe=12;h.setFontSize(10),h.text("LIQUIDACI\xD3N:",N.left,U),U+=5;const se=U+5,W=2,R=6,_=(G-N.left-N.right)/6;h.setDrawColor(0);let da=0;h.setFontSize(7);let ee=0;l.forEach(i=>{const c=se+ee*R;M(c);const p=`Valor adul ${i.acomodacion}`;h.text(p,N.left+W,c+R/2,{baseline:"middle"});const V=Math.round(i.precioComisionableAdulto);h.text(V.toString(),N.left+_+W,c+R/2,{baseline:"middle"});const L=i.adultos;h.text(L.toString(),N.left+2*_+W,c+R/2,{baseline:"middle"});const A=Math.round(i.precioComisionableAdulto*i.adultos);if(h.text(A.toString(),N.left+3*_+W,c+R/2,{baseline:"middle"}),ee===0){h.setFontSize(6);const K=T==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";h.text(K,N.left+4*_+W,c+R/2,{baseline:"middle"}),h.setFontSize(7)}let H=A;if(i.ni\u00F1os>0&&(H+=Math.round(i.precioComisionableNino*i.ni\u00F1os)),da+=H,ee++,i.ni\u00F1os>0){const K=se+ee*R;M(K);const ke=`Valor child ${i.acomodacion}`;h.text(ke,N.left+W,K+R/2,{baseline:"middle"});const ra=Math.round(i.precioComisionableNino);h.text(ra.toString(),N.left+_+W,K+R/2,{baseline:"middle"});const Qe=i.ni\u00F1os;h.text(Qe.toString(),N.left+2*_+W,K+R/2,{baseline:"middle"});const ea=Math.round(i.precioComisionableNino*i.ni\u00F1os);h.text(ea.toString(),N.left+3*_+W,K+R/2,{baseline:"middle"}),ee++}}),h.text(da.toString(),N.left+5*_+W,se+R/2,{baseline:"middle"}),U=se+ee*R+10;const He=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],ce=[n.otros,n.combus,n.iva,n.tasa,n.ta,n.ivaTa,s.defensaCivil_Total,s.alcaldiaNacional_Total,s.alcaldiaExtranjero_Total,s.pqsNaturalesExtranjero_Total,s.pqsNaturales25a65_Total,s.pqsNaturales5a24_Total,s.cormacarenaExtranjero_Total,s.cormacarena5a11_Total,s.cormacarena12a65_Total,n.precioTrans],ve=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],be={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(n.suplemento>0&&(He.push("SUPLEMENTO"),ce.push(n.suplemento)),n.extra1)if(n.extra1.includes("*")){let i=n.extra1.split("*"),c=i[0],p=i[1];He.push("Valor Extra","Valor Extra2"),ce.push(c,p)}else{let i=n.extra1;He.push("Valor Extra"),ce.push(i)}He.forEach((i,c)=>{const p=U+c*R;M(p);const V=be[i]||i;h.text(V,N.left+W,p+R/2,{baseline:"middle"});const L=n.totalPasajeros,A=ce[c]||0;let H="";if(ve.includes(i)){const Qe=`${i}_numeroPersonas`,ea=s[Qe]||0;H=ea!==0?Math.trunc(A/ea):""}else H=L!==0?Math.trunc(A/L):"";h.text(H.toString(),N.left+_+W,p+R/2,{baseline:"middle"});const K=L!==0?Math.trunc(L).toString():"";let ke="";if(ve.includes(i)){const Qe=`${i}_numeroPersonas`;ke=s[Qe]||""}else ke=K;h.text(ke,N.left+2*_+W,p+R/2,{baseline:"middle"});const ra=A!==0?Math.trunc(A).toString():"";if(h.text(ra,N.left+3*_+W,p+R/2,{baseline:"middle"}),i==="Q"){h.text("Porcentaje",N.left+4*_+W,p+R/2,{baseline:"middle"});const Qe=n.clientePorcentaje||0,ea=Math.trunc(Qe).toString()+"%";h.text(ea,N.left+5*_+W,p+R/2,{baseline:"middle"})}else if(i==="YS"){h.text("Valor Descuento",N.left+4*_+W,p+R/2,{baseline:"middle"});const Qe=n.valorDescuento||0,ea=Math.trunc(Qe).toString();h.text(ea,N.left+5*_+W,p+R/2,{baseline:"middle"}),T==="Comisi\xF3n"&&[{label:`IVA(${f.porcentajeIva}%) (-)`,value:n.ivaValor},{label:`RTE FUENTE(${f.rteFuente}%) (+)`,value:n.rteFuente},{label:`RTE ICA(${f.rteIca}%) (+)`,value:n.rteIca},{label:"Total Comisi\xF3n",value:n.totalComision}].forEach((Ma,Aa)=>{const Ha=p+(Aa+1)*R;M(Ha),h.text(Ma.label,N.left+4*_+W,Ha+R/2,{baseline:"middle"}),h.text(Ma.value.toString(),N.left+5*_+W,Ha+R/2,{baseline:"middle"})})}}),U+=He.length*R,l.forEach(i=>{if(i.adultos>0){const c=U;M(c),h.text(`Valor total Adt ${i.acomodacion}`,N.left+W,c+R/2,{baseline:"middle"});const p=i.precioHabitacionAdulto||0,V=Ca(p).format("$0,0");h.text(V,N.left+3*_+W,c+R/2,{baseline:"middle"}),U+=R}if(i.ni\u00F1os>0){const c=U;M(c),h.text(`Valor total Chd ${i.acomodacion}`,N.left+W,c+R/2,{baseline:"middle"});const p=i.precioHabitacionNino||0,V=Ca(p).format("$0,0");h.text(V,N.left+3*_+W,c+R/2,{baseline:"middle"}),U+=R}}),h.setFontSize(8),U+=R,M(U),h.text("Valor total",N.left+W,U+R/2,{baseline:"middle"});const Ve=n.precioBrutoTotal||0,Ge=Ca(Ve).format("$0,0");h.text(Ge,N.left+3*_+W,U+R/2,{baseline:"middle"}),h.text("Precio a pagar",N.left+4*_+W,U+R/2-2,{baseline:"middle"}),h.text("a Multidestinos",N.left+4*_+W,U+R/2+2,{baseline:"middle"});const Oe=parseFloat(n.suplemento)||0,Ue=parseFloat(n.totalPrecioCliente)||0,Ke=Oe>0?Ue+Oe:Ue,ua=Ca(Ke).format("$0,0");h.text(ua,N.left+5*_+W,U+R/2,{baseline:"middle"}),U+=R+10;const ta=N.left;let Je=U+5;const oa=190;let $e=30;h.setFontSize(7),h.setLineWidth(.5);const ia="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",ha=h.splitTextToSize(ia,oa-10);Je+$e>J-N.bottom&&(h.addPage(),U=N.top,Je=U+5),h.text("Deposito y Condiciones de Pago",ta+5,Je+3),h.setFontSize(6);const ga=5;$e=20+ha.length*ga,h.rect(ta,Je,oa,$e),ha.forEach((i,c)=>{h.text(i,ta+5,Je+10+c*ga)}),U+=$e+5;const r=h.output("blob");return h.save(`cotizacion_${e}.pdf`),r}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},async descargarCotizacion(e){try{let me=function(c){return c.map(p=>{const V=p.adultos,L=p.ni\u00F1os,A=`1x${V}`;return L>0?`${A} CHD`:A}).join(", ")},He=function(c){for(let p=0;p<=6;p++){const V=g.left+p*ee;v.line(V,c,V,c+M)}v.line(g.left,c,h-g.right,c),v.line(g.left,c+M,h-g.right,c+M)};const[a,o]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const t=o.data[0];console.log("cotizacion",t);const n=a.data;console.log("habitacion",n);const s=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${t.cliente}`);console.log("clienteResponse",s);const l=s.data[0];console.log("clienteData",l);const u=l.tipoBase,f=await te.get(`https://backmultidestinos.onrender.com/user/${t.CreadorCotizacion}`),T=f.Data;console.log("vendedor",f.data.nombreCompleto);const b={hotel:t.hotel,nombrePrograma:t.nombrePrograma,destino:t.destino},x=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",b),X=t.incluye?t.incluye:x.data[0].incluye,k=t.noIncluye?t.noIncluye:x.data[0].noIncluye,v=new kt,g={top:10,bottom:10,left:10,right:10},h=v.internal.pageSize.width,N=v.internal.pageSize.height,G=40,J={left:10,right:10,top:5,bottom:5},E=await new Promise((c,p)=>{const V=new Image;V.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",V.onload=()=>c(V),V.onerror=p}),z=E.width/E.height,xe=h/4-J.left-J.right,ue=Math.min(100,xe),he=ue/z,Ce=g.top+(G-he)/2,Ee=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,oe=`Numero de cotizaci\xF3n: ${e}`;v.addImage(E,"PNG",g.left+J.left,Ce,ue,he);const fe=h-g.left-g.right-ue-J.left-J.right-10;v.setFontSize(10),v.text(v.splitTextToSize(Ee,fe),g.left+ue+J.left+J.right,g.top+10);const Z=h-g.right-v.getTextWidth(oe)-J.right;v.setFontSize(12),v.setFont("Helvetica-Bold",12),v.text(oe,Z,g.top+10),v.setDrawColor(0),v.rect(g.left,g.top,h-g.left-g.right,G,"S"),v.setFontSize(10);const ne=g.top+G+10;v.setFontSize(10),v.text("SOLICITUD DE RESERVA:",g.left,ne-4),v.setFontSize(8);const Ie=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],_e=[new Date(new Date(t.fechaCreacion).getTime()+new Date(t.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),t.cliente.toString(),l.telefono?l.telefono.toString():"N/A","N/A",l.nit?l.nit.toString():"N/A",f.data.nombreCompleto?f.data.nombreCompleto.toString():"N/A"],q=6,Se=(h-g.left-g.right)/q;let we=g.left,w=ne;for(let c=0;c<Ie.length;c++){v.text(Ie[c],we,w);const p=_e[c]!==void 0?_e[c]:"N/A",V=v.splitTextToSize(p,Se-2);v.text(V,we,w+5),we+=Se,((c+1)%q===0||c===Ie.length-1)&&(w+=15,we=g.left)}const U=me(n),re=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],ze=[t.noches?t.noches.toString():"N/A",t.hotel?t.hotel.toString():"N/A",t.plan?t.plan.toString():"N/A",t.destino?t.destino.toString():"N/A",t.direccion?t.direccion.toString():"N/A",U.toString()];console.log("campso2",ze);const D=6,y=(h-g.left-g.right)/D;w+=1;for(let c=0;c<re.length;c++){v.text(re[c],we,w);const p=ze[c]!==void 0?ze[c]:"N/A",V=v.splitTextToSize(p,y-2);v.text(V,we,w+5),we+=y}w+=22,v.setFontSize(10),v.text("ITINERARIO: ",g.left,w-10);const S=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],Y=[[t.aerolineaIda||"N/A",t.vueloIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta1||"N/A",t.claseIda||"N/A",t.horaSalidaIda||"N/A",t.horaLlegadaIda||"N/A",t.recordIda||"N/A"]];t.aerolineaEscalaIda!=null&&(Y.push([t.aerolineaEscalaIda||"N/A",t.vueloEscalaIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",t.claseEscalaIda||"N/A",t.horaSalidaEscalaIda||"N/A",t.horaLlegadaEscalaIda||"N/A",""]),Y.push([t.aerolineaEscalaVuelta||"N/A",t.vueloEscalaVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",t.claseEscalaVuelta||"N/A",t.horaSalidaEscalaVuelta||"N/A",t.horaLlegadaEscalaVuelta||"N/A",""])),Y.push([t.aerolineaVuelta||"N/A",t.vueloVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta2||"N/A",t.claseVuelta||"N/A",t.horaSalidaVuelta||"N/A",t.horaLlegadaVuelta||"N/A",t.recordVuelta||"N/A"]);const B=(h-g.left-g.right)/S.length,Q=h-g.left-g.right,ge=12+8*Y.length;w+=5,v.rect(g.left,w-5,Q,ge,"S"),v.setFontSize(8),S.forEach((c,p)=>{v.text(c,g.left+p*B,w)}),w+=5,Y.forEach((c,p)=>{c.forEach((V,L)=>{v.text(V,g.left+L*B,w+(p+1)*8)})}),w+=ge-5;const ye="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Be=w+10,Le=30;v.setDrawColor(0),v.rect(g.left,Be,h-g.left-g.right,Le),v.setFontSize(12),v.text("OBSERVACIONES:",g.left+2,Be+6),v.setFontSize(10),v.text(ye,g.left+2,Be+15,{maxWidth:h-g.left-g.right-4});let Fe=6;const je=w+50,Ae=X.split("\xBF"),Ye=6,We=5;let Pe=0;Ae.forEach(c=>{Pe+=v.getTextDimensions(c.trim(),{fontSize:8,maxWidth:h-g.left-g.right-4}).h});const Re=Pe+Ye+We+10;v.setDrawColor(0),v.rect(g.left,je,h-g.left-g.right,Re),v.setFontSize(12),v.text("INCLUYE:",g.left+2,je+6),v.setFontSize(8);let Ze=je+Ye+We;Ae.forEach(c=>{v.text(c.trim(),g.left+2,Ze,{maxWidth:h-g.left-g.right-4}),Ze+=v.getTextDimensions(c.trim(),{fontSize:8,maxWidth:h-g.left-g.right-4}).h}),v.addPage(),w=g.top;const Xe=12,$=w+5,pe=k.split(`
`).flatMap(c=>c.split("\xBF").map(p=>p.trim()));v.setDrawColor(0),v.rect(g.left,$,h-g.left-g.right,0),v.setFont("helvetica"),v.setFontSize(10),v.setTextColor(0),v.text("NO INCLUYE:",g.left+2,$+6),v.setFontSize(8),Fe=3;let se=$+Xe,W=!1;pe.forEach((c,p)=>{if(c==="")return;const V=W?Fe/3:Fe,L=se+V;v.text(c,g.left+10,L,{maxWidth:h-g.left-g.right-10}),se=L+Fe,W=c.endsWith("\xBF")});const R=se-$;v.rect(g.left,$,h-g.left-g.right,R),w=se+15,v.setFontSize(10),v.text("LIQUIDACI\xD3N:",g.left,w),w+=5;const qe=w+5,_=2,M=6,ee=(h-g.left-g.right)/6;v.setDrawColor(0);let ce=0;v.setFontSize(7);let ve=0;n.forEach(c=>{const p=qe+ve*M;He(p);const V=`Valor adul ${c.acomodacion}`;v.text(V,g.left+_,p+M/2,{baseline:"middle"});const L=Math.round(c.precioComisionableAdulto);v.text(L.toString(),g.left+ee+_,p+M/2,{baseline:"middle"});const A=c.adultos;v.text(A.toString(),g.left+2*ee+_,p+M/2,{baseline:"middle"});const H=Math.round(c.precioComisionableAdulto*c.adultos);if(v.text(H.toString(),g.left+3*ee+_,p+M/2,{baseline:"middle"}),ve===0){v.setFontSize(6);const ke=u==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";v.text(ke,g.left+4*ee+_,p+M/2,{baseline:"middle"}),v.setFontSize(7)}let K=H;if(c.ni\u00F1os>0&&(K+=Math.round(c.precioComisionableNino*c.ni\u00F1os)),ce+=K,ve++,c.ni\u00F1os>0){const ke=qe+ve*M;He(ke);const ra=`Valor child ${c.acomodacion}`;v.text(ra,g.left+_,ke+M/2,{baseline:"middle"});const Qe=Math.round(c.precioComisionableNino);v.text(Qe.toString(),g.left+ee+_,ke+M/2,{baseline:"middle"});const ea=c.ni\u00F1os;v.text(ea.toString(),g.left+2*ee+_,ke+M/2,{baseline:"middle"});const ca=Math.round(c.precioComisionableNino*c.ni\u00F1os);v.text(ca.toString(),g.left+3*ee+_,ke+M/2,{baseline:"middle"}),ve++}}),v.text(ce.toString(),g.left+5*ee+_,qe+M/2,{baseline:"middle"}),w=qe+ve*M+10;const be=["TRANSPORTE NO COMISI","Q","YS","CO","TA","YS TA","TOTAL IMPUESTOS"],Ve=[t.otros,t.combus,t.iva,t.tasa,t.ta,t.ivaTa,t.precioTrans];if(t.suplemento>0&&(be.push("SUPLEMENTO"),Ve.push(t.suplemento)),t.extra1)if(t.extra1.includes("*")){let c=t.extra1.split("*"),p=c[0],V=c[1];be.push("Valor Extra","Valor Extra2"),Ve.push(p,V)}else{let c=t.extra1;be.push("Valor Extra"),Ve.push(c)}be.forEach((c,p)=>{const V=w+p*M;He(V),v.text(c,g.left+_,V+M/2,{baseline:"middle"});const L=t.totalPasajeros,A=Ve[p]||0,H=L!==0?Math.trunc(A/L):"";v.text(H.toString(),g.left+ee+_,V+M/2,{baseline:"middle"});const K=L!==0?Math.trunc(L).toString():"";v.text(K,g.left+2*ee+_,V+M/2,{baseline:"middle"});const ke=A!==0?Math.trunc(A).toString():"";if(v.text(ke,g.left+3*ee+_,V+M/2,{baseline:"middle"}),c==="Q"){v.text("Porcentaje",g.left+4*ee+_,V+M/2,{baseline:"middle"});const ra=t.clientePorcentaje||0,Qe=Math.trunc(ra).toString()+"%";v.text(Qe,g.left+5*ee+_,V+M/2,{baseline:"middle"})}else if(c==="YS"){v.text("Valor Descuento",g.left+4*ee+_,V+M/2,{baseline:"middle"});const ra=t.valorDescuento||0,Qe=Math.trunc(ra).toString();v.text(Qe,g.left+5*ee+_,V+M/2,{baseline:"middle"}),u==="Comisi\xF3n"&&[{label:`IVA(${l.porcentajeIva}%) (-)`,value:t.ivaValor},{label:`RTE FUENTE(${l.rteFuente}%) (+)`,value:t.rteFuente},{label:`RTE ICA(${l.rteIca}%) (+)`,value:t.rteIca},{label:"Total Comisi\xF3n",value:t.totalComision}].forEach((ca,Ma)=>{const Aa=V+(Ma+1)*M;He(Aa),v.text(ca.label,g.left+4*ee+_,Aa+M/2,{baseline:"middle"}),v.text(ca.value.toString(),g.left+5*ee+_,Aa+M/2,{baseline:"middle"})})}}),w+=be.length*M,n.forEach(c=>{if(c.adultos>0){const p=w;He(p),v.text(`Valor total Adt ${c.acomodacion}`,g.left+_,p+M/2,{baseline:"middle"});const V=c.precioHabitacionAdulto||0,L=Ca(V).format("$0,0");v.text(L,g.left+3*ee+_,p+M/2,{baseline:"middle"}),w+=M}if(c.ni\u00F1os>0){const p=w;He(p),v.text(`Valor total Chd ${c.acomodacion}`,g.left+_,p+M/2,{baseline:"middle"});const V=c.precioHabitacionNino||0,L=Ca(V).format("$0,0");v.text(L,g.left+3*ee+_,p+M/2,{baseline:"middle"}),w+=M}}),v.setFontSize(8),w+=M,He(w),v.text("Valor total",g.left+_,w+M/2,{baseline:"middle"});const Ge=t.precioBrutoTotal||0,Oe=Ca(Ge).format("$0,0");v.text(Oe,g.left+3*ee+_,w+M/2,{baseline:"middle"}),v.text("Precio a pagar",g.left+4*ee+_,w+M/2-2,{baseline:"middle"}),v.text("a Multidestinos",g.left+4*ee+_,w+M/2+2,{baseline:"middle"});const Ue=0,Ke=parseFloat(t.totalPrecioCliente)||0,ua=Ue>0?Ke+Ue:Ke,ta=Ca(ua).format("$0,0");v.text(ta,g.left+5*ee+_,w+M/2,{baseline:"middle"}),w+=M+10;const Je=g.left;let oa=w+5;const $e=190;let ia=30;v.setFontSize(7),v.setLineWidth(.5),v.setFontSize(6);const ha=5,ga="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",r=v.splitTextToSize(ga,$e-10);ia=20+r.length*ha,oa+ia>N-g.bottom&&(v.addPage(),w=g.top),oa=w,v.rect(Je,w,$e,ia),v.text("Deposito y Condiciones de Pago",Je+5,oa+3),r.forEach((c,p)=>{v.text(c,Je+5,oa+10+p*ha)}),w+=ia+5;const i=v.output("blob");return v.save(`cotizacion_${e}.pdf`),i}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},handleChildrenChange(e){this.rooms[e].numChildren=this.hasChildren[e]?1:0},async fetchCotizacionData(){try{const e=await te.get("https://backmultidestinos.onrender.com/cotizacion");this.cotizacionData=e.data}catch(e){console.error("Error fetching cotizacion data:",e)}},async fetchClientOptions(){try{console.log("Obteniendo opciones de clientes...");const e=await te.get("https://backmultidestinos.onrender.com/cliente");console.log("Opciones de clientes nombre:",e.data.nombre);const a=e.data.map(o=>o.nombre);console.log("Opciones de clientes:",a),this.clientOptions=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptionCorreo(){this.correo="",this.OptionCorreo=[];try{const a=(await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`)).data.flatMap(o=>o.correo.split(","));this.OptionCorreo=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptions(){try{console.log("Realizando solicitud HTTP para cargar opciones..."),console.log("Salida seleccionada:",this.selectedDeparture);const e=await te.get(`https://backmultidestinos.onrender.com/planes/porCiudad/${this.selectedDeparture}`);console.log("Respuesta del servidor:",e.data);const a={},o={};e.data.forEach(n=>{const s=n.destino;a[s]||(a[s]={programNameOptions:[],hotelOptions:[],nochesOptions:[],accommodationOptions:[]},o[s]={nochesOptions:[]}),a[s].programNameOptions.push(n.nombrePrograma),a[s].hotelOptions.push(...n.hotel.split("*")),a[s].nochesOptions.push(...n.noches.split("*")),a[s].accommodationOptions.push(...n.acomodacion.split("*")),o[s].nochesOptions.push(...n.noches.split("*"))}),this.optionsByDestination=a,this.originalOptionsByDestination=o;const t=e.data.map(n=>n.destino);this.destinationOptions=[...new Set(t)]}catch(e){console.error("Error al cargar opciones:",e)}},updateOptionsByDestination(e){const a=this.optionsByDestination[e];a?(this.programNameOptions=[...new Set(a.programNameOptions)],this.hotelOptions=[...new Set(a.hotelOptions)],this.accommodationOptions=[...new Set(a.accommodationOptions)],this.nochesOptions=[...new Set(a.nochesOptions)].map(o=>({label:o,value:parseInt(o.split(" ")[0])})),this.programName=null,this.noche=null,this.hotel=null):(this.programNameOptions=[],this.hotelOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.programName=null,this.noche=null,this.hotel=null)},buscarTiposDeHabitacion(){te.post("https://backmultidestinos.onrender.com/hoteles/buscar",this.params).then(e=>{const a=e.data.map(t=>t.tipoDeHabitacion),o=[...new Set(a)];this.tipoDeHabitacionOptions=o}).catch(e=>{console.error("Error al buscar hoteles:",e)})},handleDepartureChange(){this.clearFieldsc(),this.destinationOptions=[],this.programNameOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.OptionCorreo=[],this.hotelOptions=[],this.roomTypeOptions=[],console.log("Cambio en la selecci\xF3n de salida. Cargando opciones..."),this.fetchOptions(),this.fetchClientOptions()},handleSelectionChangeTipo(e){e.value,this.paramsN.hotel=this.hotel,this.paramsN.nombrePrograma=this.programName,this.paramsN.destino=this.destination,this.paramsN.noches=this.noche.label,this.paramsN.pertenece=this.selectedDeparture,console.log("noche escogida",this.noche.label),console.log(this.paramsN),te.post("https://backmultidestinos.onrender.com/hoteles/buscarN",this.paramsN).then(a=>{console.log("hola",a.data);const o=a.data.map(n=>n.tipoHabitacion),t=[...new Set(o)];console.log(t),this.roomTypeOptions=t}).catch(a=>{console.error("Error al buscar hoteles:",a)})},openModalPersonalizado(){this.modalVisiblePersonalizado=!0},openModal(){this.modalVisible=!0},closeModalPersonalizado(){this.modalVisiblePersonalizado=!1,this.clearFieldsPersonalizado()},closeModal(){this.modalVisible=!1,this.clearFields()},resetVariables(){this.aerolineaEscalaIda="",this.vueloEscalaIda="",this.horaLlegadaEscalaIda="",this.horaSalidaEscalaIda="",this.claseEscalaIda="",this.aerolineaEscalaVuelta="",this.vueloEscalaVuelta="",this.horaLlegadaEscalaVuelta="",this.horaSalidaEscalaVuelta="",this.claseEscalaVuelta="",this.aerolineaValue1="",this.vueloValue1="",this.aerolineaValue2="",this.vueloValue2="",this.horaSalidaValue1="",this.horaLlegadaValue1="",this.horaSalidaValue2="",this.horaLlegadaValue2="",this.claseValue1="",this.claseValue2="",this.totalAdultos=0,this.totalNi\u00F1os=0,this.hasChildren=[],this.additionalNightSelected=!1,this.additionalNightCount=0,this.habitacionesDatos=[],this.totalImpuestos=0,this.sumaTotalAcomodacion=0,this.sumaValorBrutohab=0,this.sumaTotalDescuento=0,this.childrenPriceNumber=0,this.cormacarena5a11Total=0,this.cormacarena12a65Total=0,this.cormacarenaExtranjeroTotal=0,this.pqsNaturales5a24Total=0,this.pqsNaturales25a65Total=0,this.pqsNaturalesExtranjeroTotal=0,this.alcaldiaNacionalTotal=0,this.alcaldiaExtranjeroTotal=0,this.defensaCivilTotal=0,this.cormacarena5a11Personas=0,this.cormacarena12a65Personas=0,this.cormacarenaExtranjeroPersonas=0,this.pqsNaturales5a24Personas=0,this.pqsNaturales25a65Personas=0,this.pqsNaturalesExtranjeroPersonas=0,this.alcaldiaNacionalPersonas=0,this.alcaldiaExtranjeroPersonas=0,this.defensaCivilPersonas=0},async obtenerInformacionTiquete(e,a){try{const o=await te.get(`https://backmultidestinos.onrender.com/tiquete/buscar/${e}/${a}`);return console.log("Informaci\xF3n del tiquete:",o.data),o.data}catch(o){throw console.error("Error al obtener la informaci\xF3n del tiquete:",o),o}},async saveFormData(){var T,b,x,X,k,v;if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,s=0,l=0;const f=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",f);try{const g=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",g);let h=null,N=null,G=null,J=null,E=null;g.data.forEach(D=>{D.nombre===this.selectedClient&&(h=this.programName==="Ca\xF1o Cristales"?parseFloat(D.lmc):parseFloat(D.demas),N=D.tipoBase,G=D.rteFuente,J=D.rteIca,E=D.porcentajeIva)}),console.log("clientePorcentaje",h),console.log("clienteTipoBase",N),console.log("rteFuente",G),console.log("rteIca",J),console.log("ivaValor",E);const z=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",z);const xe=z[0].total,ue=parseFloat(xe);console.log("tiquete",xe),console.log("tiqueteNum",ue);let he=0;if(this.supplementValues)for(let D=0;D<this.supplementValues.length;D++)this.supplementValues[D]&&(console.log("persona",[D],this.supplementValues[D]),he+=parseFloat(this.supplementValues[D])-ue),console.log("Total suplemento",[D],he);console.log("Valor del suplemento:",he);const Ce=[];this.rooms.forEach((D,y)=>{const S={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:D.roomType,noches:this.noche.value};Ce.push(S)}),console.log("edades",Ce);try{const D=await Promise.all(Ce.map(Q=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",Q)));console.log("preciosResponseArray",D),console.log("preciosResponseArray data",D.data);const y=[];D.forEach(Q=>{Q.data.length>0?y.push(...Q.data):console.log("No se encontraron datos en esta respuesta")}),console.log(y),this.plan=y[0].plan;const S={pertenece:this.selectedDeparture,destino:this.destination};(await te.get("https://backmultidestinos.onrender.com/transporte/buscar",{params:S})).data.forEach(Q=>{e+=parseFloat(Q.combus)||0,a+=parseFloat(Q.tasa)||0,o+=parseFloat(Q.iva)||0,t+=parseFloat(Q.ta)||0,n+=parseFloat(Q.ivaTa)||0,s+=parseFloat(Q.otros)||0,l+=parseFloat(Q.total)||0}),console.log("precioTrans",l);let B=0;this.rooms.forEach(async(Q,ge)=>{console.log(`Procesando habitaci\xF3n ${ge+1}`);const ye=Q.accommodation,Be=Q.roomType;console.log(`Tipo de habitaci\xF3n seleccionado: ${Be}`);const Le=y.find(Fe=>Fe.tipoHabitacion===Be);if(console.log("Datos de precio encontrados:",Le),Le){const Fe=Le[ye];console.log(`la acomodacio es: ${ye}`),console.log(`Precio de la acomodaci\xF3n: ${Fe}`),Q.accommodationPrice=Fe;let je=0,Ae=0;this.hasChildren[ge]&&(B=Le.ni\u00F1o,console.log("childrenPrice",B),this.childrenPriceNumber=parseFloat(B.replace(/\./g,"")),je+=B),console.log("childrenPriceNumber1",this.childrenPriceNumber);let Ye=0,We=0;if(this.additionalNightSelected&&this.additionalNightCount>0){const be=parseFloat(Le[`nocheAdicional${ye}`].replace(/\./g,""));console.log("additionalNightPriceAdulto",be);const Ve=this.additionalNightCount;if(console.log("nochesAdicionales",Ve),Ye=be*this.additionalNightCount,console.log("additionalNightTotalPriceAdulto",Ye),je+=Ye,this.hasChildren[ge]){const Ge=parseFloat(Le.nocheAdicionalni\u00F1o.replace(/\./g,""));console.log("additionalNightPriceNi\xF1o",Ge),We=Ge*this.additionalNightCount*Q.numChildren,console.log("additionalNightTotalPriceNi\xF1o",We),je+=We}}const Pe=parseFloat(Fe.replace(/\./g,""));console.log("accommodationPriceNumber",Pe),console.log("precioTrans",l);const Re=Pe-l+(this.additionalNightSelected?Ye:0);this.ValorComisionableNi\u00F1os=0;let Ze=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[ge]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+We,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(h/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",Re),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Xe=Re-Re*(h/100);console.log("ValorClienteAdulto",Xe),console.log("ValorClienteNi\xF1o",Ze);const $=Xe+Ze;console.log("ValorCliente",$);const pe=Q.adults,se=this.hasChildren[ge]?Q.numChildren:0,W=Pe*pe,R=(this.childrenPriceNumber?this.childrenPriceNumber:0)*se;let qe=W+R;console.log("valorBrutoAdulto",W),console.log("valorBrutoni\xF1o",R),console.log("valorBrutoTotal",qe),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${ge+1}: ${pe}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${ge+1}: ${se}`);const _=Xe*pe;console.log("TotalAcomodacionAdulto",_);let M=this.ValorClienteNi\u00F1o*se;console.log("TotalAcomodacionNi\xF1o",M),(M===null||isNaN(M))&&(M=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",M);let da=M+_;console.log("TotalAcomodacion",da),this.totalAdultos+=parseInt(pe),this.totalNi\u00F1os+=se;const ee=Re*pe+this.ValorComisionableNi\u00F1os*se,He=ee*(h/100);console.log("descuento",He),console.log("Valorporcentaje",ee);let ce={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},ve={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",Q),Q.adultAges.length>0&&this.destination==="La Macarena")for(let be=0;be<Q.adultAges.length;be++){const Ve=Q.adultAges[be],Ge=Q.isForeigner[be];console.log(`Calculando impuestos para la persona ${be+1} (edad: ${Ve}, extranjero: ${Ge})`);for(const Oe of f){const Ue=Oe.IMPUESTO;console.log(`Impuesto actual: ${Ue}`),Ue==="cormacarena"?Ge?(ce.cormacarenaExtranjero+=parseFloat(Oe.EXTRANJERO)||0,ve.cormacarenaExtranjero++):Ve>=5&&Ve<=11?(ce.cormacarena5a11+=parseFloat(Oe["5 a 11 a\xF1os"])||0,ve.cormacarena5a11++):Ve>=12&&Ve<=65&&(ce.cormacarena12a65+=parseFloat(Oe["12 a 65 a\xF1os"])||0,ve.cormacarena12a65++):Ue==="pqsNaturales"?Ge?(ce.pqsNaturalesExtranjero+=parseFloat(Oe.EXTRANJERO)||0,ve.pqsNaturalesExtranjero++):Ve>=5&&Ve<=24?(ce.pqsNaturales5a24+=parseFloat(Oe["5 a 24 a\xF1os"])||0,ve.pqsNaturales5a24++):Ve>=25&&Ve<=65&&(ce.pqsNaturales25a65+=parseFloat(Oe["25 a 65 a\xF1os"])||0,ve.pqsNaturales25a65++):Ue==="alcaldia"?Ge?(ce.alcaldiaExtranjero+=parseFloat(Oe.EXTRANJERO)||0,ve.alcaldiaExtranjero++):Ve>=5&&Ve<=1e3&&(ce.alcaldiaNacional+=parseFloat(Oe["12 a 65 a\xF1os"])||0,ve.alcaldiaNacional++):Ue==="defensaCivil"&&(ce.defensaCivil+=parseFloat(Oe["5 a 11 a\xF1os"])||0,ve.defensaCivil++),console.log(`   Impuesto ${Ue} (acumulado): ${ce[Ue]}`)}}console.log("Impuestos totales por habitaci\xF3n:",ce);for(const be in ce)ce[be]===0&&(ce[be]=null);console.log("Impuestos calculados para la habitaci\xF3n:",ce),console.log("N\xFAmero de personas por impuesto:",ve),this.habitacionesDatos.push({idCotizacion:"",adultos:pe,ni\u00F1os:se,acomodacion:ye,tipoHabitacion:Be,precioFlayerAdulto:Pe,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:R,precioHabitacionAdulto:W,precioHabitacionTotal:qe,precioComisionableAdulto:Re,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Xe,valorDescuentoCliente:$,descuento:He,TotalAcomodacionAdulto:_,TotalAcomodacionNino:M,TotalAcomodacion:da,edadesAdultos:Q.adultAges.filter(be=>be!==null).join(","),edadNino:Q.childAge!==null?Q.childAge:null,extranjero:Q.isForeigner.map(be=>be?"SI":"NO").join(","),defensaCivil:ce.defensaCivil,defensaCivilPersonas:ve.defensaCivil,alcaldiaNacional:ce.alcaldiaNacional,alcaldiaNacionalPersonas:ve.alcaldiaNacional,alcaldiaExtranjero:ce.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:ve.alcaldiaExtranjero,pqsNaturalesExtranjero:ce.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:ve.pqsNaturalesExtranjero,pqsNaturales25a65:ce.pqsNaturales25a65,pqsNaturales25a65Personas:ve.pqsNaturales25a65,pqsNaturales5a24:ce.pqsNaturales5a24,pqsNaturales5a24Personas:ve.pqsNaturales5a24,cormacarenaExtranjero:ce.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:ve.cormacarenaExtranjero,cormacarena5a11:ce.cormacarena5a11,cormacarena5a11Personas:ve.cormacarena5a11,cormacarena12a65:ce.cormacarena12a65,cormacarena12a65Personas:ve.cormacarena12a65})}else console.log("No se encontraron datos de precio para esta habitaci\xF3n")})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(D=>{this.sumaTotalAcomodacion+=D.TotalAcomodacion,this.sumaValorBrutohab+=D.precioHabitacionTotal,this.sumaTotalDescuento+=D.descuento,this.cormacarena5a11Total+=D.cormacarena5a11||0,this.cormacarena12a65Total+=D.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=D.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=D.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=D.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=D.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=D.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=D.alcaldiaExtranjero||0,this.defensaCivilTotal+=D.defensaCivil||0,this.cormacarena5a11Personas+=D.cormacarena5a11Personas,this.cormacarena12a65Personas+=D.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=D.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=D.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=D.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=D.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=D.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=D.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=D.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=he,this.sumaTotalAcomodacion+=he,console.log("valor de sumaValorBrutohab antes de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion antes de extras",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=(x=(b=(T=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?T:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?b:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?x:0,this.sumaTotalAcomodacion+=(v=(k=(X=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?X:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?k:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?v:0,console.log("valor de sumaValorBrutohab despues de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion despues de extras",this.sumaTotalAcomodacion),console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let Ee=null,oe=null,fe=null,Z=null;N==="Comisi\xF3n"&&(console.log("si es comison"),this.total,Z=this.sumaTotalDescuento,E!==null&&E!==0&&(oe=Math.round(this.sumaTotalDescuento*(E/100)),this.ivaCalculado=oe,Z+=oe),G!==null&&G!==0&&(Ee=Math.round(this.sumaTotalDescuento*(G/100)),this.rteFuenteCalculado=Ee,Z-=Ee),J!==null&&J!==0&&(fe=Math.round(this.sumaTotalDescuento*(J/100)),this.rteIcaCalculado=fe,Z-=fe)),console.log("this.ivaCalculado",oe),console.log("this.rteFuenteCalculado",Ee),console.log("this.rteIcaCalculado",fe),console.log("this.totalComision",Z);const ne=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",ne),e*=ne,a*=ne,o*=ne,t*=ne,n*=ne,s*=ne,l*=ne,this.sumaTotalAcomodacion+=l,console.log("combus",e),console.log("precioTrans",l),N==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-Z);const Ie=new Date;Ie.setHours(0,0,0,0),console.log(Ie.toISOString().split("T")[0]);const _e=dt.getItem("userData");console.log(_e);let q=parseInt(this.noche.value),Se=parseInt(q)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",q),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",Se);const we=this.numExtraValues===0?null:[this.extraValue1,this.extraValue2].filter(D=>D!==null&&D!=="").join(this.numExtraValues===2?"*":"");console.log("extraValue1",this.extraValue1),console.log("extraValuesString",we),this.programName!=="Ca\xF1o Cristales"?this.tieneImpuestos=!1:this.tieneImpuestos=!0;const w={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:Se,plan:this.plan,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:ne,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:o,ta:t,ivaTa:n,otros:s,precioTrans:l,suplemento:he,cliente:this.selectedClient,clientePorcentaje:h,CreadorCotizacion:_e.id,fechaCreacion:Ie.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:Ee,ivaValor:oe,rteIca:fe,totalComision:Z,correo:this.correo,transfer:this.transferInOutValue||null,asesorExterno:this.selectedUser.value||null,extra1:we||null,incluye:null,noIncluye:null,status:"pendiente",tieneImpuestos:this.tieneImpuestos};console.log("formData",w);const me=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",w);me.data.success&&(console.log("mirar el numero",me.data.success),console.log("mirar el numero1",me.data.idCotizacion),this.idCotizacion=me.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",me.data),console.log("idCotizacion1",this.idCotizacion);const U={idCotizacion:this.idCotizacion,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas};if(this.programName=="Ca\xF1o Cristales"){const D=await te.post("https://backmultidestinos.onrender.com/ImpuestoCot",U)}const re=this.habitacionesDatos.map(async D=>{D.idCotizacion=this.idCotizacion;const y=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",D);return console.log("Respuesta de la habitaci\xF3n:",y.data),y.data}),ze=await Promise.all(re);console.log("Respuestas de todas las habitaciones:",ze),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.resetVariables(),this.closeModal()}catch(g){console.error("Error al guardar la cotizaci\xF3n:",g),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}},async saveFormDataPersonalizado(){if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,s=0,l=0;const f=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",f);try{const T=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",T);let b=null,x=null,X=null,k=null,v=null;T.data.forEach(q=>{q.nombre===this.selectedClient&&(b=this.programName==="Ca\xF1o Cristales"?parseFloat(q.lmc):parseFloat(q.demas),x=q.tipoBase,X=q.rteFuente,k=q.rteIca,v=q.porcentajeIva)}),console.log("clientePorcentaje",b),console.log("clienteTipoBase",x),console.log("rteFuente",X),console.log("rteIca",k),console.log("ivaValor",v);const g=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",g);const h=g[0].total,N=parseFloat(h);console.log("tiquete",h),console.log("tiqueteNum",N);let G=0;if(this.supplementValues)for(let q=0;q<this.supplementValues.length;q++)this.supplementValues[q]&&(console.log("persona",[q],this.supplementValues[q]),G+=parseFloat(this.supplementValues[q])-N),console.log("Total suplemento",[q],G);console.log("Valor del suplemento:",G);const J=[];try{const q=await Promise.all(J.map(w=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",w)));console.log("preciosResponseArray",q),console.log("preciosResponseArray data",q.data);const Se=[];q.forEach(w=>{w.data.length>0?Se.push(...w.data):console.log("No se encontraron datos en esta respuesta")}),console.log(Se),e+=parseFloat(this.Combus)||0,a+=parseFloat(this.Tasa)||0,o+=parseFloat(this.Iva)||0,t+=parseFloat(this.Ta)||0,n+=parseFloat(this.IvaTa)||0,s+=parseFloat(this.otros)||0,l+=parseFloat(this.precioTransp)||0,console.log("precioTrans",l);let we=0;this.rooms.forEach(async(w,me)=>{console.log(`Procesando habitaci\xF3n ${me+1}`);const U=w.accommodation,re=w.roomType,ze=parseFloat(w.valor),D=ze+parseFloat(l);if(1){const S=w.adults,Y=this.hasChildren[me]?w.numChildren:0,B=D;console.log(`Precio de la acomodaci\xF3n: ${B}`),w.accommodationPrice=B;let Q=0,ge=0;console.log("precioTrans",l);const ye=ze;this.ValorComisionableNi\u00F1os=0;let Be=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[me]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+additionalNightTotalPriceNi\u00F1o,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(b/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",ye),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Le=ye-ye*(b/100);console.log("ValorClienteAdulto",Le),console.log("ValorClienteNi\xF1o",Be);const Fe=Le+Be;console.log("ValorCliente",Fe);const je=B*S,Ae=(this.childrenPriceNumber?this.childrenPriceNumber:0)*Y;let Ye=je+Ae;console.log("valorBrutoAdulto",je),console.log("valorBrutoni\xF1o",Ae),console.log("valorBrutoTotal",Ye),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${me+1}: ${S}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${me+1}: ${Y}`);const We=Le*S;console.log("TotalAcomodacionAdulto",We);let Pe=this.ValorClienteNi\u00F1o*Y;console.log("TotalAcomodacionNi\xF1o",Pe),(Pe===null||isNaN(Pe))&&(Pe=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",Pe);let Re=Pe+We;console.log("TotalAcomodacion",Re),this.totalAdultos+=parseInt(S),this.totalNi\u00F1os+=Y;const Ze=ye*S+this.ValorComisionableNi\u00F1os*Y,Xe=Ze*(b/100);console.log("descuento",Xe),console.log("Valorporcentaje",Ze);let $={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},pe={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",w),w.adultAges.length>0)for(let se=0;se<w.adultAges.length;se++){const W=w.adultAges[se],R=w.isForeigner[se];console.log(`Calculando impuestos para la persona ${se+1} (edad: ${W}, extranjero: ${R})`);for(const qe of f){const _=qe.IMPUESTO;console.log(`Impuesto actual: ${_}`),_==="cormacarena"?R?($.cormacarenaExtranjero+=parseFloat(qe.EXTRANJERO)||0,pe.cormacarenaExtranjero++):W>=5&&W<=11?($.cormacarena5a11+=parseFloat(qe["5 a 11 a\xF1os"])||0,pe.cormacarena5a11++):W>=12&&W<=65&&($.cormacarena12a65+=parseFloat(qe["12 a 65 a\xF1os"])||0,pe.cormacarena12a65++):_==="pqsNaturales"?R?($.pqsNaturalesExtranjero+=parseFloat(qe.EXTRANJERO)||0,pe.pqsNaturalesExtranjero++):W>=5&&W<=24?($.pqsNaturales5a24+=parseFloat(qe["5 a 24 a\xF1os"])||0,pe.pqsNaturales5a24++):W>=25&&W<=65&&($.pqsNaturales25a65+=parseFloat(qe["25 a 65 a\xF1os"])||0,pe.pqsNaturales25a65++):_==="alcaldia"?R?($.alcaldiaExtranjero+=parseFloat(qe.EXTRANJERO)||0,pe.alcaldiaExtranjero++):W>=5&&W<=1e3&&($.alcaldiaNacional+=parseFloat(qe["12 a 65 a\xF1os"])||0,pe.alcaldiaNacional++):_==="defensaCivil"&&($.defensaCivil+=parseFloat(qe["5 a 11 a\xF1os"])||0,pe.defensaCivil++),console.log(`   Impuesto ${_} (acumulado): ${$[_]}`)}}console.log("Impuestos totales por habitaci\xF3n:",$);for(const se in $)$[se]===0&&($[se]=null);console.log("Impuestos calculados para la habitaci\xF3n:",$),console.log("N\xFAmero de personas por impuesto:",pe),this.habitacionesDatos.push({idCotizacion:"",adultos:S,ni\u00F1os:Y,acomodacion:U,tipoHabitacion:re,precioFlayerAdulto:B,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:Ae,precioHabitacionAdulto:je,precioHabitacionTotal:Ye,precioComisionableAdulto:ye,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Le,valorDescuentoCliente:Fe,descuento:Xe,TotalAcomodacionAdulto:We,TotalAcomodacionNino:Pe,TotalAcomodacion:Re,edadesAdultos:w.adultAges.filter(se=>se!==null).join(","),edadNino:w.childAge!==null?w.childAge:null,extranjero:w.isForeigner.map(se=>se?"SI":"NO").join(","),defensaCivil:$.defensaCivil,defensaCivilPersonas:pe.defensaCivil,alcaldiaNacional:$.alcaldiaNacional,alcaldiaNacionalPersonas:pe.alcaldiaNacional,alcaldiaExtranjero:$.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:pe.alcaldiaExtranjero,pqsNaturalesExtranjero:$.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:pe.pqsNaturalesExtranjero,pqsNaturales25a65:$.pqsNaturales25a65,pqsNaturales25a65Personas:pe.pqsNaturales25a65,pqsNaturales5a24:$.pqsNaturales5a24,pqsNaturales5a24Personas:pe.pqsNaturales5a24,cormacarenaExtranjero:$.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:pe.cormacarenaExtranjero,cormacarena5a11:$.cormacarena5a11,cormacarena5a11Personas:pe.cormacarena5a11,cormacarena12a65:$.cormacarena12a65,cormacarena12a65Personas:pe.cormacarena12a65})}})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(q=>{this.sumaTotalAcomodacion+=q.TotalAcomodacion,this.sumaValorBrutohab+=q.precioHabitacionTotal,this.sumaTotalDescuento+=q.descuento,this.cormacarena5a11Total+=q.cormacarena5a11||0,this.cormacarena12a65Total+=q.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=q.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=q.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=q.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=q.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=q.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=q.alcaldiaExtranjero||0,this.defensaCivilTotal+=q.defensaCivil||0,this.cormacarena5a11Personas+=q.cormacarena5a11Personas,this.cormacarena12a65Personas+=q.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=q.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=q.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=q.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=q.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=q.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=q.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=q.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=G,this.sumaTotalAcomodacion+=G,console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let E=null,z=null,xe=null,ue=null;x==="Comisi\xF3n"&&(console.log("si es comison"),this.total,ue=this.sumaTotalDescuento,v!==null&&v!==0&&(z=Math.round(this.sumaTotalDescuento*(v/100)),this.ivaCalculado=z,ue+=z),X!==null&&X!==0&&(E=Math.round(this.sumaTotalDescuento*(X/100)),this.rteFuenteCalculado=E,ue-=E),k!==null&&k!==0&&(xe=Math.round(this.sumaTotalDescuento*(k/100)),this.rteIcaCalculado=xe,ue-=xe)),console.log("this.ivaCalculado",z),console.log("this.rteFuenteCalculado",E),console.log("this.rteIcaCalculado",xe),console.log("this.totalComision",ue);const he=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",he),e*=he,a*=he,o*=he,t*=he,n*=he,s*=he,l*=he,this.sumaTotalAcomodacion+=l,console.log("combus",e),console.log("precioTrans",l),x==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-ue);const Ce=new Date;Ce.setHours(0,0,0,0),console.log(Ce.toISOString().split("T")[0]);const Ee=dt.getItem("userData");console.log(Ee);let oe=parseInt(this.noche.value),fe=parseInt(oe)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",oe),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",fe);const Z={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:fe,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:he,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:o,ta:t,ivaTa:n,otros:s,precioTrans:l,suplemento:G,cliente:this.selectedClient,clientePorcentaje:b,CreadorCotizacion:Ee.id,fechaCreacion:Ce.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:E,ivaValor:z,rteIca:xe,totalComision:ue,correo:this.correo,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas,incluye:this.textoIncluye?this.textoIncluye.replace(/\n/g,"\xBF"):null,noIncluye:this.textoNoIncluye?this.textoNoIncluye.replace(/\n/g,"\xBF"):null,extra1:null,transfer:null};console.log("formData",Z);const ne=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",Z);ne.data.success&&(console.log("mirar el numero",ne.data.success),console.log("mirar el numero1",ne.data.idCotizacion),this.idCotizacion=ne.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",ne.data),console.log("idCotizacion1",this.idCotizacion);const Ie=this.habitacionesDatos.map(async q=>{q.idCotizacion=this.idCotizacion;const Se=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",q);return console.log("Respuesta de la habitaci\xF3n:",Se.data),Se.data}),_e=await Promise.all(Ie);console.log("Respuestas de todas las habitaciones:",_e),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.resetVariables(),this.closeModalPersonalizado()}catch(T){console.error("Error al guardar la cotizaci\xF3n:",T),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}}}},ys={key:0},Vs={padding:""},Cs={key:1},Ns=d("p",null,"Cargando datos del usuario...",-1),Es=[Ns],Ss={style:{display:"inline-block","margin-right":"10px"}},Ts={style:{display:"inline-block"}},xs=d("br",null,null,-1),ws={class:"row q-col-gutter-md"},As={class:"col",style:{"margin-left":"10px"}},Ps={class:"row items-center justify-end"},qs={class:"col"},Ds={class:"row items-center justify-end"},_s={class:"q-gutter-md"},Os={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},Is={class:"row q-col-gutter-md"},ks={class:"col"},Ms={class:"col"},zs={class:"row q-col-gutter-md"},Ls={class:"col"},Fs={class:"col"},js={class:"row q-col-gutter-md"},Rs={class:"col"},Hs={class:"col"},Us={key:0,class:"row q-col-gutter-md"},Bs={class:"col"},Ys={class:"col"},Ws={class:"row q-col-gutter-md"},Qs={class:"col"},Xs={class:"col"},Gs={class:"row q-col-gutter-md"},Js={class:"col"},Zs={key:0,class:"col"},Ks={class:"row q-col-gutter-md"},$s={class:"col"},ei={key:1,class:"row q-col-gutter-md"},ai={class:"col"},ti={key:2,class:"row q-col-gutter-md"},oi={class:"col"},li={style:{"text-align":"center"}},ni={style:{"margin-left":"10px","font-weight":"bold"}},si={class:"row q-col-gutter-md"},ii={class:"col"},ri={class:"col"},ci={class:"row q-col-gutter-md"},di={class:"col"},ui={class:"col"},mi={key:0},hi={class:"row"},fi=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),gi={key:0,class:"row"},pi=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),vi={class:"col-6 col-sm-4 col-md-3"},bi=d("div",null,null,-1),yi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),Vi={class:"row q-col-gutter-md"},Ci={class:"col"},Ni={class:"q-mb-md q-ml-md"},Ei={class:"col"},Si={class:"row q-col-gutter-md"},Ti={class:"col"},xi={class:"q-mb-md q-ml-md"},wi={class:"col"},Ai={class:"row q-col-gutter-md"},Pi={class:"col"},qi={class:"q-mb-md q-ml-md"},Di={class:"col",style:{"margin-left":"10px"}},_i={class:"row items-center justify-end"},Oi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),Ii={class:"row q-col-gutter-md"},ki={class:"col"},Mi={class:"q-mb-md q-ml-md"},zi={class:"col"},Li={class:"row q-col-gutter-md"},Fi={class:"col"},ji={class:"q-mb-md q-ml-md"},Ri={class:"col"},Hi={class:"row q-col-gutter-md"},Ui={class:"col"},Bi={class:"q-mb-md q-ml-md"},Yi={class:"col"},Wi={class:"row items-center justify-end"},Qi={class:"row q-col-gutter-md"},Xi={class:"col",style:{"margin-left":"10px"}},Gi={key:0},Ji=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),Zi={class:"row q-col-gutter-md"},Ki={class:"col"},$i={class:"col"},er={class:"row q-col-gutter-md"},ar={class:"col"},tr={class:"col"},or={class:"row q-col-gutter-md"},lr={class:"col"},nr=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),sr={class:"row q-col-gutter-md"},ir={class:"col"},rr={class:"col"},cr={class:"row q-col-gutter-md"},dr={class:"col"},ur={class:"col"},mr={class:"row q-col-gutter-md"},hr={class:"col"},fr={class:"row q-col-gutter-md"},gr={class:"col"},pr={class:"q-mb-md q-ml-md"},vr={key:1},br={class:"row q-mt-md justify-center"},yr={key:0,class:"col"},Vr={key:1,class:"col"},Cr={key:2,class:"col"},Nr={key:3,class:"col"},Er={class:"row q-col-gutter-md"},Sr={class:"col",style:{"margin-left":"10px"}},Tr={class:"row items-center justify-end"},xr={class:"col"},wr={class:"row items-center justify-end"},Ar={class:"q-gutter-md"},Pr={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},qr={class:"row q-col-gutter-md"},Dr={class:"col"},_r={class:"col"},Or={class:"row q-col-gutter-md"},Ir={class:"col"},kr={class:"col"},Mr={key:0,class:"row q-col-gutter-md"},zr={class:"col"},Lr={class:"col"},Fr={class:"row q-col-gutter-md"},jr={class:"col"},Rr={class:"col"},Hr={style:{"text-align":"center"}},Ur={style:{"margin-left":"10px","font-weight":"bold"}},Br={class:"row q-col-gutter-md"},Yr={class:"col"},Wr={class:"col"},Qr={class:"row q-col-gutter-md"},Xr={class:"col"},Gr={class:"col"},Jr={key:0},Zr={class:"row"},Kr=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),$r={key:0,class:"row"},ec=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),ac={class:"col-6 col-sm-4 col-md-3"},tc=d("div",null,null,-1),oc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),lc={class:"row q-col-gutter-md"},nc={class:"col"},sc={class:"q-mb-md q-ml-md"},ic={class:"col"},rc={class:"row q-col-gutter-md"},cc={class:"col"},dc={class:"q-mb-md q-ml-md"},uc={class:"col"},mc={class:"row q-col-gutter-md"},hc={class:"col"},fc={class:"q-mb-md q-ml-md"},gc={class:"col",style:{"margin-left":"10px"}},pc={class:"row items-center justify-end"},vc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),bc={class:"row q-col-gutter-md"},yc={class:"col"},Vc={class:"q-mb-md q-ml-md"},Cc={class:"col"},Nc={class:"row q-col-gutter-md"},Ec={class:"col"},Sc={class:"q-mb-md q-ml-md"},Tc={class:"col"},xc={class:"row q-col-gutter-md"},wc={class:"col"},Ac={class:"q-mb-md q-ml-md"},Pc={class:"col"},qc={class:"row items-center justify-end"},Dc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Impuestos")],-1),_c={class:"row q-col-gutter-md"},Oc={class:"col"},Ic={class:"q-mb-md q-ml-md"},kc={class:"col"},Mc={class:"row q-col-gutter-md"},zc={class:"col"},Lc={class:"q-mb-md q-ml-md"},Fc={class:"col"},jc={class:"row q-col-gutter-md"},Rc={class:"col"},Hc={class:"q-mb-md q-ml-md"},Uc={class:"col"},Bc={class:"row q-col-gutter-md"},Yc={class:"col"},Wc={class:"q-mb-md q-ml-md"},Qc={class:"row q-col-gutter-md"},Xc={class:"col"},Gc={class:"q-mb-md q-ml-md"},Jc={class:"col"},Zc={class:"row q-col-gutter-md"},Kc={class:"col",style:{"margin-left":"10px"}},$c={key:0},ed=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),ad={class:"row q-col-gutter-md"},td={class:"col"},od={class:"col"},ld={class:"row q-col-gutter-md"},nd={class:"col"},sd={class:"col"},id={class:"row q-col-gutter-md"},rd={class:"col"},cd=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),dd={class:"row q-col-gutter-md"},ud={class:"col"},md={class:"col"},hd={class:"row q-col-gutter-md"},fd={class:"col"},gd={class:"col"},pd={class:"row q-col-gutter-md"},vd={class:"col"},bd={class:"row q-col-gutter-md"},yd={class:"col"},Vd={class:"q-mb-md q-ml-md"},Cd={key:1},Nd={class:"row q-mt-md justify-center"},Ed={key:0,class:"col"},Sd={key:1,class:"col"},Td={key:2,class:"col"},xd={key:3,class:"col"},wd=d("div",{class:"text-h6 q-mb-md"},"Datos de Pasajeros",-1),Ad={class:"text-subtitle1 q-mb-sm"},Pd={class:"row q-mb-md"},qd={class:"col-6 q-pr-sm"},Dd={class:"col-6"},_d=d("br",null,null,-1),Od={class:"row"},Id={class:"col-6"},kd={class:"col-6"},Md=d("br",null,null,-1),zd=d("br",null,null,-1),Ld=d("br",null,null,-1),Fd=d("br",null,null,-1),jd=d("br",null,null,-1),Rd={type:"file",ref:"fileInput",style:{display:"none"}};function Hd(e,a,o,t,n,s){return ae(),ut(ql,{padding:""},{default:F(()=>[t.userData?(ae(),ie("div",ys,[d("h5",Vs,"Bienvenido, "+Ya(t.userData.nombreCompleto),1)])):(ae(),ie("div",Cs,Es)),d("div",Ss,[m(le,{label:"Crear cotizacion",onClick:s.openModal,color:"primary"},null,8,["onClick"])]),d("div",Ts,[m(le,{label:"Crear cotizacion Personalizada",onClick:s.openModalPersonalizado,color:"orange"},null,8,["onClick"])]),xs,m(ot,{modelValue:t.modalVisible,"onUpdate:modelValue":a[48]||(a[48]=l=>t.modalVisible=l),"content-css":"max-width: 600px;"},{default:F(()=>[m(qa,null,{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[aa(d("div",null,[m(qa,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("div",ws,[d("div",As,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[1]||(a[1]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[0]||(a[0]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",Ps,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",qs,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[3]||(a[3]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[2]||(a[2]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",Ds,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",_s,[m(de,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[4]||(a[4]=l=>t.selectedDeparture=l),s.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(de,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[5]||(a[5]=l=>t.destination=l),s.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:F(()=>[aa(d("div",Os," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",Is,[d("div",ks,[m(de,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[6]||(a[6]=l=>t.hotel=l),s.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Ms,[m(de,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":a[7]||(a[7]=l=>t.programName=l),label:"Nombre del Programa",options:t.matchingPrograms,"option-label":"nombrePrograma",class:"q-mb-md",error:!t.programName&&!t.autofillingProgramName,"error-message":"UPS... NO HAY TARIFA PARA ESTA TEMPORADA"},null,8,["modelValue","options","error"])])]),d("div",zs,[d("div",Ls,[m(de,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[8]||(a[8]=l=>t.selectedClient=l),s.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Fs,[m(de,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":a[9]||(a[9]=l=>t.noche=l),label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])])]),d("div",js,[d("div",Rs,[m(la,{modelValue:t.asesorExternoCheck,"onUpdate:modelValue":a[10]||(a[10]=l=>t.asesorExternoCheck=l),label:"\xBFAsesor Externo?",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Hs,[m(de,{outlined:"",modelValue:t.selectedUser,"onUpdate:modelValue":a[11]||(a[11]=l=>t.selectedUser=l),options:e.dropdownOptions,label:"Selecciona un usuario",class:"q-mb-md q-ml-md",disable:!t.asesorExternoCheck},null,8,["modelValue","options","disable"])])]),s.shouldHideAdditionalNightSection()?Me("",!0):(ae(),ie("div",Us,[d("div",Bs,[m(la,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[12]||(a[12]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Ys,[m(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[13]||(a[13]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",Ws,[d("div",Qs,[m(de,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[14]||(a[14]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",Xs,[m(de,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[15]||(a[15]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",Gs,[d("div",Js,[m(de,{outlined:"",modelValue:t.transferInOut,"onUpdate:modelValue":a[16]||(a[16]=l=>t.transferInOut=l),label:"\xBFNecesita agregar alg\xFAn valor correspondiente a 'transfer in-out'?",options:["S\xED","No"],class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),t.transferInOut==="S\xED"?(ae(),ie("div",Zs,[m(O,{outlined:"",modelValue:t.transferInOutValue,"onUpdate:modelValue":a[17]||(a[17]=l=>t.transferInOutValue=l),label:"Valor 'transfer in-out'",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])):Me("",!0)]),d("div",Ks,[d("div",$s,[m(de,{outlined:"",modelValue:t.numExtraValues,"onUpdate:modelValue":a[18]||(a[18]=l=>t.numExtraValues=l),label:"\xBFCu\xE1ntos valores extra necesita agregar (m\xE1ximo 2)?",options:[0,1,2],class:"q-mb-md q-ml-md"},null,8,["modelValue"])])]),t.numExtraValues>=1?(ae(),ie("div",ei,[d("div",ai,[m(O,{outlined:"",modelValue:t.extraValue1,"onUpdate:modelValue":a[19]||(a[19]=l=>t.extraValue1=l),label:"Valor extra 1",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Me("",!0),t.numExtraValues===2?(ae(),ie("div",ti,[d("div",oi,[m(O,{outlined:"",modelValue:t.extraValue2,"onUpdate:modelValue":a[20]||(a[20]=l=>t.extraValue2=l),label:"Valor extra 2",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Me("",!0),(ae(!0),ie(_a,null,Da(t.rooms,(l,u)=>(ae(),ie("div",{key:u},[m(qa,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("p",li,[d("span",ni," Habitaci\xF3n "+Ya(u+1),1)]),d("div",si,[d("div",ii,[m(de,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":f=>l.roomType=f,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",ri,[m(de,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":f=>l.adults=f,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",ci,[d("div",di,[m(la,{modelValue:t.hasChildren[u],"onUpdate:modelValue":[f=>t.hasChildren[u]=f,f=>s.handleChildrenChange(u)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",ui,[m(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":f=>l.numChildren=f,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[u]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(u)?(ae(),ie("div",mi,[d("div",hi,[fi,(ae(!0),ie(_a,null,Da(l.adultAges,(f,T)=>(ae(),ie("div",{key:"adult"+T+"-"+u,class:"col-6 col-sm-4 col-md-3"},[m(O,{filled:"",modelValue:l.adultAges[T],"onUpdate:modelValue":b=>l.adultAges[T]=b,label:"Adulto "+(T+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(la,{modelValue:l.isForeigner[T],"onUpdate:modelValue":b=>l.isForeigner[T]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[u]?(ae(),ie("div",gi,[pi,d("div",vi,[m(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":f=>l.childAge=f,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Me("",!0)])):Me("",!0),m(de,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":f=>l.accommodation=f,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),bi],512),[[za,t.activeTab==="tab1"]]),aa(d("div",null,[yi,d("div",Vi,[d("div",Ci,[d("div",Ni,[m(de,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[21]||(a[21]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Ei,[m(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[22]||(a[22]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Si,[d("div",Ti,[d("div",xi,[m(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[23]||(a[23]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",wi,[m(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[24]||(a[24]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ai,[d("div",Pi,[d("div",qi,[m(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[25]||(a[25]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Di,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[27]||(a[27]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[26]||(a[26]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",_i,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),Oi,d("div",Ii,[d("div",ki,[d("div",Mi,[m(de,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[28]||(a[28]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",zi,[m(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[29]||(a[29]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Li,[d("div",Fi,[d("div",ji,[m(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[30]||(a[30]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ri,[m(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[31]||(a[31]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Hi,[d("div",Ui,[d("div",Bi,[m(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[32]||(a[32]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Yi,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[34]||(a[34]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[33]||(a[33]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",Wi,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",Qi,[d("div",Xi,[m(la,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[35]||(a[35]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),ie("div",Gi,[Ji,d("div",Zi,[d("div",Ki,[m(de,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[36]||(a[36]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",$i,[m(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[37]||(a[37]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",er,[d("div",ar,[m(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[38]||(a[38]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",tr,[m(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[39]||(a[39]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",or,[d("div",lr,[m(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[40]||(a[40]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),nr,d("div",sr,[d("div",ir,[m(de,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[41]||(a[41]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",rr,[m(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[42]||(a[42]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",cr,[d("div",dr,[m(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[43]||(a[43]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",ur,[m(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[44]||(a[44]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",mr,[d("div",hr,[m(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[45]||(a[45]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Me("",!0),d("div",fr,[d("div",gr,[d("div",pr,[m(la,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[46]||(a[46]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),ie("div",vr,[m(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[47]||(a[47]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),ie(_a,null,Da(t.peopleArray,l=>(ae(),ie("div",{key:l},[m(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":u=>t.supplementValues[l-1]=u,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Me("",!0)],512),[[za,t.activeTab==="tab2"]]),d("div",br,[t.activeTab==="tab2"?(ae(),ie("div",yr,[m(le,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab2"?(ae(),ie("div",Vr,[m(le,{label:"Registrar",onClick:s.saveFormData,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),ie("div",Cr,[m(le,{label:"Cerrar",onClick:s.closeModal,color:"red"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab1"?(ae(),ie("div",Nr,[m(le,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Me("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ot,{modelValue:t.modalVisiblePersonalizado,"onUpdate:modelValue":a[101]||(a[101]=l=>t.modalVisiblePersonalizado=l),"content-css":"max-width: 600px;"},{default:F(()=>[m(qa,null,{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[aa(d("div",null,[m(qa,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("div",Er,[d("div",Sr,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[50]||(a[50]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[49]||(a[49]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",Tr,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",xr,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[52]||(a[52]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[51]||(a[51]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",wr,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",Ar,[m(de,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[53]||(a[53]=l=>t.selectedDeparture=l),s.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(de,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[54]||(a[54]=l=>t.destination=l),s.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:F(()=>[aa(d("div",Pr," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",qr,[d("div",Dr,[m(de,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[55]||(a[55]=l=>t.selectedClient=l),s.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",_r,[m(de,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":[a[56]||(a[56]=l=>t.programName=l),s.handleSelectionChangeTipo],label:"Nombre del Programa",options:t.programNameOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",Or,[d("div",Ir,[m(de,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":[a[57]||(a[57]=l=>t.noche=l),s.handleSelectionChangeTipo],label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",kr,[m(de,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[58]||(a[58]=l=>t.hotel=l),s.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),s.shouldHideAdditionalNightSection()?Me("",!0):(ae(),ie("div",Mr,[d("div",zr,[m(la,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[59]||(a[59]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Lr,[m(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[60]||(a[60]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",Fr,[d("div",jr,[m(de,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[61]||(a[61]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",Rr,[m(de,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[62]||(a[62]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(ae(!0),ie(_a,null,Da(t.rooms,(l,u)=>(ae(),ie("div",{key:u},[m(qa,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:F(()=>[m(ya,{class:"q-pa-md"},{default:F(()=>[d("p",Hr,[d("span",Ur," Habitaci\xF3n "+Ya(u+1),1)]),d("div",Br,[d("div",Yr,[m(de,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":f=>l.roomType=f,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",Wr,[m(de,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":f=>l.adults=f,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",Qr,[d("div",Xr,[m(la,{modelValue:t.hasChildren[u],"onUpdate:modelValue":[f=>t.hasChildren[u]=f,f=>s.handleChildrenChange(u)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",Gr,[m(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":f=>l.numChildren=f,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[u]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(u)?(ae(),ie("div",Jr,[d("div",Zr,[Kr,(ae(!0),ie(_a,null,Da(l.adultAges,(f,T)=>(ae(),ie("div",{key:"adult"+T+"-"+u,class:"col-6 col-sm-4 col-md-3"},[m(O,{filled:"",modelValue:l.adultAges[T],"onUpdate:modelValue":b=>l.adultAges[T]=b,label:"Adulto "+(T+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(la,{modelValue:l.isForeigner[T],"onUpdate:modelValue":b=>l.isForeigner[T]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[u]?(ae(),ie("div",$r,[ec,d("div",ac,[m(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":f=>l.childAge=f,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Me("",!0)])):Me("",!0),m(de,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":f=>l.accommodation=f,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"]),m(O,{filled:"",modelValue:l.valor,"onUpdate:modelValue":f=>l.valor=f,label:"Valor Persona",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),tc],512),[[za,t.activeTab==="tab1"]]),aa(d("div",null,[oc,d("div",lc,[d("div",nc,[d("div",sc,[m(de,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[63]||(a[63]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",ic,[m(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[64]||(a[64]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",rc,[d("div",cc,[d("div",dc,[m(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[65]||(a[65]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",uc,[m(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[66]||(a[66]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",mc,[d("div",hc,[d("div",fc,[m(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[67]||(a[67]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",gc,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[69]||(a[69]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[68]||(a[68]=l=>t.dateRange[0]=l)},{default:F(()=>[d("div",pc,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),vc,d("div",bc,[d("div",yc,[d("div",Vc,[m(de,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[70]||(a[70]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Cc,[m(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[71]||(a[71]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Nc,[d("div",Ec,[d("div",Sc,[m(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[72]||(a[72]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Tc,[m(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[73]||(a[73]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",xc,[d("div",wc,[d("div",Ac,[m(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[74]||(a[74]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Pc,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[76]||(a[76]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:F(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[m(Sa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[75]||(a[75]=l=>t.dateRange[1]=l)},{default:F(()=>[d("div",qc,[aa(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Va]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),Dc,d("div",_c,[d("div",Oc,[d("div",Ic,[m(O,{modelValue:t.Combus,"onUpdate:modelValue":a[77]||(a[77]=l=>t.Combus=l),label:"Combus",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",kc,[m(O,{modelValue:t.Tasa,"onUpdate:modelValue":a[78]||(a[78]=l=>t.Tasa=l),label:"Tasa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Mc,[d("div",zc,[d("div",Lc,[m(O,{modelValue:t.Iva,"onUpdate:modelValue":a[79]||(a[79]=l=>t.Iva=l),label:"Iva",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Fc,[m(O,{modelValue:t.Ta,"onUpdate:modelValue":a[80]||(a[80]=l=>t.Ta=l),label:"Ta",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",jc,[d("div",Rc,[d("div",Hc,[m(O,{modelValue:t.IvaTa,"onUpdate:modelValue":a[81]||(a[81]=l=>t.IvaTa=l),label:"IvaTa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Uc,[m(O,{modelValue:t.Otros,"onUpdate:modelValue":a[82]||(a[82]=l=>t.Otros=l),label:"Otros",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Bc,[d("div",Yc,[d("div",Wc,[m(O,{modelValue:t.precioTransp,"onUpdate:modelValue":a[83]||(a[83]=l=>t.precioTransp=l),label:"Precio Transporte",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])]),d("div",Qc,[d("div",Xc,[d("div",Gc,[m(O,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[85]||(a[85]=l=>t.textoIncluye=l),label:"Incluye",filled:"",type:"textarea",autogrow:""},{control:F(()=>[m(Bt,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[84]||(a[84]=l=>t.textoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Jc,[m(O,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[87]||(a[87]=l=>t.textoNoIncluye=l),label:"No Incluye",filled:"",type:"textarea",autogrow:""},{control:F(()=>[m(Bt,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[86]||(a[86]=l=>t.textoNoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Zc,[d("div",Kc,[m(la,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[88]||(a[88]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),ie("div",$c,[ed,d("div",ad,[d("div",td,[m(de,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[89]||(a[89]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",od,[m(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[90]||(a[90]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ld,[d("div",nd,[m(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[91]||(a[91]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",sd,[m(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[92]||(a[92]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",id,[d("div",rd,[m(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[93]||(a[93]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),cd,d("div",dd,[d("div",ud,[m(de,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[94]||(a[94]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",md,[m(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[95]||(a[95]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",hd,[d("div",fd,[m(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[96]||(a[96]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",gd,[m(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[97]||(a[97]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",pd,[d("div",vd,[m(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[98]||(a[98]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Me("",!0),d("div",bd,[d("div",yd,[d("div",Vd,[m(la,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[99]||(a[99]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),ie("div",Cd,[m(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[100]||(a[100]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),ie(_a,null,Da(t.peopleArray,l=>(ae(),ie("div",{key:l},[m(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":u=>t.supplementValues[l-1]=u,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Me("",!0)],512),[[za,t.activeTab==="tab2"]]),d("div",Nd,[t.activeTab==="tab2"?(ae(),ie("div",Ed,[m(le,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab1"?(ae(),ie("div",Sd,[m(le,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab2"?(ae(),ie("div",Td,[m(le,{label:"Registrar",onClick:s.saveFormDataPersonalizado,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),ie("div",xd,[m(le,{label:"Cerrar",onClick:s.closeModalPersonalizado,color:"red"},null,8,["onClick"])])):Me("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ot,{modelValue:t.mostrarModalPasajeros,"onUpdate:modelValue":a[106]||(a[106]=l=>t.mostrarModalPasajeros=l),persistent:""},{default:F(()=>[m(qa,{style:{"min-width":"500px"}},{default:F(()=>[m(ya,null,{default:F(()=>[wd]),_:1}),m(ya,{class:"q-pt-none"},{default:F(()=>[m(Dl,{onSubmit:s.procesarLiquidacion,class:"q-gutter-md"},{default:F(()=>[(ae(!0),ie(_a,null,Da(t.pasajeros,(l,u)=>(ae(),ie("div",{key:u,class:"q-pa-md q-mb-md bg-grey-2 rounded-borders"},[d("div",Ad,"Pasajero "+Ya(u+1),1),m(O,{modelValue:l.nombre,"onUpdate:modelValue":f=>l.nombre=f,label:"Nombre",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),d("div",Pd,[d("div",qd,[m(de,{modelValue:l.tipoDocumento,"onUpdate:modelValue":f=>l.tipoDocumento=f,options:t.opcionesTipoDocumento,label:"Tipo de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",Dd,[m(O,{modelValue:l.numeroDocumento,"onUpdate:modelValue":f=>l.numeroDocumento=f,label:"N\xFAmero de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]),m(O,{modelValue:l.fechaNacimiento,"onUpdate:modelValue":f=>l.fechaNacimiento=f,label:"Fecha de Nacimiento",filled:"",dense:"",type:"date",rules:[f=>f?new Date(f)>new Date?"La fecha no puede ser en el futuro":!0:"La fecha es requerida"],class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue","rules"])]))),128)),m(la,{modelValue:t.tieneTelefono,"onUpdate:modelValue":a[102]||(a[102]=l=>t.tieneTelefono=l),label:"\xBFTiene tel\xE9fono?"},null,8,["modelValue"]),t.tieneTelefono?(ae(),ut(O,{key:0,modelValue:t.telefono,"onUpdate:modelValue":a[103]||(a[103]=l=>t.telefono=l),label:"Tel\xE9fono",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Me("",!0),m(la,{modelValue:t.tieneNumero,"onUpdate:modelValue":a[104]||(a[104]=l=>t.tieneNumero=l),label:"\xBFTiene correo?"},null,8,["modelValue"]),t.tieneNumero?(ae(),ut(O,{key:1,modelValue:t.correoPasajero,"onUpdate:modelValue":a[105]||(a[105]=l=>t.correoPasajero=l),label:"Correo",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Me("",!0),m(_l,{align:"right",class:"bg-white text-teal"},{default:F(()=>[m(le,{flat:"",label:"Cancelar",onClick:s.cerrarModalPasajeros},null,8,["onClick"]),m(le,{type:"submit",label:"Guardar",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("div",null,[_d,d("div",Od,[d("div",Id,[m(de,{modelValue:t.selectedFilter,"onUpdate:modelValue":a[107]||(a[107]=l=>t.selectedFilter=l),options:["Todos","Cot","Cot-C"],label:"Filtrar por Tipo",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),d("div",kd,[m(de,{modelValue:t.filterStatus,"onUpdate:modelValue":a[108]||(a[108]=l=>t.filterStatus=l),options:t.statusOptions,label:"Filtrar por Status",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),Md,m(kl,{rows:s.filteredCotizacionData(),columns:t.columns,sortBy:t.sortBy,"onUpdate:sortBy":a[109]||(a[109]=l=>t.sortBy=l),sortOrder:t.sortOrder,"onUpdate:sortOrder":a[110]||(a[110]=l=>t.sortOrder=l)},{"body-cell-status":F(l=>[m(It,{props:l},{default:F(()=>[m(Ol,{color:s.getStatusColor(l.row.status),"text-color":"white",square:""},{default:F(()=>[Il(Ya(l.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-cotizacion":F(l=>[m(It,{props:l},{default:F(()=>[m(le,{onClick:u=>s.descargarCotizacionN(l.row),color:"primary",label:"Descargar Cotizaci\xF3n"},null,8,["onClick"]),zd,Ld,m(le,{onClick:u=>s.enviarCotizacion(l.row),color:"secondary",label:"Enviar Cotizaci\xF3n"},null,8,["onClick"]),Fd,jd,m(le,{onClick:u=>s.abrirModalPasajeros(l.row),color:"green",label:"Pasar a Liquidaci\xF3n"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","sortBy","sortOrder"]),d("input",Rd,null,512)])]),_:1})}var Zd=Al(bs,[["render",Hd]]);export{Zd as default};
