import{r as u,_ as b,j as I,a0 as w,ao as x,a5 as e,a7 as k,a3 as a,a6 as p,a2 as m,an as V,a4 as B,ac as P,ad as S,aE as i}from"./index.1406385c.js";import{Q as g}from"./QInput.878a113b.js";import{L as C}from"./LocalStorage.5de5bc67.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-key-composition.c6d8cd3c.js";import"./use-file-dom-props.ed057a1d.js";var E="/assets/presentacion.bb216f1d.mp4";const n=c=>(P("data-v-2cd01a53"),c=c(),S(),c),Q={class:"login-container"},T={class:"video-background"},U=n(()=>e("source",{src:E,type:"video/mp4"},null,-1)),D=n(()=>e("div",{class:"video-overlay"},null,-1)),j=n(()=>e("div",{class:"contenido"},null,-1)),L=n(()=>e("div",{class:"login-header"},[e("h2",{class:"login-title"},"Bienvenido"),e("p",{class:"login-subtitle"},"Ingresa tus credenciales para continuar")],-1)),M={class:"login-body"},O={class:"form-group"},R=n(()=>e("label",{for:"username"},"Usuario",-1)),A={class:"form-group"},H=n(()=>e("label",{for:"password"},"Contrase\xF1a",-1)),J={class:"login-btn-container"},$={__name:"IndexPage",setup(c){const r=u(""),d=u(""),f=b(),o=u(null),v=u(!0),h=async()=>{try{const s=await fetch("https://backmultidestinos.onrender.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:r.value,contrasena:d.value})});if(s.ok)if(await s.text()==="Inicio de sesi\xF3n exitoso"){i.create({message:"Iniciando sesi\xF3n...",color:"info",position:"top",timeout:1e3});const t=await fetch(`https://backmultidestinos.onrender.com/user/username/${r.value}`);if(t.ok){const _=await t.json();C.set("userData",_),console.log("Datos del usuario guardados:",_),f.push("/home")}else i.create({message:"Error al obtener datos del usuario",color:"negative"})}else i.create({message:"Usuario o contrase\xF1a incorrectos",color:"negative"});else i.create({message:"Usuario o contrase\xF1a incorrectos",color:"negative"})}catch(s){console.error("Error en la autenticaci\xF3n:",s),i.create({message:"Error en la autenticaci\xF3n",color:"negative"})}},y=()=>{o.value&&(o.value.muted=!o.value.muted,v.value=o.value.muted)};return I(()=>{o.value&&(o.value.muted=!0,o.value.play())}),(s,l)=>(w(),x("div",Q,[e("div",T,[e("video",{ref_key:"videoPlayer",ref:o,loop:""},[U,k(" Tu navegador no soporta videos en HTML5. ")],512),D]),e("button",{class:"video-toggle",onClick:y},[a(p,{name:v.value?"volume_off":"volume_up"},null,8,["name"])]),j,a(V,{class:"login-card"},{default:m(()=>[L,e("div",M,[e("div",O,[R,a(g,{outlined:"",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t),type:"text",id:"username",filled:"",clearable:"",autocomplete:"username",class:"custom-input"},{prepend:m(()=>[a(p,{name:"person"})]),_:1},8,["modelValue"])]),e("div",A,[H,a(g,{outlined:"",modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),type:s.isPwdVisible?"text":"password",id:"password",filled:"",clearable:"",autocomplete:"current-password",class:"custom-input"},{prepend:m(()=>[a(p,{name:"lock"})]),_:1},8,["modelValue","type"])]),e("div",J,[a(B,{class:"login-btn",color:"primary",label:"Iniciar Sesi\xF3n",onClick:h,disable:r.value.trim()===""||d.value.trim()===""},null,8,["disable"])])])]),_:1})]))}};var X=N($,[["__scopeId","data-v-2cd01a53"]]);export{X as default};
