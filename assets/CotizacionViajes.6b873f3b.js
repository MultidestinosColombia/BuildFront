import{a as H,aJ as xe,aK as $t,aL as al,c as Ha,aM as tl,E as eo,F as ao,aN as ol,r as N,aO as ll,w as ia,T as bt,h as q,aP as Ra,d as Ga,g as Ja,aQ as nl,af as le,aR as to,aS as oo,aT as sl,aA as ot,aU as lo,n as il,aV as no,aW as so,aX as rl,aY as cl,k as Ct,a6 as ga,z as io,O as dl,aZ as xt,a_ as ul,P as ml,a$ as wt,aq as hl,Q as fl,b0 as gl,b1 as pl,R as vl,b2 as bl,o as yt,b3 as At,B as Pt,b4 as yl,D as _t,v as qt,j as Vl,b5 as Cl,C as ro,an as co,y as It,a4 as Dt,a3 as Nl,b6 as Tl,b7 as Sl,b8 as El,b9 as xl,ba as wl,ad as Al,ab as Pl,ac as dt,a0 as ae,a1 as ut,a2 as R,as as _l,ax as mt,aw as se,aj as c,aa as Ya,a5 as m,au as qa,at as Ca,N as na,bb as za,av as O,bc as Na,az as ce,bd as sa,a7 as Le,aD as Ia,aE as Da,ay as ql,be as Il,aB as Ot,aG as Dl,a9 as Ol,aC as kl}from"./index.2349ab83.js";import{E as kt,n as Ta}from"./PDFButton.d20b2911.js";import{a as te}from"./axios.37d53be1.js";function Ml(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return e.hasOwnProperty(a)},clearCache(a){a!==void 0?delete e[a]:e={}}}}const Pa=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function zl(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Hl(Nt(e,a,o))}function Mt(e,a,o){return mo(Rl(e,a,o))}function Ll(e){return Fl(e)===0}function lt(e,a){return a<=6?31:a<=11||Ll(e)?30:29}function Fl(e){const a=Pa.length;let o=Pa[0],t,n,i,l,d;if(e<o||e>=Pa[a-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<a&&(t=Pa[d],n=t-o,!(e<t));d+=1)o=t;return l=e-o,n-l<6&&(l=l-n+Ie(n+4,33)*33),i=ra(ra(l+1,33)-1,4),i===-1&&(i=4),i}function uo(e,a){const o=Pa.length,t=e+621;let n=-14,i=Pa[0],l,d,g,E,b;if(e<i||e>=Pa[o-1])throw new Error("Invalid Jalaali year "+e);for(b=1;b<o&&(l=Pa[b],d=l-i,!(e<l));b+=1)n=n+Ie(d,33)*8+Ie(ra(d,33),4),i=l;E=e-i,n=n+Ie(E,33)*8+Ie(ra(E,33)+3,4),ra(d,33)===4&&d-E===4&&(n+=1);const A=Ie(t,4)-Ie((Ie(t,100)+1)*3,4)-150,X=20+n-A;return a||(d-E<6&&(E=E-d+Ie(d+4,33)*33),g=ra(ra(E+1,33)-1,4),g===-1&&(g=4)),{leap:g,gy:t,march:X}}function Rl(e,a,o){const t=uo(e,!0);return Nt(t.gy,3,t.march)+(a-1)*31-Ie(a,7)*(a-7)+o-1}function Hl(e){const a=mo(e).gy;let o=a-621,t,n,i;const l=uo(o,!1),d=Nt(a,3,l.march);if(i=e-d,i>=0){if(i<=185)return n=1+Ie(i,31),t=ra(i,31)+1,{jy:o,jm:n,jd:t};i-=186}else o-=1,i+=179,l.leap===1&&(i+=1);return n=7+Ie(i,30),t=ra(i,30)+1,{jy:o,jm:n,jd:t}}function Nt(e,a,o){let t=Ie((e+Ie(a-8,6)+100100)*1461,4)+Ie(153*ra(a+9,12)+2,5)+o-34840408;return t=t-Ie(Ie(e+100100+Ie(a-8,6),100)*3,4)+752,t}function mo(e){let a=4*e+139361631;a=a+Ie(Ie(4*e+183187720,146097)*3,4)*4-3908;const o=Ie(ra(a,1461),4)*5+308,t=Ie(ra(o,153),5)+1,n=ra(Ie(o,153),12)+1;return{gy:Ie(a,1461)-100100+Ie(8-n,6),gm:n,gd:t}}function Ie(e,a){return~~(e/a)}function ra(e,a){return e-~~(e/a)*a}const jl=["gregorian","persian"],Ul={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>jl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Bl=["update:modelValue"];function Sa(e){return e.year+"/"+xe(e.month)+"/"+xe(e.day)}function Yl(e,a){const o=H(()=>e.disable!==!0&&e.readonly!==!0),t=H(()=>o.value===!0?0:-1),n=H(()=>{const d=[];return e.color!==void 0&&d.push(`bg-${e.color}`),e.textColor!==void 0&&d.push(`text-${e.textColor}`),d.join(" ")});function i(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function l(d){const g=new Date,E=d===!0?null:0;if(e.calendar==="persian"){const b=zl(g);return{year:b.jy,month:b.jm,day:b.jd}}return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:E,minute:E,second:E,millisecond:E}}return{editable:o,tabindex:t,headerClass:n,getLocale:i,getCurrentDate:l}}const ho=864e5,Wl=36e5,Vt=6e4,fo="YYYY-MM-DDTHH:mm:ss.SSSZ",Ql=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Xl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,ht={};function Gl(e,a){const o="("+a.days.join("|")+")",t=e+o;if(ht[t]!==void 0)return ht[t];const n="("+a.daysShort.join("|")+")",i="("+a.months.join("|")+")",l="("+a.monthsShort.join("|")+")",d={};let g=0;const E=e.replace(Xl,A=>{switch(g++,A){case"YY":return d.YY=g,"(-?\\d{1,2})";case"YYYY":return d.YYYY=g,"(-?\\d{1,4})";case"M":return d.M=g,"(\\d{1,2})";case"MM":return d.M=g,"(\\d{2})";case"MMM":return d.MMM=g,l;case"MMMM":return d.MMMM=g,i;case"D":return d.D=g,"(\\d{1,2})";case"Do":return d.D=g++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return d.D=g,"(\\d{2})";case"H":return d.H=g,"(\\d{1,2})";case"HH":return d.H=g,"(\\d{2})";case"h":return d.h=g,"(\\d{1,2})";case"hh":return d.h=g,"(\\d{2})";case"m":return d.m=g,"(\\d{1,2})";case"mm":return d.m=g,"(\\d{2})";case"s":return d.s=g,"(\\d{1,2})";case"ss":return d.s=g,"(\\d{2})";case"S":return d.S=g,"(\\d{1})";case"SS":return d.S=g,"(\\d{2})";case"SSS":return d.S=g,"(\\d{3})";case"A":return d.A=g,"(AM|PM)";case"a":return d.a=g,"(am|pm)";case"aa":return d.aa=g,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return d.Z=g,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return d.ZZ=g,"(Z|[+-]\\d{2}\\d{2})";case"X":return d.X=g,"(-?\\d+)";case"x":return d.x=g,"(-?\\d{4,})";default:return g--,A[0]==="["&&(A=A.substring(1,A.length-1)),A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),b={map:d,regex:new RegExp("^"+E)};return ht[t]=b,b}function go(e,a){return e!==void 0?e:a!==void 0?a.date:al.date}function zt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.floor(t/60),i=t%60;return o+xe(n)+a+xe(i)}function Jl(e,a,o,t,n){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(i,n),e==null||e===""||typeof e!="string")return i;a===void 0&&(a=fo);const l=go(o,$t.props),d=l.months,g=l.monthsShort,{regex:E,map:b}=Gl(a,l),A=e.match(E);if(A===null)return i;let X="";if(b.X!==void 0||b.x!==void 0){const M=parseInt(A[b.X!==void 0?b.X:b.x],10);if(isNaN(M)===!0||M<0)return i;const v=new Date(M*(b.X!==void 0?1e3:1));i.year=v.getFullYear(),i.month=v.getMonth()+1,i.day=v.getDate(),i.hour=v.getHours(),i.minute=v.getMinutes(),i.second=v.getSeconds(),i.millisecond=v.getMilliseconds()}else{if(b.YYYY!==void 0)i.year=parseInt(A[b.YYYY],10);else if(b.YY!==void 0){const M=parseInt(A[b.YY],10);i.year=M<0?M:2e3+M}if(b.M!==void 0){if(i.month=parseInt(A[b.M],10),i.month<1||i.month>12)return i}else b.MMM!==void 0?i.month=g.indexOf(A[b.MMM])+1:b.MMMM!==void 0&&(i.month=d.indexOf(A[b.MMMM])+1);if(b.D!==void 0){if(i.day=parseInt(A[b.D],10),i.year===null||i.month===null||i.day<1)return i;const M=t!=="persian"?new Date(i.year,i.month,0).getDate():lt(i.year,i.month);if(i.day>M)return i}b.H!==void 0?i.hour=parseInt(A[b.H],10)%24:b.h!==void 0&&(i.hour=parseInt(A[b.h],10)%12,(b.A&&A[b.A]==="PM"||b.a&&A[b.a]==="pm"||b.aa&&A[b.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),b.m!==void 0&&(i.minute=parseInt(A[b.m],10)%60),b.s!==void 0&&(i.second=parseInt(A[b.s],10)%60),b.S!==void 0&&(i.millisecond=parseInt(A[b.S],10)*10**(3-A[b.S].length)),(b.Z!==void 0||b.ZZ!==void 0)&&(X=b.Z!==void 0?A[b.Z].replace(":",""):A[b.ZZ],i.timezoneOffset=(X[0]==="+"?-1:1)*(60*X.slice(1,3)+1*X.slice(3,5)))}return i.dateHash=xe(i.year,6)+"/"+xe(i.month)+"/"+xe(i.day),i.timeHash=xe(i.hour)+":"+xe(i.minute)+":"+xe(i.second)+X,i}function Lt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const t=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-t);const n=(a-o)/(ho*7);return 1+Math.floor(n)}function ya(e,a,o){const t=new Date(e),n=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":t[`${n}Month`](0);case"month":case"months":t[`${n}Date`](1);case"day":case"days":case"date":t[`${n}Hours`](0);case"hour":case"hours":t[`${n}Minutes`](0);case"minute":case"minutes":t[`${n}Seconds`](0);case"second":case"seconds":t[`${n}Milliseconds`](0)}return t}function tt(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Vt-(a.getTime()-a.getTimezoneOffset()*Vt))/o}function po(e,a,o="days"){const t=new Date(e),n=new Date(a);switch(o){case"years":case"year":return t.getFullYear()-n.getFullYear();case"months":case"month":return(t.getFullYear()-n.getFullYear())*12+t.getMonth()-n.getMonth();case"days":case"day":case"date":return tt(ya(t,"day"),ya(n,"day"),ho);case"hours":case"hour":return tt(ya(t,"hour"),ya(n,"hour"),Wl);case"minutes":case"minute":return tt(ya(t,"minute"),ya(n,"minute"),Vt);case"seconds":case"second":return tt(ya(t,"second"),ya(n,"second"),1e3)}}function Ft(e){return po(e,ya(e,"year"),"days")+1}function Rt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ht={YY(e,a,o){const t=this.YYYY(e,a,o)%100;return t>=0?xe(t):"-"+xe(Math.abs(t))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return xe(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Rt(this.Q(e))},D(e){return e.getDate()},Do(e){return Rt(e.getDate())},DD(e){return xe(e.getDate())},DDD(e){return Ft(e)},DDDD(e){return xe(Ft(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Lt(e)},ww(e){return xe(Lt(e))},H(e){return e.getHours()},HH(e){return xe(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return xe(this.h(e))},m(e){return e.getMinutes()},mm(e){return xe(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return xe(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return xe(Math.floor(e.getMilliseconds()/10))},SSS(e){return xe(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return zt(n,":")},ZZ(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return zt(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Zl(e,a,o,t,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;a===void 0&&(a=fo);const l=go(o,$t.props);return a.replace(Ql,(d,g)=>d in Ht?Ht[d](i,l,t,n):g===void 0?d:g.split("\\]").join("]"))}const Oa=20,Kl=["Calendar","Years","Months"],jt=e=>Kl.includes(e),ft=e=>/^-?[\d]+\/[0-1]\d$/.test(e),La=" \u2014 ";function Ea(e){return e.year+"/"+xe(e.month)}var xa=Ha({name:"QDate",props:{...Ul,...tl,...eo,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ft},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ft},navigationMaxYearMonth:{type:String,validator:ft},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:jt}},emits:[...Bl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),{$q:n}=t,i=ao(e,n),{getCache:l}=Ml(),{tabindex:d,headerClass:g,getLocale:E,getCurrentDate:b}=Yl(e,n);let A;const X=ol(e),M=nl(X),v=N(null),p=N(U()),h=N(E()),C=H(()=>U()),G=H(()=>E()),Z=H(()=>b()),S=N(I(p.value,h.value)),L=N(e.defaultView),we=n.lang.rtl===!0?"right":"left",de=N(we.value),he=N(we.value),Ve=S.value.year,Te=N(Ve-Ve%Oa-(Ve<0?Oa:0)),oe=N(null),fe=H(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(i.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),K=H(()=>e.color||"primary"),ne=H(()=>e.textColor||"white"),ke=H(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),De=H(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),D=H(()=>De.value.filter(r=>typeof r=="string").map(r=>_e(r,p.value,h.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),Se=H(()=>{const r=s=>_e(s,p.value,h.value);return De.value.filter(s=>ll(s)===!0&&s.from!==void 0&&s.to!==void 0).map(s=>({from:r(s.from),to:r(s.to)})).filter(s=>s.from.dateHash!==null&&s.to.dateHash!==null&&s.from.dateHash<s.to.dateHash)}),Ae=H(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const s=Mt(r.year,r.month,r.day);return new Date(s.gy,s.gm-1,s.gd)}),P=H(()=>e.calendar==="persian"?Sa:(r,s,f)=>Zl(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),s===void 0?p.value:s,f===void 0?h.value:f,r.year,r.timezoneOffset)),ue=H(()=>D.value.length+Se.value.reduce((r,s)=>r+1+po(Ae.value(s.to),Ae.value(s.from)),0)),Y=H(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(oe.value!==null){const f=oe.value.init,u=Ae.value(f);return h.value.daysShort[u.getDay()]+", "+h.value.monthsShort[f.month-1]+" "+f.day+La+"?"}if(ue.value===0)return La;if(ue.value>1)return`${ue.value} ${h.value.pluralDay}`;const r=D.value[0],s=Ae.value(r);return isNaN(s.valueOf())===!0?La:h.value.headerTitle!==void 0?h.value.headerTitle(s,r):h.value.daysShort[s.getDay()]+", "+h.value.monthsShort[r.month-1]+" "+r.day}),ie=H(()=>D.value.concat(Se.value.map(s=>s.from)).sort((s,f)=>s.year-f.year||s.month-f.month)[0]),Fe=H(()=>D.value.concat(Se.value.map(s=>s.to)).sort((s,f)=>f.year-s.year||f.month-s.month)[0]),_=H(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ue.value===0)return La;if(ue.value>1){const r=ie.value,s=Fe.value,f=h.value.monthsShort;return f[r.month-1]+(r.year!==s.year?" "+r.year+La+f[s.month-1]+" ":r.month!==s.month?La+f[s.month-1]:"")+" "+s.year}return D.value[0].year}),V=H(()=>{const r=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?r.reverse():r}),T=H(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):h.value.firstDayOfWeek),W=H(()=>{const r=h.value.daysShort,s=T.value;return s>0?r.slice(s,7).concat(r.slice(0,s)):r}),j=H(()=>{const r=S.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():lt(r.year,r.month)}),pe=H(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),B=H(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),me=H(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),He=H(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return B.value!==null&&B.value.year>=S.value.year&&(r.year.prev=!1,B.value.year===S.value.year&&B.value.month>=S.value.month&&(r.month.prev=!1)),me.value!==null&&me.value.year<=S.value.year&&(r.year.next=!1,me.value.year===S.value.year&&me.value.month<=S.value.month&&(r.month.next=!1)),r}),Ye=H(()=>{const r={};return D.value.forEach(s=>{const f=Ea(s);r[f]===void 0&&(r[f]=[]),r[f].push(s.day)}),r}),Me=H(()=>{const r={};return Se.value.forEach(s=>{const f=Ea(s.from),u=Ea(s.to);if(r[f]===void 0&&(r[f]=[]),r[f].push({from:s.from.day,to:f===u?s.to.day:void 0,range:s}),f<u){let y;const{year:w,month:x}=s.from,z=x<12?{year:w,month:x+1}:{year:w+1,month:1};for(;(y=Ea(z))<=u;)r[y]===void 0&&(r[y]=[]),r[y].push({from:void 0,to:y===u?s.to.day:void 0,range:s}),z.month++,z.month>12&&(z.year++,z.month=1)}}),r}),Xe=H(()=>{if(oe.value===null)return;const{init:r,initHash:s,final:f,finalHash:u}=oe.value,[y,w]=s<=u?[r,f]:[f,r],x=Ea(y),z=Ea(w);if(x!==Ee.value&&z!==Ee.value)return;const $={};return x===Ee.value?($.from=y.day,$.includeFrom=!0):$.from=1,z===Ee.value?($.to=w.day,$.includeTo=!0):$.to=j.value,$}),Ee=H(()=>Ea(S.value)),ea=H(()=>{const r={};if(e.options===void 0){for(let f=1;f<=j.value;f++)r[f]=!0;return r}const s=typeof e.options=="function"?e.options:f=>e.options.includes(f);for(let f=1;f<=j.value;f++){const u=Ee.value+"/"+xe(f);r[f]=s(u)}return r}),ta=H(()=>{const r={};if(e.events===void 0)for(let s=1;s<=j.value;s++)r[s]=!1;else{const s=typeof e.events=="function"?e.events:f=>e.events.includes(f);for(let f=1;f<=j.value;f++){const u=Ee.value+"/"+xe(f);r[f]=s(u)===!0&&pe.value(u)}}return r}),ve=H(()=>{let r,s;const{year:f,month:u}=S.value;if(e.calendar!=="persian")r=new Date(f,u-1,1),s=new Date(f,u-1,0).getDate();else{const y=Mt(f,u,1);r=new Date(y.gy,y.gm-1,y.gd);let w=u-1,x=f;w===0&&(w=12,x--),s=lt(x,w)}return{days:r.getDay()-T.value-1,endDay:s}}),je=H(()=>{const r=[],{days:s,endDay:f}=ve.value,u=s<0?s+7:s;if(u<6)for(let x=f-u;x<=f;x++)r.push({i:x,fill:!0});const y=r.length;for(let x=1;x<=j.value;x++){const z={i:x,event:ta.value[x],classes:[]};ea.value[x]===!0&&(z.in=!0,z.flat=!0),r.push(z)}if(Ye.value[Ee.value]!==void 0&&Ye.value[Ee.value].forEach(x=>{const z=y+x-1;Object.assign(r[z],{selected:!0,unelevated:!0,flat:!1,color:K.value,textColor:ne.value})}),Me.value[Ee.value]!==void 0&&Me.value[Ee.value].forEach(x=>{if(x.from!==void 0){const z=y+x.from-1,$=y+(x.to||j.value)-1;for(let Ge=z;Ge<=$;Ge++)Object.assign(r[Ge],{range:x.range,unelevated:!0,color:K.value,textColor:ne.value});Object.assign(r[z],{rangeFrom:!0,flat:!1}),x.to!==void 0&&Object.assign(r[$],{rangeTo:!0,flat:!1})}else if(x.to!==void 0){const z=y+x.to-1;for(let $=y;$<=z;$++)Object.assign(r[$],{range:x.range,unelevated:!0,color:K.value,textColor:ne.value});Object.assign(r[z],{flat:!1,rangeTo:!0})}else{const z=y+j.value-1;for(let $=y;$<=z;$++)Object.assign(r[$],{range:x.range,unelevated:!0,color:K.value,textColor:ne.value})}}),Xe.value!==void 0){const x=y+Xe.value.from-1,z=y+Xe.value.to-1;for(let $=x;$<=z;$++)r[$].color=K.value,r[$].editRange=!0;Xe.value.includeFrom===!0&&(r[x].editRangeFrom=!0),Xe.value.includeTo===!0&&(r[z].editRangeTo=!0)}S.value.year===Z.value.year&&S.value.month===Z.value.month&&(r[y+Z.value.day-1].today=!0);const w=r.length%7;if(w>0){const x=7-w;for(let z=1;z<=x;z++)r.push({i:z,fill:!0})}return r.forEach(x=>{let z="q-date__calendar-item ";x.fill===!0?z+="q-date__calendar-item--fill":(z+=`q-date__calendar-item--${x.in===!0?"in":"out"}`,x.range!==void 0&&(z+=` q-date__range${x.rangeTo===!0?"-to":x.rangeFrom===!0?"-from":""}`),x.editRange===!0&&(z+=` q-date__edit-range${x.editRangeFrom===!0?"-from":""}${x.editRangeTo===!0?"-to":""}`),(x.range!==void 0||x.editRange===!0)&&(z+=` text-${x.color}`)),x.classes=z}),r}),oa=H(()=>e.disable===!0?{"aria-disabled":"true"}:{});ia(()=>e.modelValue,r=>{if(A===r)A=0;else{const s=I(p.value,h.value);be(s.year,s.month,s)}}),ia(L,()=>{v.value!==null&&t.$el.contains(document.activeElement)===!0&&v.value.focus()}),ia(()=>S.value.year+"|"+S.value.month,()=>{o("navigation",{year:S.value.year,month:S.value.month})}),ia(C,r=>{qe(r,h.value,"mask"),p.value=r}),ia(G,r=>{qe(p.value,r,"locale"),h.value=r});function ze(){const{year:r,month:s,day:f}=Z.value,u={...S.value,year:r,month:s,day:f},y=Ye.value[Ea(u)];(y===void 0||y.includes(u.day)===!1)&&Pe(u),re(u.year,u.month)}function J(r){jt(r)===!0&&(L.value=r)}function ge(r,s){["month","year"].includes(r)&&(r==="month"?ca:ee)(s===!0?-1:1)}function re(r,s){L.value="Calendar",be(r,s)}function Q(r,s){if(e.range===!1||!r){oe.value=null;return}const f=Object.assign({...S.value},r),u=s!==void 0?Object.assign({...S.value},s):f;oe.value={init:f,initHash:Sa(f),final:u,finalHash:Sa(u)},re(f.year,f.month)}function U(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function _e(r,s,f){return Jl(r,s,f,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function I(r,s){const f=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(f.length===0)return F();const u=f[f.length-1],y=_e(u.from!==void 0?u.from:u,r,s);return y.dateHash===null?F():y}function F(){let r,s;if(e.defaultYearMonth!==void 0){const f=e.defaultYearMonth.split("/");r=parseInt(f[0],10),s=parseInt(f[1],10)}else{const f=Z.value!==void 0?Z.value:b();r=f.year,s=f.month}return{year:r,month:s,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+xe(s)+"/01"}}function ca(r){let s=S.value.year,f=Number(S.value.month)+r;f===13?(f=1,s++):f===0&&(f=12,s--),be(s,f),ke.value===!0&&Ce("month")}function ee(r){const s=Number(S.value.year)+r;be(s,S.value.month),ke.value===!0&&Ce("year")}function We(r){be(r,S.value.month),L.value=e.defaultView==="Years"?"Months":"Calendar",ke.value===!0&&Ce("year")}function la(r){be(S.value.year,r),L.value="Calendar",ke.value===!0&&Ce("month")}function Ue(r,s){const f=Ye.value[s];(f!==void 0&&f.includes(r.day)===!0?Be:Pe)(r)}function Ze(r){return{year:r.year,month:r.month,day:r.day}}function be(r,s,f){if(B.value!==null&&r<=B.value.year&&((s<B.value.month||r<B.value.year)&&(s=B.value.month),r=B.value.year),me.value!==null&&r>=me.value.year&&((s>me.value.month||r>me.value.year)&&(s=me.value.month),r=me.value.year),f!==void 0){const{hour:y,minute:w,second:x,millisecond:z,timezoneOffset:$,timeHash:Ge}=f;Object.assign(S.value,{hour:y,minute:w,second:x,millisecond:z,timezoneOffset:$,timeHash:Ge})}const u=r+"/"+xe(s)+"/01";u!==S.value.dateHash&&(de.value=S.value.dateHash<u==(n.lang.rtl!==!0)?"left":"right",r!==S.value.year&&(he.value=de.value),bt(()=>{Te.value=r-r%Oa-(r<0?Oa:0),Object.assign(S.value,{year:r,month:s,day:1,dateHash:u})}))}function Oe(r,s,f){const u=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;A=u;const{reason:y,details:w}=Re(s,f);o("update:modelValue",u,y,w)}function Ce(r){const s=D.value[0]!==void 0&&D.value[0].dateHash!==null?{...D.value[0]}:{...S.value};bt(()=>{s.year=S.value.year,s.month=S.value.month;const f=e.calendar!=="persian"?new Date(s.year,s.month,0).getDate():lt(s.year,s.month);s.day=Math.min(Math.max(1,s.day),f);const u=ye(s);A=u;const{details:y}=Re("",s);o("update:modelValue",u,r,y)})}function Re(r,s){return s.from!==void 0?{reason:`${r}-range`,details:{...Ze(s.target),from:Ze(s.from),to:Ze(s.to)}}:{reason:`${r}-day`,details:Ze(s)}}function ye(r,s,f){return r.from!==void 0?{from:P.value(r.from,s,f),to:P.value(r.to,s,f)}:P.value(r,s,f)}function Pe(r){let s;if(e.multiple===!0)if(r.from!==void 0){const f=Sa(r.from),u=Sa(r.to),y=D.value.filter(x=>x.dateHash<f||x.dateHash>u),w=Se.value.filter(({from:x,to:z})=>z.dateHash<f||x.dateHash>u);s=y.concat(w).concat(r).map(x=>ye(x))}else{const f=De.value.slice();f.push(ye(r)),s=f}else s=ye(r);Oe(s,"add",r)}function Be(r){if(e.noUnset===!0)return;let s=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const f=ye(r);r.from!==void 0?s=e.modelValue.filter(u=>u.from!==void 0?u.from!==f.from&&u.to!==f.to:!0):s=e.modelValue.filter(u=>u!==f),s.length===0&&(s=null)}Oe(s,"remove",r)}function qe(r,s,f){const u=D.value.concat(Se.value).map(y=>ye(y,r,s)).filter(y=>y.from!==void 0?y.from.dateHash!==null&&y.to.dateHash!==null:y.dateHash!==null);o("update:modelValue",(e.multiple===!0?u:u[0])||null,f)}function Qe(){if(e.minimal!==!0)return q("div",{class:"q-date__header "+g.value},[q("div",{class:"relative-position"},[q(Ra,{name:"q-transition--fade"},()=>q("div",{key:"h-yr-"+_.value,class:"q-date__header-subtitle q-date__header-link "+(L.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...l("vY",{onClick(){L.value="Years"},onKeyup(r){r.keyCode===13&&(L.value="Years")}})},[_.value]))]),q("div",{class:"q-date__header-title relative-position flex no-wrap"},[q("div",{class:"relative-position col"},[q(Ra,{name:"q-transition--fade"},()=>q("div",{key:"h-sub"+Y.value,class:"q-date__header-title-label q-date__header-link "+(L.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...l("vC",{onClick(){L.value="Calendar"},onKeyup(r){r.keyCode===13&&(L.value="Calendar")}})},[Y.value]))]),e.todayBtn===!0?q(le,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:d.value,onClick:ze}):null])])}function Ke({label:r,type:s,key:f,dir:u,goTo:y,boundaries:w,cls:x}){return[q("div",{class:"row items-center q-date__arrow"},[q(le,{round:!0,dense:!0,size:"sm",flat:!0,icon:V.value[0],tabindex:d.value,disable:w.prev===!1,...l("go-#"+s,{onClick(){y(-1)}})})]),q("div",{class:"relative-position overflow-hidden flex flex-center"+x},[q(Ra,{name:"q-transition--jump-"+u},()=>q("div",{key:f},[q(le,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:d.value,...l("view#"+s,{onClick:()=>{L.value=s}})})]))]),q("div",{class:"row items-center q-date__arrow"},[q(le,{round:!0,dense:!0,size:"sm",flat:!0,icon:V.value[1],tabindex:d.value,disable:w.next===!1,...l("go+#"+s,{onClick(){y(1)}})})])]}const ma={Calendar:()=>[q("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[q("div",{class:"q-date__navigation row items-center no-wrap"},Ke({label:h.value.months[S.value.month-1],type:"Months",key:S.value.month,dir:de.value,goTo:ca,boundaries:He.value.month,cls:" col"}).concat(Ke({label:S.value.year,type:"Years",key:S.value.year,dir:he.value,goTo:ee,boundaries:He.value.year,cls:""}))),q("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},W.value.map(r=>q("div",{class:"q-date__calendar-item"},[q("div",r)]))),q("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[q(Ra,{name:"q-transition--slide-"+de.value},()=>q("div",{key:Ee.value,class:"q-date__calendar-days fit"},je.value.map(r=>q("div",{class:r.classes},[r.in===!0?q(le,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:d.value,...l("day#"+r.i,{onClick:()=>{da(r.i)},onMouseover:()=>{ha(r.i)}})},r.event!==!1?()=>q("div",{class:"q-date__event bg-"+r.event}):null):q("div",""+r.i)]))))])])],Months(){const r=S.value.year===Z.value.year,s=u=>B.value!==null&&S.value.year===B.value.year&&B.value.month>u||me.value!==null&&S.value.year===me.value.year&&me.value.month<u,f=h.value.monthsShort.map((u,y)=>{const w=S.value.month===y+1;return q("div",{class:"q-date__months-item flex flex-center"},[q(le,{class:r===!0&&Z.value.month===y+1?"q-date__today":null,flat:w!==!0,label:u,unelevated:w,color:w===!0?K.value:null,textColor:w===!0?ne.value:null,tabindex:d.value,disable:s(y+1),...l("month#"+y,{onClick:()=>{la(y+1)}})})])});return e.yearsInMonthView===!0&&f.unshift(q("div",{class:"row no-wrap full-width"},[Ke({label:S.value.year,type:"Years",key:S.value.year,dir:he.value,goTo:ee,boundaries:He.value.year,cls:" col"})])),q("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},f)},Years(){const r=Te.value,s=r+Oa,f=[],u=y=>B.value!==null&&B.value.year>y||me.value!==null&&me.value.year<y;for(let y=r;y<=s;y++){const w=S.value.year===y;f.push(q("div",{class:"q-date__years-item flex flex-center"},[q(le,{key:"yr"+y,class:Z.value.year===y?"q-date__today":null,flat:!w,label:y,dense:!0,unelevated:w,color:w===!0?K.value:null,textColor:w===!0?ne.value:null,tabindex:d.value,disable:u(y),...l("yr#"+y,{onClick:()=>{We(y)}})})]))}return q("div",{class:"q-date__view q-date__years flex flex-center"},[q("div",{class:"col-auto"},[q(le,{round:!0,dense:!0,flat:!0,icon:V.value[0],tabindex:d.value,disable:u(r),...l("y-",{onClick:()=>{Te.value-=Oa}})})]),q("div",{class:"q-date__years-content col self-stretch row items-center"},f),q("div",{class:"col-auto"},[q(le,{round:!0,dense:!0,flat:!0,icon:V.value[1],tabindex:d.value,disable:u(s),...l("y+",{onClick:()=>{Te.value+=Oa}})})])])}};function da(r){const s={...S.value,day:r};if(e.range===!1){Ue(s,Ee.value);return}if(oe.value===null){const f=je.value.find(y=>y.fill!==!0&&y.i===r);if(e.noUnset!==!0&&f.range!==void 0){Be({target:s,from:f.range.from,to:f.range.to});return}if(f.selected===!0){Be(s);return}const u=Sa(s);oe.value={init:s,initHash:u,final:s,finalHash:u},o("rangeStart",Ze(s))}else{const f=oe.value.initHash,u=Sa(s),y=f<=u?{from:oe.value.init,to:s}:{from:s,to:oe.value.init};oe.value=null,Pe(f===u?s:{target:s,...y}),o("rangeEnd",{from:Ze(y.from),to:Ze(y.to)})}}function ha(r){if(oe.value!==null){const s={...S.value,day:r};Object.assign(oe.value,{final:s,finalHash:Sa(s)})}}return Object.assign(t,{setToday:ze,setView:J,offsetCalendar:ge,setCalendarTo:re,setEditingRange:Q}),()=>{const r=[q("div",{class:"q-date__content col relative-position"},[q(Ra,{name:"q-transition--fade"},ma[L.value])])],s=Ga(a.default);return s!==void 0&&r.push(q("div",{class:"q-date__actions"},s)),e.name!==void 0&&e.disable!==!0&&M(r,"push"),q("div",{class:fe.value,...oa.value},[Qe(),q("div",{ref:v,class:"q-date__main col column",tabindex:-1},r)])}}}),wa=Ha({name:"QPopupProxy",props:{...to,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:t}){const{proxy:n}=Ja(),{$q:i}=n,l=N(!1),d=N(null),g=H(()=>parseInt(e.breakpoint,10)),{canShow:E}=oo({showing:l});function b(){return i.screen.width<g.value||i.screen.height<g.value?"dialog":"menu"}const A=N(b()),X=H(()=>A.value==="menu"?{maxHeight:"99vh"}:{});ia(()=>b(),p=>{l.value!==!0&&(A.value=p)});function M(p){l.value=!0,o("show",p)}function v(p){l.value=!1,A.value=b(),o("hide",p)}return Object.assign(n,{show(p){E(p)===!0&&d.value.show(p)},hide(p){d.value.hide(p)},toggle(p){d.value.toggle(p)}}),sl(n,"currentComponent",()=>({type:A.value,ref:d.value})),()=>{const p={ref:d,...X.value,...t,onShow:M,onHide:v};let h;return A.value==="dialog"?h=ot:(h=lo,Object.assign(p,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),q(h,p,a.default)}}});function vo(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=t.display;return n==="block"||n==="table"?e:vo(e.parentNode)}function gt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function bo(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let t=0;a.count!==0&&t<e.childNodes.length;t++)o=bo(e.childNodes[t],a,o);return o}const $l=/^https?:\/\//;class en{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(gt(a.anchorNode,this.el,!0)&&gt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!==null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?vo(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),t=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),t.removeAllRanges(),t.addRange(o)):(t.selectAllChildren(this.el),t.collapseToEnd())}savePosition(){let a=-1,o;const t=document.getSelection(),n=this.el.parentNode;if(t.focusNode&&gt(t.focusNode,n))for(o=t.focusNode,a=t.focusOffset;o&&o!==n;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),t=bo(this.el,{count:this.savedPos});t&&(t.collapse(!1),o.removeAllRanges(),o.addRange(t))}}hasParent(a,o){const t=o?this.parent:this.blockParent;return t!==null?t.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,t=this.parent){return t===null?!1:a.includes(t.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,t.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const t=document.queryCommandValue(a);return t===`"${o}"`||t===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const n=document.queryCommandState(a);return o!==void 0?n===o:n}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,t=il){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){t();const n=window.open();n.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),n.print(),n.close();return}else if(a==="link"){const n=this.getParentAttribute("href");if(n===null){const i=this.selectWord(this.selection),l=i?i.toString():"";if(!l.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=$l.test(l)?l:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(i.getRangeAt(0))}else this.eVm.editLinkUrl.value=n,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),t();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),t();return}document.execCommand(a,!1,o),t()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const t=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const n=a.focusNode,i=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",t[0],"character"),a.modify("move",t[1],"word"),a.extend(n,i),a.modify("extend",t[1],"character"),a.modify("extend",t[0],"word"),a}}var an=Ha({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const o=H(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>q("div",{class:o.value},Ga(a.default))}});const tn=Object.keys(no),on=e=>tn.reduce((a,o)=>{const t=e[o];return t!==void 0&&(a[o]=t),a},{});var ln=Ha({name:"QBtnDropdown",props:{...no,...so,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),n=N(e.modelValue),i=N(null),l=rl(),d=H(()=>{const S={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l.value,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(S["aria-disabled"]="true"),S}),g=H(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),E=H(()=>cl(e)),b=H(()=>on(e));ia(()=>e.modelValue,S=>{i.value!==null&&i.value[S?"show":"hide"]()}),ia(()=>e.split,Z);function A(S){n.value=!0,o("beforeShow",S)}function X(S){o("show",S),o("update:modelValue",!0)}function M(S){n.value=!1,o("beforeHide",S)}function v(S){o("hide",S),o("update:modelValue",!1)}function p(S){o("click",S)}function h(S){io(S),Z(),o("click",S)}function C(S){i.value!==null&&i.value.toggle(S)}function G(S){i.value!==null&&i.value.show(S)}function Z(S){i.value!==null&&i.value.hide(S)}return Object.assign(t,{show:G,hide:Z,toggle:C}),Ct(()=>{e.modelValue===!0&&G()}),()=>{const S=[q(ga,{class:g.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&S.push(q(lo,{ref:i,id:l.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:A,onShow:X,onBeforeHide:M,onHide:v},a.default)),e.split===!1?q(le,{class:"q-btn-dropdown q-btn-dropdown--simple",...b.value,...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:p},{default:()=>Ga(a.label,[]).concat(S),loading:a.loading}):q(an,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...E.value,glossy:e.glossy,stretch:e.stretch},()=>[q(le,{class:"q-btn-dropdown--current",...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:a.label,loading:a.loading}),q(le,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...d.value,...E.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>S)])}}}),nn=Ha({name:"QTooltip",inheritAttrs:!1,props:{...to,...dl,...so,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:xt},self:{type:String,default:"top middle",validator:xt},offset:{type:Array,default:()=>[14,14],validator:ul},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ml],setup(e,{slots:a,emit:o,attrs:t}){let n,i;const l=Ja(),{proxy:{$q:d}}=l,g=N(null),E=N(!1),b=H(()=>wt(e.anchor,d.lang.rtl)),A=H(()=>wt(e.self,d.lang.rtl)),X=H(()=>e.persistent!==!0),{registerTick:M,removeTick:v}=hl(),{registerTimeout:p}=fl(),{transitionProps:h,transitionStyle:C}=gl(e),{localScrollTarget:G,changeScrollEvent:Z,unconfigureScrollTarget:S}=pl(e,P),{anchorEl:L,canShow:we,anchorEvents:de}=oo({showing:E,configureAnchorEl:Ae}),{show:he,hide:Ve}=vl({showing:E,canShow:we,handleShow:K,handleHide:ne,hideOnRouteChange:X,processOnMount:!0});Object.assign(de,{delayShow:D,delayHide:Se});const{showPortal:Te,hidePortal:oe,renderPortal:fe}=bl(l,g,Y,"tooltip");if(d.platform.is.mobile===!0){const ie={anchorEl:L,innerRef:g,onClickOutside(_){return Ve(_),_.target.classList.contains("q-dialog__backdrop")&&ro(_),!0}},Fe=H(()=>e.modelValue===null&&e.persistent!==!0&&E.value===!0);ia(Fe,_=>{(_===!0?Cl:At)(ie)}),yt(()=>{At(ie)})}function K(ie){Te(),M(()=>{i=new MutationObserver(()=>De()),i.observe(g.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),De(),P()}),n===void 0&&(n=ia(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,De)),p(()=>{Te(!0),o("show",ie)},e.transitionDuration)}function ne(ie){v(),oe(),ke(),p(()=>{oe(!0),o("hide",ie)},e.transitionDuration)}function ke(){i!==void 0&&(i.disconnect(),i=void 0),n!==void 0&&(n(),n=void 0),S(),Pt(de,"tooltipTemp")}function De(){yl({targetEl:g.value,offset:e.offset,anchorEl:L.value,anchorOrigin:b.value,selfOrigin:A.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(ie){if(d.platform.is.mobile===!0){_t(),document.body.classList.add("non-selectable");const Fe=L.value,_=["touchmove","touchcancel","touchend","click"].map(V=>[Fe,V,"delayHide","passiveCapture"]);qt(de,"tooltipTemp",_)}p(()=>{he(ie)},e.delay)}function Se(ie){d.platform.is.mobile===!0&&(Pt(de,"tooltipTemp"),_t(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{Ve(ie)},e.hideDelay)}function Ae(){if(e.noParentEvent===!0||L.value===null)return;const ie=d.platform.is.mobile===!0?[[L.value,"touchstart","delayShow","passive"]]:[[L.value,"mouseenter","delayShow","passive"],[L.value,"mouseleave","delayHide","passive"]];qt(de,"anchor",ie)}function P(){if(L.value!==null||e.scrollTarget!==void 0){G.value=Vl(L.value,e.scrollTarget);const ie=e.noParentEvent===!0?De:Ve;Z(G.value,ie)}}function ue(){return E.value===!0?q("div",{...t,ref:g,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,C.value],role:"tooltip"},Ga(a.default)):null}function Y(){return q(Ra,h.value,ue)}return yt(ke),Object.assign(l.proxy,{updatePosition:De}),fe}});function yo(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function Tt(e){return q("div",{class:"q-editor__toolbar-group"},e)}function Vo(e,a,o,t=!1){const n=t||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),i=[];if(a.tip&&e.$q.platform.is.desktop){const l=a.key?q("div",[q("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;i.push(q(nn,{delay:1e3},()=>[q("div",{innerHTML:a.tip}),l]))}return q(le,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:n?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:n&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(l){o&&o(),yo(l,a,e)}},()=>i)}function sn(e,a){const o=a.list==="only-icons";let t=a.label,n=a.icon!==null?a.icon:void 0,i,l;function d(){E.component.proxy.hide()}if(o)l=a.options.map(b=>{const A=b.type===void 0?e.caret.is(b.cmd,b.param):!1;return A&&(t=b.tip,n=b.icon!==null?b.icon:void 0),Vo(e,b,d,A)}),i=e.toolbarBackgroundClass.value,l=[Tt(l)];else{const b=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,A=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,X=a.list==="no-icons";l=a.options.map(M=>{const v=M.disable?M.disable(e):!1,p=M.type===void 0?e.caret.is(M.cmd,M.param):!1;p&&(t=M.tip,n=M.icon!==null?M.icon:void 0);const h=M.htmlTip;return q(Nl,{active:p,activeClass:b,clickable:!0,disable:v,dense:!0,onClick(C){d(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),yo(C,M,e)}},()=>[X===!0?null:q(Dt,{class:p?b:A,side:!0},()=>q(ga,{name:M.icon!==null?M.icon:void 0})),q(Dt,h?()=>q("div",{class:"text-no-wrap",innerHTML:M.htmlTip}):M.tip?()=>q("div",{class:"text-no-wrap"},M.tip):void 0)])}),i=[e.toolbarBackgroundClass.value,A]}const g=a.highlight&&t!==a.label,E=q(ln,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:g?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:g&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:t,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:n,contentClass:i,onShow:b=>e.emit("dropdownShow",b),onHide:b=>e.emit("dropdownHide",b),onBeforeShow:b=>e.emit("dropdownBeforeShow",b),onBeforeHide:b=>e.emit("dropdownBeforeHide",b)},()=>l);return E}function rn(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>Tt(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?Ga(e.slots[o.slot]):o.type==="dropdown"?sn(e,o):Vo(e,o))))}function cn(e,a,o,t={}){const n=Object.keys(t);if(n.length===0)return{};const i={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return n.forEach(l=>{const d=t[l];i[l]={cmd:"fontName",param:d,icon:o,tip:d,htmlTip:`<font face="${d}">${d}</font>`}}),i}function dn(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const t=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[q("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),q("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:n=>{io(n),o=n.target.value},onKeydown:n=>{if(co(n)!==!0)switch(n.keyCode){case 13:return It(n),t();case 27:It(n),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Tt([q(le,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),q(le,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:t})])]}}const un=Object.prototype.toString,pt=Object.prototype.hasOwnProperty,mn=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Ut(e){if(e!==Object(e)||mn.has(un.call(e))===!0||e.constructor&&pt.call(e,"constructor")===!1&&pt.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||pt.call(e,a)}function Co(){let e,a,o,t,n,i,l=arguments[0]||{},d=1,g=!1;const E=arguments.length;for(typeof l=="boolean"&&(g=l,l=arguments[1]||{},d=2),Object(l)!==l&&typeof l!="function"&&(l={}),E===d&&(l=this,d--);d<E;d++)if((e=arguments[d])!==null)for(a in e)o=l[a],t=e[a],l!==t&&(g===!0&&t&&((n=Array.isArray(t))||Ut(t)===!0)?(n===!0?i=Array.isArray(o)===!0?o:[]:i=Ut(o)===!0?o:{},l[a]=Co(g,i,t)):t!==void 0&&(l[a]=t));return l}var Bt=Ha({name:"QEditor",props:{...eo,...Tl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Sl,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:t}=Ja(),{$q:n}=t,i=ao(e,n),{inFullscreen:l,toggleFullscreen:d}=El(),g=xl(),E=N(null),b=N(null),A=N(null),X=N(!1),M=H(()=>!e.readonly&&!e.disable);let v,p,h=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),v=window.getComputedStyle(document.body).fontFamily;const C=H(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),G=H(()=>{const V=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:V,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!M.value,size:"sm"}}),Z=H(()=>{const V=n.lang.editor,T=n.iconSet.editor;return{bold:{cmd:"bold",icon:T.bold,tip:V.bold,key:66},italic:{cmd:"italic",icon:T.italic,tip:V.italic,key:73},strike:{cmd:"strikeThrough",icon:T.strikethrough,tip:V.strikethrough,key:83},underline:{cmd:"underline",icon:T.underline,tip:V.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:T.unorderedList,tip:V.unorderedList},ordered:{cmd:"insertOrderedList",icon:T.orderedList,tip:V.orderedList},subscript:{cmd:"subscript",icon:T.subscript,tip:V.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:T.superscript,tip:V.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:W=>W.caret&&!W.caret.can("link"),icon:T.hyperlink,tip:V.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:T.toggleFullscreen,tip:V.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:T.viewSource,tip:V.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:T.quote,tip:V.quote,key:81},left:{cmd:"justifyLeft",icon:T.left,tip:V.left},center:{cmd:"justifyCenter",icon:T.center,tip:V.center},right:{cmd:"justifyRight",icon:T.right,tip:V.right},justify:{cmd:"justifyFull",icon:T.justify,tip:V.justify},print:{type:"no-state",cmd:"print",icon:T.print,tip:V.print,key:80},outdent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("outdent"),cmd:"outdent",icon:T.outdent,tip:V.outdent},indent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("indent"),cmd:"indent",icon:T.indent,tip:V.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:T.removeFormat,tip:V.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:T.hr,tip:V.hr},undo:{type:"no-state",cmd:"undo",icon:T.undo,tip:V.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:T.redo,tip:V.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:T.heading1||T.heading,tip:V.heading1,htmlTip:`<h1 class="q-ma-none">${V.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:T.heading2||T.heading,tip:V.heading2,htmlTip:`<h2 class="q-ma-none">${V.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:T.heading3||T.heading,tip:V.heading3,htmlTip:`<h3 class="q-ma-none">${V.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:T.heading4||T.heading,tip:V.heading4,htmlTip:`<h4 class="q-ma-none">${V.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:T.heading5||T.heading,tip:V.heading5,htmlTip:`<h5 class="q-ma-none">${V.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:T.heading6||T.heading,tip:V.heading6,htmlTip:`<h6 class="q-ma-none">${V.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:T.heading,tip:V.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:T.code,htmlTip:`<code>${V.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:T.size1||T.size,tip:V.size1,htmlTip:`<font size="1">${V.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:T.size2||T.size,tip:V.size2,htmlTip:`<font size="2">${V.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:T.size3||T.size,tip:V.size3,htmlTip:`<font size="3">${V.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:T.size4||T.size,tip:V.size4,htmlTip:`<font size="4">${V.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:T.size5||T.size,tip:V.size5,htmlTip:`<font size="5">${V.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:T.size6||T.size,tip:V.size6,htmlTip:`<font size="6">${V.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:T.size7||T.size,tip:V.size7,htmlTip:`<font size="7">${V.size7}</font>`}}}),S=H(()=>{const V=e.definitions||{},T=e.definitions||e.fonts?Co(!0,{},Z.value,V,cn(v,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):Z.value;return e.toolbar.map(W=>W.map(j=>{if(j.options)return{type:"dropdown",icon:j.icon,label:j.label,size:"sm",dense:!0,fixedLabel:j.fixedLabel,fixedIcon:j.fixedIcon,highlight:j.highlight,list:j.list,options:j.options.map(B=>T[B])};const pe=T[j];return pe?pe.type==="no-state"||V[j]&&(pe.cmd===void 0||Z.value[pe.cmd]&&Z.value[pe.cmd].type==="no-state")?pe:Object.assign({type:"toggle"},pe):{type:"slot",slot:j}}))}),L={$q:n,props:e,slots:a,emit:o,inFullscreen:l,toggleFullscreen:d,runCmd:Y,isViewingSource:X,editLinkUrl:A,toolbarBackgroundClass:C,buttonProps:G,contentRef:b,buttons:S,setContent:ue};ia(()=>e.modelValue,V=>{h!==V&&(h=V,ue(V,!0))}),ia(A,V=>{o(`link${V?"Show":"Hide"}`)});const we=H(()=>e.toolbar&&e.toolbar.length!==0),de=H(()=>{const V={},T=W=>{W.key&&(V[W.key]={cmd:W.cmd,param:W.param})};return S.value.forEach(W=>{W.forEach(j=>{j.options?j.options.forEach(T):T(j)})}),V}),he=H(()=>l.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Ve=H(()=>`q-editor q-editor--${X.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(l.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(i.value===!0?" q-editor--dark q-dark":"")),Te=H(()=>[e.contentClass,"q-editor__content",{col:l.value,"overflow-auto":l.value||e.maxHeight}]),oe=H(()=>e.disable===!0?{"aria-disabled":"true"}:{});function fe(){if(b.value!==null){const V=`inner${X.value===!0?"Text":"HTML"}`,T=b.value[V];T!==e.modelValue&&(h=T,o("update:modelValue",T))}}function K(V){if(o("keydown",V),V.ctrlKey!==!0||co(V)===!0){ie();return}const T=V.keyCode,W=de.value[T];if(W!==void 0){const{cmd:j,param:pe}=W;ro(V),Y(j,pe,!1)}}function ne(V){ie(),o("click",V)}function ke(V){if(b.value!==null){const{scrollTop:T,scrollHeight:W}=b.value;p=W-T}L.caret.save(),o("blur",V)}function De(V){bt(()=>{b.value!==null&&p!==void 0&&(b.value.scrollTop=b.value.scrollHeight-p)}),o("focus",V)}function D(V){const T=E.value;if(T!==null&&T.contains(V.target)===!0&&(V.relatedTarget===null||T.contains(V.relatedTarget)!==!0)){const W=`inner${X.value===!0?"Text":"HTML"}`;L.caret.restorePosition(b.value[W].length),ie()}}function Se(V){const T=E.value;T!==null&&T.contains(V.target)===!0&&(V.relatedTarget===null||T.contains(V.relatedTarget)!==!0)&&(L.caret.savePosition(),ie())}function Ae(){p=void 0}function P(V){L.caret.save()}function ue(V,T){if(b.value!==null){T===!0&&L.caret.savePosition();const W=`inner${X.value===!0?"Text":"HTML"}`;b.value[W]=V,T===!0&&(L.caret.restorePosition(b.value[W].length),ie())}}function Y(V,T,W=!0){Fe(),L.caret.restore(),L.caret.apply(V,T,()=>{Fe(),L.caret.save(),W&&ie()})}function ie(){setTimeout(()=>{A.value=null,t.$forceUpdate()},1)}function Fe(){wl(()=>{b.value!==null&&b.value.focus({preventScroll:!0})})}function _(){return b.value}return Ct(()=>{L.caret=t.caret=new en(b.value,L),ue(e.modelValue),ie(),document.addEventListener("selectionchange",P)}),yt(()=>{document.removeEventListener("selectionchange",P)}),Object.assign(t,{runCmd:Y,refreshToolbar:ie,focus:Fe,getContentEl:_}),()=>{let V;if(we.value){const T=[q("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+C.value},rn(L))];A.value!==null&&T.push(q("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+C.value},dn(L))),V=q("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},T)}return q("div",{ref:E,class:Ve.value,style:{height:l.value===!0?"100%":null},...oe.value,onFocusin:D,onFocusout:Se},[V,q("div",{ref:b,style:he.value,class:Te.value,contenteditable:M.value,placeholder:e.placeholder,...g.listeners.value,onInput:fe,onKeydown:K,onClick:ne,onBlur:ke,onFocus:De,onMousedown:Ae,onTouchstartPassive:Ae})])}}});function ua(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function Ma(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const No=6048e5,hn=864e5;let fn={};function st(){return fn}function Xa(e,a){var d,g,E,b,A,X,M,v;const o=st(),t=(v=(M=(b=(E=a==null?void 0:a.weekStartsOn)!=null?E:(g=(d=a==null?void 0:a.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)!=null?b:o.weekStartsOn)!=null?M:(X=(A=o.locale)==null?void 0:A.options)==null?void 0:X.weekStartsOn)!=null?v:0,n=ua(e),i=n.getDay(),l=(i<t?7:0)+i-t;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function nt(e){return Xa(e,{weekStartsOn:1})}function To(e){const a=ua(e),o=a.getFullYear(),t=Ma(e,0);t.setFullYear(o+1,0,4),t.setHours(0,0,0,0);const n=nt(t),i=Ma(e,0);i.setFullYear(o,0,4),i.setHours(0,0,0,0);const l=nt(i);return a.getTime()>=n.getTime()?o+1:a.getTime()>=l.getTime()?o:o-1}function Yt(e){const a=ua(e);return a.setHours(0,0,0,0),a}function Wt(e){const a=ua(e),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),+e-+o}function gn(e,a){const o=Yt(e),t=Yt(a),n=+o-Wt(o),i=+t-Wt(t);return Math.round((n-i)/hn)}function pn(e){const a=To(e),o=Ma(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),nt(o)}function vn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bn(e){if(!vn(e)&&typeof e!="number")return!1;const a=ua(e);return!isNaN(Number(a))}function yn(e){const a=ua(e),o=Ma(e,0);return o.setFullYear(a.getFullYear(),0,1),o.setHours(0,0,0,0),o}const Vn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cn=(e,a,o)=>{let t;const n=Vn[e];return typeof n=="string"?t=n:a===1?t=n.one:t=n.other.replace("{{count}}",a.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+t:t+" ago":t};function vt(e){return(a={})=>{const o=a.width?String(a.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}const Nn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},En={date:vt({formats:Nn,defaultWidth:"full"}),time:vt({formats:Tn,defaultWidth:"full"}),dateTime:vt({formats:Sn,defaultWidth:"full"})},xn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wn=(e,a,o,t)=>xn[e];function Wa(e){return(a,o)=>{const t=o!=null&&o.context?String(o.context):"standalone";let n;if(t==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=o!=null&&o.width?String(o.width):l;n=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=o!=null&&o.width?String(o.width):e.defaultWidth;n=e.values[d]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(a):a;return n[i]}}const An={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_n={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},In={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},On=(e,a)=>{const o=Number(e),t=o%100;if(t>20||t<10)switch(t%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},kn={ordinalNumber:On,era:Wa({values:An,defaultWidth:"wide"}),quarter:Wa({values:Pn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wa({values:_n,defaultWidth:"wide"}),day:Wa({values:qn,defaultWidth:"wide"}),dayPeriod:Wa({values:In,defaultWidth:"wide",formattingValues:Dn,defaultFormattingWidth:"wide"})};function Qa(e){return(a,o={})=>{const t=o.width,n=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],i=a.match(n);if(!i)return null;const l=i[0],d=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(d)?zn(d,A=>A.test(l)):Mn(d,A=>A.test(l));let E;E=e.valueCallback?e.valueCallback(g):g,E=o.valueCallback?o.valueCallback(E):E;const b=a.slice(l.length);return{value:E,rest:b}}}function Mn(e,a){for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&a(e[o]))return o}function zn(e,a){for(let o=0;o<e.length;o++)if(a(e[o]))return o}function Ln(e){return(a,o={})=>{const t=a.match(e.matchPattern);if(!t)return null;const n=t[0],i=a.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=o.valueCallback?o.valueCallback(l):l;const d=a.slice(n.length);return{value:l,rest:d}}}const Fn=/^(\d+)(th|st|nd|rd)?/i,Rn=/\d+/i,Hn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jn={any:[/^b/i,/^(a|c)/i]},Un={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bn={any:[/1/i,/2/i,/3/i,/4/i]},Yn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zn={ordinalNumber:Ln({matchPattern:Fn,parsePattern:Rn,valueCallback:e=>parseInt(e,10)}),era:Qa({matchPatterns:Hn,defaultMatchWidth:"wide",parsePatterns:jn,defaultParseWidth:"any"}),quarter:Qa({matchPatterns:Un,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qa({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),day:Qa({matchPatterns:Qn,defaultMatchWidth:"wide",parsePatterns:Xn,defaultParseWidth:"any"}),dayPeriod:Qa({matchPatterns:Gn,defaultMatchWidth:"any",parsePatterns:Jn,defaultParseWidth:"any"})},Kn={code:"en-US",formatDistance:Cn,formatLong:En,formatRelative:wn,localize:kn,match:Zn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $n(e){const a=ua(e);return gn(a,yn(a))+1}function es(e){const a=ua(e),o=+nt(a)-+pn(a);return Math.round(o/No)+1}function So(e,a){var b,A,X,M,v,p,h,C;const o=ua(e),t=o.getFullYear(),n=st(),i=(C=(h=(M=(X=a==null?void 0:a.firstWeekContainsDate)!=null?X:(A=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:A.firstWeekContainsDate)!=null?M:n.firstWeekContainsDate)!=null?h:(p=(v=n.locale)==null?void 0:v.options)==null?void 0:p.firstWeekContainsDate)!=null?C:1,l=Ma(e,0);l.setFullYear(t+1,0,i),l.setHours(0,0,0,0);const d=Xa(l,a),g=Ma(e,0);g.setFullYear(t,0,i),g.setHours(0,0,0,0);const E=Xa(g,a);return o.getTime()>=d.getTime()?t+1:o.getTime()>=E.getTime()?t:t-1}function as(e,a){var d,g,E,b,A,X,M,v;const o=st(),t=(v=(M=(b=(E=a==null?void 0:a.firstWeekContainsDate)!=null?E:(g=(d=a==null?void 0:a.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)!=null?b:o.firstWeekContainsDate)!=null?M:(X=(A=o.locale)==null?void 0:A.options)==null?void 0:X.firstWeekContainsDate)!=null?v:1,n=So(e,a),i=Ma(e,0);return i.setFullYear(n,0,t),i.setHours(0,0,0,0),Xa(i,a)}function ts(e,a){const o=ua(e),t=+Xa(o,a)-+as(o,a);return Math.round(t/No)+1}function Ne(e,a){const o=e<0?"-":"",t=Math.abs(e).toString().padStart(a,"0");return o+t}const Aa={y(e,a){const o=e.getFullYear(),t=o>0?o:1-o;return Ne(a==="yy"?t%100:t,a.length)},M(e,a){const o=e.getMonth();return a==="M"?String(o+1):Ne(o+1,2)},d(e,a){return Ne(e.getDate(),a.length)},a(e,a){const o=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(e,a){return Ne(e.getHours()%12||12,a.length)},H(e,a){return Ne(e.getHours(),a.length)},m(e,a){return Ne(e.getMinutes(),a.length)},s(e,a){return Ne(e.getSeconds(),a.length)},S(e,a){const o=a.length,t=e.getMilliseconds(),n=Math.trunc(t*Math.pow(10,o-3));return Ne(n,a.length)}},Fa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qt={G:function(e,a,o){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})}},y:function(e,a,o){if(a==="yo"){const t=e.getFullYear(),n=t>0?t:1-t;return o.ordinalNumber(n,{unit:"year"})}return Aa.y(e,a)},Y:function(e,a,o,t){const n=So(e,t),i=n>0?n:1-n;if(a==="YY"){const l=i%100;return Ne(l,2)}return a==="Yo"?o.ordinalNumber(i,{unit:"year"}):Ne(i,a.length)},R:function(e,a){const o=To(e);return Ne(o,a.length)},u:function(e,a){const o=e.getFullYear();return Ne(o,a.length)},Q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return Ne(t,2);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return Ne(t,2);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,o){const t=e.getMonth();switch(a){case"M":case"MM":return Aa.M(e,a);case"Mo":return o.ordinalNumber(t+1,{unit:"month"});case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,o){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return Ne(t+1,2);case"Lo":return o.ordinalNumber(t+1,{unit:"month"});case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,o,t){const n=ts(e,t);return a==="wo"?o.ordinalNumber(n,{unit:"week"}):Ne(n,a.length)},I:function(e,a,o){const t=es(e);return a==="Io"?o.ordinalNumber(t,{unit:"week"}):Ne(t,a.length)},d:function(e,a,o){return a==="do"?o.ordinalNumber(e.getDate(),{unit:"date"}):Aa.d(e,a)},D:function(e,a,o){const t=$n(e);return a==="Do"?o.ordinalNumber(t,{unit:"dayOfYear"}):Ne(t,a.length)},E:function(e,a,o){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,o,t){const n=e.getDay(),i=(n-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(i);case"ee":return Ne(i,2);case"eo":return o.ordinalNumber(i,{unit:"day"});case"eee":return o.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,o,t){const n=e.getDay(),i=(n-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(i);case"cc":return Ne(i,a.length);case"co":return o.ordinalNumber(i,{unit:"day"});case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,o){const t=e.getDay(),n=t===0?7:t;switch(a){case"i":return String(n);case"ii":return Ne(n,a.length);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return o.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(t,{width:"short",context:"formatting"});case"iiii":default:return o.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,o){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,o){const t=e.getHours();let n;switch(t===12?n=Fa.noon:t===0?n=Fa.midnight:n=t/12>=1?"pm":"am",a){case"b":case"bb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,o){const t=e.getHours();let n;switch(t>=17?n=Fa.evening:t>=12?n=Fa.afternoon:t>=4?n=Fa.morning:n=Fa.night,a){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,o){if(a==="ho"){let t=e.getHours()%12;return t===0&&(t=12),o.ordinalNumber(t,{unit:"hour"})}return Aa.h(e,a)},H:function(e,a,o){return a==="Ho"?o.ordinalNumber(e.getHours(),{unit:"hour"}):Aa.H(e,a)},K:function(e,a,o){const t=e.getHours()%12;return a==="Ko"?o.ordinalNumber(t,{unit:"hour"}):Ne(t,a.length)},k:function(e,a,o){let t=e.getHours();return t===0&&(t=24),a==="ko"?o.ordinalNumber(t,{unit:"hour"}):Ne(t,a.length)},m:function(e,a,o){return a==="mo"?o.ordinalNumber(e.getMinutes(),{unit:"minute"}):Aa.m(e,a)},s:function(e,a,o){return a==="so"?o.ordinalNumber(e.getSeconds(),{unit:"second"}):Aa.s(e,a)},S:function(e,a){return Aa.S(e,a)},X:function(e,a,o){const t=e.getTimezoneOffset();if(t===0)return"Z";switch(a){case"X":return Gt(t);case"XXXX":case"XX":return ka(t);case"XXXXX":case"XXX":default:return ka(t,":")}},x:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"x":return Gt(t);case"xxxx":case"xx":return ka(t);case"xxxxx":case"xxx":default:return ka(t,":")}},O:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Xt(t,":");case"OOOO":default:return"GMT"+ka(t,":")}},z:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Xt(t,":");case"zzzz":default:return"GMT"+ka(t,":")}},t:function(e,a,o){const t=Math.trunc(e.getTime()/1e3);return Ne(t,a.length)},T:function(e,a,o){const t=e.getTime();return Ne(t,a.length)}};function Xt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.trunc(t/60),i=t%60;return i===0?o+String(n):o+String(n)+a+Ne(i,2)}function Gt(e,a){return e%60===0?(e>0?"-":"+")+Ne(Math.abs(e)/60,2):ka(e,a)}function ka(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Ne(Math.trunc(t/60),2),i=Ne(t%60,2);return o+n+a+i}const Jt=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Eo=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},os=(e,a)=>{const o=e.match(/(P+)(p+)?/)||[],t=o[1],n=o[2];if(!n)return Jt(e,a);let i;switch(t){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;case"PPPP":default:i=a.dateTime({width:"full"});break}return i.replace("{{date}}",Jt(t,a)).replace("{{time}}",Eo(n,a))},ls={p:Eo,P:os},ns=/^D+$/,ss=/^Y+$/,is=["D","DD","YY","YYYY"];function rs(e){return ns.test(e)}function cs(e){return ss.test(e)}function ds(e,a,o){const t=us(e,a,o);if(console.warn(t),is.includes(e))throw new RangeError(t)}function us(e,a,o){const t=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ms=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fs=/^'([^]*?)'?$/,gs=/''/g,ps=/[a-zA-Z]/;function Zt(e,a,o){var b,A,X,M,v,p,h,C,G,Z,S,L,we,de,he,Ve,Te,oe;const t=st(),n=(A=(b=o==null?void 0:o.locale)!=null?b:t.locale)!=null?A:Kn,i=(Z=(G=(p=(v=o==null?void 0:o.firstWeekContainsDate)!=null?v:(M=(X=o==null?void 0:o.locale)==null?void 0:X.options)==null?void 0:M.firstWeekContainsDate)!=null?p:t.firstWeekContainsDate)!=null?G:(C=(h=t.locale)==null?void 0:h.options)==null?void 0:C.firstWeekContainsDate)!=null?Z:1,l=(oe=(Te=(de=(we=o==null?void 0:o.weekStartsOn)!=null?we:(L=(S=o==null?void 0:o.locale)==null?void 0:S.options)==null?void 0:L.weekStartsOn)!=null?de:t.weekStartsOn)!=null?Te:(Ve=(he=t.locale)==null?void 0:he.options)==null?void 0:Ve.weekStartsOn)!=null?oe:0,d=ua(e);if(!bn(d))throw new RangeError("Invalid time value");let g=a.match(hs).map(fe=>{const K=fe[0];if(K==="p"||K==="P"){const ne=ls[K];return ne(fe,n.formatLong)}return fe}).join("").match(ms).map(fe=>{if(fe==="''")return{isToken:!1,value:"'"};const K=fe[0];if(K==="'")return{isToken:!1,value:vs(fe)};if(Qt[K])return{isToken:!0,value:fe};if(K.match(ps))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return{isToken:!1,value:fe}});n.localize.preprocessor&&(g=n.localize.preprocessor(d,g));const E={firstWeekContainsDate:i,weekStartsOn:l,locale:n};return g.map(fe=>{if(!fe.isToken)return fe.value;const K=fe.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&cs(K)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&rs(K))&&ds(K,a,String(e));const ne=Qt[K[0]];return ne(d,K,n.localize,E)}).join("")}function vs(e){const a=e.match(fs);return a?a[1].replace(gs,"'"):e}const Kt=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),bs={setup(){let e=N(null),a=N(0),o=N(!0),t=N(0),n=N(0),i=N(null),l=N(0),d=0,g=0,E=0,b=0,A=0,X=0,M=0,v=0,p=0,h=0,C=0,G=0,Z=0,S=0,L=0,we=0,de=0,he=0,Ve=0,Te=0,oe=0,fe=0,K=N([]);const ne=N("idCotizacion"),ke=N("desc"),De=H(()=>Array.from({length:Et.value},(k,ba)=>ba+1)),D=N(0),Se=N(!1),Ae=N(!1),P=N(null),ue=Array.from({length:10},(k,ba)=>ba+1),Y=N(!1),ie=N(0),Fe=N([]),_=N(null),V=N([]),T=N([]),W=N(1),j=N([]),pe=N([]),B=N("Todos"),me=N(null),He=[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"Pendiente"}],Ye=k=>_a.value==="La Macarena"&&(Va.value==="Ca\xF1o Cristales"||Va.value==="Ca\xF1o Cristales Semana Receso"),Me=()=>{j.value.push({index:j.value.length,accommodation:"",adults:1,adultAges:[null],childAge:null,isForeigner:[!1],valor:[null]}),T.value.push(!1)};ia(()=>j.value.map(k=>k.adults),k=>{j.value.forEach((ba,Ba)=>{const $o=Array.from({length:k[Ba]},()=>null),el=Array.from({length:k[Ba]},()=>!1);ba.adultAges.splice(0,ba.adultAges.length,...$o),ba.isForeigner.splice(0,ba.isForeigner.length,...el)})},{deep:!0});const Xe=k=>k?[...k.adultAges]:[],Ee=()=>{j.value=[];for(let k=0;k<W.value;k++)j.value.push({index:k,accommodation:null,adultAges:[null],childAge:null,isForeigner:[!1]})},ea=k=>_a.value==="La Macarena"&&(Va.value==="Ca\xF1o Cristales"||Va.value==="Ca\xF1o Cristales Semana Receso");Ee();const ta=()=>{console.log("N\xFAmero de habitaciones cambiado:",W.value),Ee()},ve=N([]),je=N({}),oa=async()=>{try{const k=await te.get("https://backmultidestinos.onrender.com/cotizacion");ve.value=k.data,await ze(),J(),ge()}catch(k){console.error("Error fetching cotizacion data:",k)}},ze=async()=>{try{(await te.get("https://backmultidestinos.onrender.com/user/")).data.forEach(Ba=>{je.value[Ba.id]=Ba.nombreCompleto})}catch(k){console.error("Error fetching user data:",k)}},J=()=>{ve.value.forEach(k=>{k.CreadorCotizacion=je.value[k.CreadorCotizacion],k.fechaCreacion=re(k.fechaCreacion),k.fechaInicio=re(k.fechaInicio),k.fechaFin=re(k.fechaFin)})},ge=()=>{ve.value.forEach(k=>{k.precioBrutoTotal=Kt(Number(k.precioBrutoTotal)),k.totalPrecioCliente=Kt(Number(k.totalPrecioCliente))})},re=k=>Zt(new Date(k),"yyyy-MM-dd"),Q=N(!1),U=N(null),_e=N(null),I=N(null),F=N(null),ca=N(null),ee=N(null),We=N(null),la=N(null),Ue=N(null),Ze=N(null),be=N(""),Oe=N(""),Ce=N(""),Re=N(""),ye=N(""),Pe=N(""),Be=N(""),qe=N(""),Qe=N(""),Ke=N(""),ma=N(""),da=N(""),ha=N(""),r=N(""),s=N(""),f=N(""),u=N(""),y=N(""),w=N(""),x=N(""),z=N("tab1"),$=()=>{if(z.value==="tab1"){if(!fa.value[0]||!fa.value[1]){mt.create({message:"Por favor ingrese una fecha de inicio y una fecha de fin.",color:"negative"});return}if(!_a.value||!Ua.value){mt.create({message:"Por favor seleccione un destino y un cliente.",color:"negative"});return}if(j.value.length===0||j.value.some(k=>!k.roomType||!k.adults||!k.accommodation)){mt.create({message:"Por favor complete la informaci\xF3n de al menos una habitaci\xF3n.",color:"negative"});return}z.value="tab2"}},Ge=()=>{z.value==="tab2"&&(z.value="tab1")},aa=new Date,Je=N(""),$e=aa.toISOString().split("T")[0],fa=N([$e,$e]),pa=k=>{fa.value[1]<k&&(fa.value[1]=k)},ja=[k=>aa<=new Date(k)||"La fecha de inicio no puede ser anterior a hoy"],va=[k=>k>=fa.value[0]||"La fecha de fin no puede ser anterior a la fecha de inicio"],xo=N(!1),wo=N(""),Ao=N(!1),Po=N(""),St=N(null),_o=Pl(),qo=N(!1),Io=N(!1),Do=N(["C.C","T.I","Pasaporte"]),Oo=N(["Bogota","Cali","Medellin","Porcion Terrestre","San Andres"]),ko=N([]),Mo=N([]),zo=N([]),Lo=N([]),Fo=N([]),Ro=N(["1","2","3","4","5","6","7","8","9","10","11","12","13"]);let Ho=[],jo=null;const Uo=N(["1","2","3","4","5","6","7","8","9"]),Bo=N([]),Yo=N([]),Wo=N([]),Qo=N([]),Xo=N(["Satena","Avianca","Latam","JetSmart","Clic"]),it=N(""),_a=N(""),Va=N(""),Za=N(""),Ka=N(""),Go=N(""),$a=N(""),et=N(""),at=N(""),Ua=N(""),rt=N(!1),ct=N(null),Et=N(null),Jo=N([]),Zo=N(!1),Ko=N(null);return Ct(()=>{console.log("Intentando recuperar los datos del usuario del almacenamiento local..."),oa(),Ee();const k=dt.getItem("userData");console.log("Datos del usuario recuperados:",k),k?St.value=k:(console.log("No se encontraron datos de usuario en el almacenamiento local. Redirigiendo a la p\xE1gina de inicio de sesi\xF3n..."),_o.push("/login"))}),{tieneTelefono:xo,telefono:wo,tieneNumero:Ao,correoPasajero:Po,filterStatus:me,statusOptions:He,selectedUser:e,matchingPrograms:K,autofillingProgramName:o,transferInOut:i,transferInOutValue:l,numExtraValues:a,extraValue1:t,extraValue2:n,opcionesTipoDocumento:Do,mostrarModalPasajeros:Y,totalPasajero:ie,pasajeros:Fe,cotizacionSeleccionada:_,sortBy:ne,sortOrder:ke,selectedFilter:B,cormacarena5a11Personas:g,cormacarena12a65Personas:b,cormacarenaExtranjeroPersonas:X,pqsNaturales5a24Personas:v,pqsNaturales25a65Personas:h,pqsNaturalesExtranjeroPersonas:G,alcaldiaNacionalPersonas:S,alcaldiaExtranjeroPersonas:we,defensaCivilPersonas:he,cormacarena5a11Total:d,cormacarena12a65Total:E,cormacarenaExtranjeroTotal:A,pqsNaturales5a24Total:M,pqsNaturales25a65Total:p,pqsNaturalesExtranjeroTotal:C,alcaldiaNacionalTotal:Z,alcaldiaExtranjeroTotal:L,defensaCivilTotal:de,totalImpuestos:Te,adultAgesComputed:Xe,mostrarCamposEdad:ea,showAgeInputs:Ye,nochesOptionsRaw:pe,peopleArray:De,numberOfPeople:Et,supplementValues:Jo,idCotizacion:Oe,archivoSeleccionado:Ko,mostrarDialogo:Zo,ultimaCotizacionDescargada:jo,correo:Je,OptionCorreo:Qo,cotizacionCounter:D,sumaTotalDescuento:fe,sumaTotalAcomodacion:Ve,sumaValorBrutohab:oe,habitacionesDatos:Ho,additionalNightSelected:Se,asesorExternoCheck:Ae,additionalNightCount:P,handleNumRoomsChange:ta,roomOptions:ue,addRoom:Me,hasChildren:T,numRooms:W,rooms:j,updateAccommodationOptions:Ee,cotizacionData:ve,usersMap:je,formatDate:k=>Zt(new Date(k),"yyyy-MM-dd"),columns:[{name:"status",label:"Status",align:"left",field:"status"},{name:"idCotizacion",label:"Id-cotizaci\xF3n",align:"left",field:"idCotizacion"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",align:"left",field:"fechaCreacion"},{name:"CreadorCotizacion",label:"Usuario que la Cre\xF3",align:"left",field:"CreadorCotizacion"},{name:"cliente",label:"Cliente",align:"left",field:"cliente"},{name:"precioBrutoTotal",label:"precio Bruto",align:"left",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Valor Total con Descuento",align:"left",field:"totalPrecioCliente"},{name:"totalAdultos",label:"Adultos",align:"left",field:"totalAdultos"},{name:"totalNinos",label:"Ni\xF1os",align:"left",field:"totalNinos"},{name:"fechaInicio",label:"Fecha de Inicio",align:"left",field:"fechaInicio"},{name:"fechaFin",label:"Fecha de Fin",align:"left",field:"fechaFin"},{name:"salida",label:"Salida",align:"left",field:"salida"},{name:"destino",label:"Destino",align:"left",field:"destino"},{name:"hotel",label:"Hotel",align:"left",field:"hotel"},{name:"cotizacion",label:"Cotizacion",align:"left",field:"cotizacion",format:k=>""}],mostrarEscalas:Q,aerolineaEscalaIda:U,vueloEscalaIda:_e,horaLlegadaEscalaIda:I,horaSalidaEscalaIda:F,claseEscalaIda:ca,aerolineaEscalaVuelta:ee,vueloEscalaVuelta:We,horaLlegadaEscalaVuelta:la,horaSalidaEscalaVuelta:Ue,claseEscalaVuelta:Ze,aerolineaValue1:be,vueloValue1:Ce,horaLlegadaValue1:Re,horaSalidaValue1:ye,claseValue1:Pe,aerolineaValue2:Be,vueloValue2:qe,horaLlegadaValue2:Qe,horaSalidaValue2:Ke,claseValue2:ma,Combus:da,Tasa:ha,Iva:r,Ta:s,IvaTa:f,Otros:u,precioTransp:y,textoIncluye:w,textoNoIncluye:x,startDateRules:ja,activeTab:z,goNext:$,goBack:Ge,params:{hotel:"",nombrePrograma:"",destino:""},paramsH:{hotel:"",destino:"",noches:"",pertenece:""},paramsN:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:""},paramsTransporte:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:"",tipoHabitacion:""},userData:St,modalVisible:qo,modalVisiblePersonalizado:Io,departureOptions:Oo,destinationOptions:ko,programNameOptions:Mo,hotelOptions:zo,nochesOptions:Lo,planOptions:Fo,adultsOptions:Ro,childrenOptions:Uo,aerolineaOptions:Xo,accommodationOptions:Bo,roomTypeOptions:Yo,selectedDeparture:it,destination:_a,programName:Va,hotel:Za,noche:Ka,plan:Go,adults:$a,children:V,accommodation:et,roomType:at,clientOptions:Wo,selectedClient:Ua,clearFields:()=>{it.value="",_a.value="",Va.value="",Za.value="",Ka.value="",$a.value="",V.value="",et.value="",at.value="",Ua.value="",i.value="",l.value="",t.value="",n.value="",a.value=0,j.value.forEach(k=>{k.roomType="",k.adults="",k.hasChildren=!1,k.numChildren="",k.accommodation=""}),be.value="",Ce.value="",ye.value="",Re.value="",Pe.value="",Be.value="",qe.value="",Ke.value="",Qe.value="",ma.value="",rt.value=!1,ct.value=""},clearFieldsc:()=>{_a.value="",Va.value="",Za.value="",Ka.value="",$a.value="",V.value="",et.value="",at.value="",Ua.value="",Je.value=""},clearFieldsPersonalizado:()=>{it.value="",_a.value="",Va.value="",Za.value="",Ka.value="",$a.value="",V.value="",et.value="",at.value="",Ua.value="",j.value.forEach(k=>{k.roomType="",k.adults="",k.hasChildren=!1,k.numChildren="",k.accommodation="",k.valor=""}),be.value="",Ce.value="",ye.value="",Re.value="",Pe.value="",Be.value="",qe.value="",Ke.value="",Qe.value="",ma.value="",rt.value=!1,ct.value="",da.value="",ha.value="",r.value="",s.value="",f.value="",u.value="",y.value="",w.value="",x.value=""},supplementChecked:rt,supplementValue:ct,dateRange:fa,adjustEndDate:pa,endDateRules:va,totalAdultos:0,totalNi\u00F1os:0}},watch:{selectedDeparture:"fetchProgramName",destination:"fetchProgramName",noche:"fetchProgramName",hotel:"fetchProgramName",dateRange:"fetchProgramName",hotel(){this.fetchOptions()},horaLlegadaValue1(e){this.validarHora(e,this.horaSalidaValue1)},horaLlegadaValue2(e){this.validarHora(e,this.horaSalidaValue2)}},mounted(){this.dataUsuario()},methods:{async dataUsuario(){const e="https://backmultidestinos.onrender.com/user/";te.get(e).then(a=>{const t=a.data.filter(n=>n.rol==="Asesor");this.dropdownOptions=t.map(n=>({label:n.nombreCompleto,value:n.id}))}).catch(a=>{console.error("Error al obtener los datos de usuario:",a)})},getStatusColor(e){switch(e){case"Pendiente":return"orange";case"Aprobado":return"green";case"Finalizado":return"red";default:return"grey"}},async fetchProgramName(){console.log("Iniciando fetchProgramName..."),this.autofillingProgramName=!0;try{console.log("Enviando datos al servidor:",this.paramsH),console.log("thhotel",this.hotel),this.paramsH.hotel=this.hotel,this.paramsH.destino=this.destination,this.paramsH.noches=this.noche.label,this.paramsH.pertenece=this.selectedDeparture,console.log("Enviando datos al servidor:",this.paramsH);const e=await te.post("https://backmultidestinos.onrender.com/hoteles/buscarH",this.paramsH);console.log("Respuesta del servidor sobre el programa:",e),this.programNameOptions=e.data,console.log("Opciones de nombre de programa:",this.programNameOptions);let a=this.programNameOptions.filter(l=>{const d=l.FechaInicio!==null&&l.FechaFin!==null;return console.log(`Programa ${l.nombrePrograma} tiene fechas v\xE1lidas: ${d}`),d});console.log("Programas con fechas v\xE1lidas:",a);let o=new Date(this.dateRange[0]),t=new Date(this.dateRange[1]);if(console.log("Fecha de inicio seleccionada:",o),console.log("Fecha de fin seleccionada:",t),isNaN(o)||isNaN(t)){console.error("Error: Fecha inv\xE1lida en dateRange."),this.$q.notify({message:"Error: Fecha inv\xE1lida seleccionada.",color:"negative"});return}o.setHours(0,0,0,0),t.setHours(0,0,0,0),a=a.filter(l=>{let d=new Date(l.FechaInicio),g=new Date(l.FechaFin);if(isNaN(d)||isNaN(g))return console.error(`Error: Fecha inv\xE1lida en el programa ${l.nombrePrograma}.`),!1;d.setHours(0,0,0,0),g.setHours(0,0,0,0),console.log("Fecha de inicio del programa:",d),console.log("Fecha de fin del programa:",g);const E=d<=t&&g>=o;return console.log(`Programa ${l.nombrePrograma} coincide con las fechas: ${E}`),E}),console.log("Programas que coinciden con las fechas:",a),a=a.filter((l,d,g)=>d===g.findIndex(E=>E.nombrePrograma===l.nombrePrograma)),console.log("Programas coincidentes (sin duplicados y con fechas v\xE1lidas):",a[0]),this.matchingPrograms=a,this.matchingPrograms.length===1?(this.programName=this.matchingPrograms[0].nombrePrograma,console.log("Nombre del programa seleccionado:",this.programName)):this.matchingPrograms.length>1?(this.matchingProgramOptions=this.matchingPrograms.map(l=>l.nombrePrograma),console.log("Opciones de programas coincidentes:",this.matchingProgramOptions)):(this.programName=null,console.log("No hay programas coincidentes."));const n=a.map(l=>l.tipoHabitacion),i=[...new Set(n)];console.log("Tipos de habitaci\xF3n \xFAnicos:",i),this.roomTypeOptions=i}catch(e){console.error("Error al obtener nombres de programa:",e)}finally{this.autofillingProgramName=!1}},validarHora(e,a){e&&a&&e<a&&this.$q.notify({message:"La hora de llegada no puede ser anterior a la hora de salida.",color:"negative",position:"top",timeout:2e3})},procesarLiquidacion(){this.cerrarModalPasajeros();const e=this.cotizacionSeleccionada.idCotizacion;te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`).then(a=>{const o=a.data;console.log("Datos de la cotizaci\xF3n desde la API:",o);const t={idCotizacion:this.cotizacionSeleccionada.idCotizacion,salida:this.cotizacionSeleccionada.salida,destino:this.cotizacionSeleccionada.destino,nombrePrograma:this.cotizacionSeleccionada.nombrePrograma,plan:this.cotizacionSeleccionada.plan,hotel:this.cotizacionSeleccionada.hotel,totalAdultos:this.cotizacionSeleccionada.totalAdultos,totalNinos:this.cotizacionSeleccionada.totalNinos,totalPasajeros:this.cotizacionSeleccionada.totalPasajeros,precioBrutoTotal:this.cotizacionSeleccionada.precioBrutoTotal.replace(/[^\d.-]/g,""),valorDescuento:this.cotizacionSeleccionada.valorDescuento,ivaValor:this.cotizacionSeleccionada.ivaValor,rteFuente:this.cotizacionSeleccionada.rteFuente,rteIca:this.cotizacionSeleccionada.rteIca,totalComision:this.cotizacionSeleccionada.totalComision,totalPrecioCliente:this.cotizacionSeleccionada.totalPrecioCliente.replace(/[^\d.-]/g,""),combus:this.cotizacionSeleccionada.combus,tasa:this.cotizacionSeleccionada.tasa,iva:this.cotizacionSeleccionada.iva,ta:this.cotizacionSeleccionada.ta,ivaTa:this.cotizacionSeleccionada.ivaTa,otros:this.cotizacionSeleccionada.otros,suplemento:this.cotizacionSeleccionada.suplemento,precioTrans:this.cotizacionSeleccionada.precioTrans,noches:this.cotizacionSeleccionada.noches,notas:this.cotizacionSeleccionada.notas,cliente:this.cotizacionSeleccionada.cliente,clientePorcentaje:this.cotizacionSeleccionada.clientePorcentaje,nochesAdicionales:this.cotizacionSeleccionada.nochesAdicionales,CreadorCotizacion:this.cotizacionSeleccionada.CreadorCotizacion,fechaCreacion:this.cotizacionSeleccionada.fechaCreacion,aerolineaIda:this.cotizacionSeleccionada.aerolineaIda,vueloIda:this.cotizacionSeleccionada.vueloIda,horaLlegadaIda:this.cotizacionSeleccionada.horaLlegadaIda,horaSalidaIda:this.cotizacionSeleccionada.horaSalidaIda,claseIda:this.cotizacionSeleccionada.claseIda,fechaInicio:this.cotizacionSeleccionada.fechaInicio,aerolineaVuelta:this.cotizacionSeleccionada.aerolineaVuelta,vueloVuelta:this.cotizacionSeleccionada.vueloVuelta,horaLlegadaVuelta:this.cotizacionSeleccionada.horaLlegadaVuelta,horaSalidaVuelta:this.cotizacionSeleccionada.horaSalidaVuelta,claseVuelta:this.cotizacionSeleccionada.claseVuelta,fechaFin:this.cotizacionSeleccionada.fechaFin,correo:this.cotizacionSeleccionada.correo,impuestosLiq:o[0].tieneImpuestos,extra:this.cotizacionSeleccionada.extra,transfer:this.cotizacionSeleccionada.transfer,incluye:this.cotizacionSeleccionada.incluye,noIncluye:this.cotizacionSeleccionada.noIncluye,status:"Pendiente",telefono:this.telefono||null,correoPasajero:this.correoPasajero||null};te.post("https://backmultidestinos.onrender.com/liquidacion",t).then(n=>{const i=n.data.idLiquidacion;if(o[0].tieneImpuestos){const d={idLiquidacion:i,defensaCivil:o[0].defensaCivil_Total,cormacarena5a11:o[0].cormacarena5a11_Total,cormacarena12a65:o[0].cormacarena12a65_Total,cormacarenaExtranjero:o[0].cormacarenaExtranjero_Total,pqsNaturales5a24:o[0].pqsNaturales5a24_Total,pqsNaturales25a65:o[0].pqsNaturales25a65_Total,pqsNaturalesExtranjero:o[0].pqsNaturalesExtranjero_Total,alcaldiaNacional:o[0].alcaldiaNacional_Total,alcaldiaExtranjero:o[0].alcaldiaExtranjero_Total,cormacarena5a11Personas:o[0].cormacarena5a11_numeroPersonas,cormacarena12a65Personas:o[0].cormacarena12a65_numeroPersonas,cormacarenaExtranjeroPersonas:o[0].cormacarenaExtranjero_numeroPersonas,pqsNaturales5a24Personas:o[0].pqsNaturales5a24_numeroPersonas,pqsNaturales25a65Personas:o[0].pqsNaturales25a65_numeroPersonas,pqsNaturalesExtranjeroPersonas:o[0].pqsNaturalesExtranjero_numeroPersonas,alcaldiaNacionalPersonas:o[0].alcaldiaNacional_numeroPersonas,alcaldiaExtranjeroPersonas:o[0].alcaldiaExtranjero_numeroPersonas,defensaCivilPersonas:o[0].defensaCivil_numeroPersonas};te.post("https://backmultidestinos.onrender.com/impuestosLiq",d).then(()=>{console.log("Impuestos creados exitosamente")}).catch(g=>{console.error("Error al crear los impuestos:",g)})}const l=this.pasajeros.map(d=>(d.idLiquidacion=i,te.post("https://backmultidestinos.onrender.com/pasajero",d)));Promise.all(l).then(()=>{console.log("Liquidaci\xF3n y pasajeros creados exitosamente"),te.post(`https://backmultidestinos.onrender.com/cotizacion/${e}`,{status:"Aprobado"}).then(()=>{console.log("Cotizaci\xF3n actualizada a 'Aprobado'")}).catch(d=>{console.error("Error al actualizar la cotizaci\xF3n:",d)})}).catch(d=>{console.error("Error al crear los pasajeros:",d)})}).catch(n=>{console.error("Error al crear la liquidaci\xF3n:",n)})}).catch(a=>{console.error("Error al obtener datos de la cotizaci\xF3n:",a)})},abrirModalPasajeros(e){this.cotizacionSeleccionada=e,this.totalPasajeros=e.totalPasajeros,this.pasajeros=[];for(let a=0;a<this.totalPasajeros;a++)this.pasajeros.push({nombre:"",tipoDocumento:"",numeroDocumento:"",fechaNacimiento:""});this.tieneTelefono=!1,this.telefono="",this.tieneNumero=!1,this.correoPasajero="",this.mostrarModalPasajeros=!0},cerrarModalPasajeros(){this.mostrarModalPasajeros=!1},async pasarALiquidacion(){console.log("Pasando cotizaci\xF3n a liquidaci\xF3n:",cotizacion)},filteredCotizacionData(){const e=this.selectedFilter,a=[...this.cotizacionData];return a.sort((o,t)=>{const n=o.idCotizacion,i=t.idCotizacion;if(n.includes("-C")&&!i.includes("-C"))return-1;if(!n.includes("-C")&&i.includes("-C"))return 1;const l=n.startsWith("COT-C")?parseInt(n.split("-C")[1],10):0,d=i.startsWith("COT-C")?parseInt(i.split("-C")[1],10):0;if(n.startsWith("COT-C")&&i.startsWith("COT-C"))return d-l;if(n.startsWith("COT-")&&i.startsWith("COT-")){const g=parseInt(n.split("-")[1],10);return parseInt(i.split("-")[1],10)-g}return 0}),a.filter(o=>{const t=e==="Todos"||e==="Cot-C"&&o.idCotizacion.includes("-C")||e==="Cot"&&!o.idCotizacion.includes("-C"),n=this.filterStatus===null||o.status===this.filterStatus;return t&&n})},customSort(e,a,o){const t=[...e];return a==="idCotizacion"?t.sort((n,i)=>{const[l,d]=n[a].split("-"),[g,E]=i[a].split("-");return l==="COT-"&&g==="COT-"?o?E-d:d-E:0}):a==="fechaCreacion"?t.sort((n,i)=>{const l=new Date(n[a]),d=new Date(i[a]);return o?d-l:l-d}):t.sort((n,i)=>{const l=o?i:n,d=o?n:i;return l[a]>d[a]?1:l[a]<d[a]?-1:0}),t},descargarCotizacionN(e){e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)},shouldHideAdditionalNightSection(){return this.destination==="Bah\xEDa Solano"&&this.programName==="Temporada Baja"&&this.hotel==="El Almejal Ecolodge"},mostrarDialogoSeleccionArchivo(){this.mostrarDialogo=!0},seleccionarArchivo(e){this.archivoSeleccionado=e.target.files[0]},async enviarCotizacion(e){try{const a=await(e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download=`cotizacion_${e.cliente}.pdf`,o.style.display="none",document.body.appendChild(o),o.click(),await new Promise(n=>setTimeout(n,1e3));const t=`mailto:${e.correo}?subject=Cotizaci\xF3n para ${e.cliente}&body=Estimado(a) ${e.cliente},%0D%0A%0D%0AAdjuntamos su cotizaci\xF3n (reci\xE9n descargada).%0D%0A%0D%0ASaludos cordiales,`;window.location.href=t,setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},1e3),this.$q.notify({message:"Abriendo cliente de correo...",color:"info"})}catch(a){console.error(a),this.$q.notify({message:"Error al enviar la cotizaci\xF3n",color:"negative"})}},checkPageOverflow(e,a,o,t=10){const n=e.internal.pageSize.height;return a+o>n-t?(e.addPage(),margins.top):a},async descargarCotizacionCano(e){try{let ie=function(s){return s.map(f=>{const u=f.adultos,y=f.ni\u00F1os,w=`1x${u}`;return y>0?`${w} CHD`:w}).join(", ")},F=function(s){for(let f=0;f<=6;f++){const u=C.left+f*I;h.line(u,s,u,s+U)}h.line(C.left,s,G-C.right,s),h.line(C.left,s+U,G-C.right,s+U)};const[a,o,t]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const n=o.data[0],i=t.data[0];console.log("impuesto",i);const l=a.data;console.log("habitacion",l);const d=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${n.cliente}`);console.log("clienteResponse",d);const g=d.data[0];console.log("clienteData",g);const E=g.tipoBase,b=await te.get(`https://backmultidestinos.onrender.com/user/${n.CreadorCotizacion}`),A=b.Data;console.log("vendedor",b.data.nombreCompleto);const X={hotel:n.hotel,nombrePrograma:n.nombrePrograma,destino:n.destino},M=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",X),v=M.data[0].incluye,p=M.data[0].noIncluye,h=new kt,C={top:15,bottom:10,left:15,right:15},G=h.internal.pageSize.width,Z=h.internal.pageSize.height,S=50,L={left:15,right:15,top:10,bottom:10},we=await new Promise((s,f)=>{const u=new Image;u.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",u.onload=()=>s(u),u.onerror=f}),de=we.width/we.height,he=G/4-L.left-L.right,Ve=Math.min(120,he),Te=Ve/de,oe=C.top+(S-Te)/2,fe=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,K=`Numero de cotizaci\xF3n: ${e}`;h.addImage(we,"PNG",C.left+L.left,oe,Ve,Te);const ne=G-C.left-C.right-Ve-L.left-L.right-20;h.setFontSize(10),h.setFont("Helvetica","normal"),h.text(h.splitTextToSize(fe,ne),C.left+Ve+L.left+L.right,C.top+15);const ke=G-C.right-h.getTextWidth(K)-L.right;h.setFontSize(14),h.setFont("Helvetica-Bold"),h.text(K,ke,C.top+15),h.setDrawColor(0),h.setLineWidth(.5),h.roundedRect(C.left,C.top,G-C.left-C.right,S,10,10,"S"),h.setFillColor(51,102,204),h.rect(C.left,C.top,G-C.left-C.right,S,"F"),h.setFontSize(10);const De=C.top+S+10;h.setFontSize(10),h.text("SOLICITUD DE RESERVA:",C.left,De-4),h.setFontSize(8);const D=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],Se=[new Date(n.fechaCreacion).toLocaleDateString(),n.cliente.toString(),g.telefono?g.telefono.toString():"N/A",g.nit?g.nit.toString():"N/A",g.nit?g.nit.toString():"N/A",b.data.nombreCompleto?b.data.nombreCompleto.toString():"N/A"],Ae=6,P=(G-C.left-C.right)/Ae;let ue=C.left,Y=De;for(let s=0;s<D.length;s++){h.text(D[s],ue,Y);const f=Se[s]!==void 0?Se[s]:"N/A",u=h.splitTextToSize(f,P-2);h.text(u,ue,Y+5),ue+=P,((s+1)%Ae===0||s===D.length-1)&&(Y+=15,ue=C.left)}const Fe=ie(l),_=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],V=[n.noches?n.noches.toString():"N/A",n.hotel?n.hotel.toString():"N/A",n.plan?n.plan.toString():"N/A",n.destino?n.destino.toString():"N/A",n.direccion?n.direccion.toString():"N/A",Fe.toString()];console.log("campso2",V);const T=6,W=(G-C.left-C.right)/T;Y+=1;for(let s=0;s<_.length;s++){h.text(_[s],ue,Y);const f=V[s]!==void 0?V[s]:"N/A",u=h.splitTextToSize(f,W-2);h.text(u,ue,Y+5),ue+=W}Y+=1,h.setFontSize(10),h.text("ITINERARIO: ",C.left,Y+12),Y+=20;const j=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],pe=[[n.aerolineaIda||"N/A",n.vueloIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta1||"N/A",n.claseIda||"N/A",n.horaSalidaIda||"N/A",n.horaLlegadaIda||"N/A",n.recordIda||"N/A"]];n.aerolineaEscalaIda!=null&&(pe.push([n.aerolineaEscalaIda||"N/A",n.vueloEscalaIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",n.claseEscalaIda||"N/A",n.horaSalidaEscalaIda||"N/A",n.horaLlegadaEscalaIda||"N/A",""]),pe.push([n.aerolineaEscalaVuelta||"N/A",n.vueloEscalaVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",n.claseEscalaVuelta||"N/A",n.horaSalidaEscalaVuelta||"N/A",n.horaLlegadaEscalaVuelta||"N/A",""])),pe.push([n.aerolineaVuelta||"N/A",n.vueloVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta2||"N/A",n.claseVuelta||"N/A",n.horaSalidaVuelta||"N/A",n.horaLlegadaVuelta||"N/A",n.recordVuelta||"N/A"]);const B=(G-C.left-C.right)/j.length,me=G-C.left-C.right,He=10+8*pe.length;h.rect(C.left,Y,me,He,"S"),h.setFontSize(8),j.forEach((s,f)=>{h.text(s,C.left+f*B,Y+5)}),Y+=10,pe.forEach((s,f)=>{s.forEach((u,y)=>{h.text(u,C.left+y*B,Y+f*8)})}),Y+=He+5;const Ye="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Me=Y-10,Xe=30;h.setDrawColor(0),h.rect(C.left,Me,G-C.left-C.right,Xe),h.setFontSize(12),h.text("OBSERVACIONES:",C.left+2,Me+6),h.setFontSize(10),h.text(Ye,C.left+2,Me+15,{maxWidth:G-C.left-C.right-4});let Ee=6;const ea=Y+25,ta=v.split("\xBF"),ve=6,je=5;let oa=0;ta.forEach(s=>{oa+=h.getTextDimensions(s.trim(),{fontSize:8,maxWidth:G-C.left-C.right-4}).h});const ze=oa+ve+je+10;h.setDrawColor(0),h.rect(C.left,ea,G-C.left-C.right,ze),h.setFontSize(12),h.text("INCLUYE:",C.left+2,ea+6),h.setFontSize(8);let J=ea+ve+je;ta.forEach(s=>{h.text(s.trim(),C.left+2,J,{maxWidth:G-C.left-C.right-4}),J+=h.getTextDimensions(s.trim(),{fontSize:8,maxWidth:G-C.left-C.right-4}).h}),h.addPage(),Y=C.top;const ge=12;h.setFontSize(10),h.text("LIQUIDACI\xD3N:",C.left,Y),Y+=5;const re=Y+5,Q=2,U=6,I=(G-C.left-C.right)/6;h.setDrawColor(0);let ca=0;h.setFontSize(7);let ee=0;l.forEach(s=>{const f=re+ee*U;F(f);const u=`Valor adul ${s.acomodacion}`;h.text(u,C.left+Q,f+U/2,{baseline:"middle"});const y=Math.round(s.precioComisionableAdulto);h.text(y.toString(),C.left+I+Q,f+U/2,{baseline:"middle"});const w=s.adultos;h.text(w.toString(),C.left+2*I+Q,f+U/2,{baseline:"middle"});const x=Math.round(s.precioComisionableAdulto*s.adultos);if(h.text(x.toString(),C.left+3*I+Q,f+U/2,{baseline:"middle"}),ee===0){h.setFontSize(6);const $=E==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";h.text($,C.left+4*I+Q,f+U/2,{baseline:"middle"}),h.setFontSize(7)}let z=x;if(s.ni\u00F1os>0&&(z+=Math.round(s.precioComisionableNino*s.ni\u00F1os)),ca+=z,ee++,s.ni\u00F1os>0){const $=re+ee*U;F($);const Ge=`Valor child ${s.acomodacion}`;h.text(Ge,C.left+Q,$+U/2,{baseline:"middle"});const aa=Math.round(s.precioComisionableNino);h.text(aa.toString(),C.left+I+Q,$+U/2,{baseline:"middle"});const Je=s.ni\u00F1os;h.text(Je.toString(),C.left+2*I+Q,$+U/2,{baseline:"middle"});const $e=Math.round(s.precioComisionableNino*s.ni\u00F1os);h.text($e.toString(),C.left+3*I+Q,$+U/2,{baseline:"middle"}),ee++}}),h.text(ca.toString(),C.left+5*I+Q,re+U/2,{baseline:"middle"}),Y=re+ee*U+10;const We=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],la=[n.otros,n.combus,n.iva,n.tasa,n.ta,n.ivaTa,i.defensaCivil_Total,i.alcaldiaNacional_Total,i.alcaldiaExtranjero_Total,i.pqsNaturalesExtranjero_Total,i.pqsNaturales25a65_Total,i.pqsNaturales5a24_Total,i.cormacarenaExtranjero_Total,i.cormacarena5a11_Total,i.cormacarena12a65_Total,n.precioTrans],Ue=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],Ze={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(n.suplemento>0&&(We.push("SUPLEMENTO"),la.push(n.suplemento)),n.extra1)if(n.extra1.includes("*")){let s=n.extra1.split("*"),f=s[0],u=s[1];We.push("Valor Extra","Valor Extra2"),la.push(f,u)}else{let s=n.extra1;We.push("Valor Extra"),la.push(s)}We.forEach((s,f)=>{const u=Y+f*U;F(u);const y=Ze[s]||s;h.text(y,C.left+Q,u+U/2,{baseline:"middle"});const w=n.totalPasajeros,x=la[f]||0;let z="";if(Ue.includes(s)){const Je=`${s}_numeroPersonas`,$e=i[Je]||0;z=$e!==0?Math.trunc(x/$e):""}else z=w!==0?Math.trunc(x/w):"";h.text(z.toString(),C.left+I+Q,u+U/2,{baseline:"middle"});const $=w!==0?Math.trunc(w).toString():"";let Ge="";if(Ue.includes(s)){const Je=`${s}_numeroPersonas`;Ge=i[Je]||""}else Ge=$;h.text(Ge,C.left+2*I+Q,u+U/2,{baseline:"middle"});const aa=x!==0?Math.trunc(x).toString():"";if(h.text(aa,C.left+3*I+Q,u+U/2,{baseline:"middle"}),s==="Q"){h.text("Porcentaje",C.left+4*I+Q,u+U/2,{baseline:"middle"});const Je=n.clientePorcentaje||0,$e=Math.trunc(Je).toString()+"%";h.text($e,C.left+5*I+Q,u+U/2,{baseline:"middle"})}else if(s==="YS"){h.text("Valor Descuento",C.left+4*I+Q,u+U/2,{baseline:"middle"});const Je=n.valorDescuento||0,$e=Math.trunc(Je).toString();h.text($e,C.left+5*I+Q,u+U/2,{baseline:"middle"}),E==="Comisi\xF3n"&&[{label:`IVA(${g.porcentajeIva}%) (-)`,value:n.ivaValor},{label:`RTE FUENTE(${g.rteFuente}%) (+)`,value:n.rteFuente},{label:`RTE ICA(${g.rteIca}%) (+)`,value:n.rteIca},{label:"Total Comisi\xF3n",value:n.totalComision}].forEach((pa,ja)=>{const va=u+(ja+1)*U;F(va),h.text(pa.label,C.left+4*I+Q,va+U/2,{baseline:"middle"}),h.text(pa.value.toString(),C.left+5*I+Q,va+U/2,{baseline:"middle"})})}}),Y+=We.length*U,l.forEach(s=>{if(s.adultos>0){const f=Y;F(f),h.text(`Valor total Adt ${s.acomodacion}`,C.left+Q,f+U/2,{baseline:"middle"});const u=s.precioHabitacionAdulto||0,y=Ta(u).format("$0,0");h.text(y,C.left+3*I+Q,f+U/2,{baseline:"middle"}),Y+=U}if(s.ni\u00F1os>0){const f=Y;F(f),h.text(`Valor total Chd ${s.acomodacion}`,C.left+Q,f+U/2,{baseline:"middle"});const u=s.precioHabitacionNino||0,y=Ta(u).format("$0,0");h.text(y,C.left+3*I+Q,f+U/2,{baseline:"middle"}),Y+=U}}),h.setFontSize(8),Y+=U,F(Y),h.text("Valor total",C.left+Q,Y+U/2,{baseline:"middle"});const be=n.precioBrutoTotal||0,Oe=Ta(be).format("$0,0");h.text(Oe,C.left+3*I+Q,Y+U/2,{baseline:"middle"}),h.text("Precio a pagar",C.left+4*I+Q,Y+U/2-2,{baseline:"middle"}),h.text("a Multidestinos",C.left+4*I+Q,Y+U/2+2,{baseline:"middle"});const Ce=parseFloat(n.suplemento)||0,Re=parseFloat(n.totalPrecioCliente)||0,ye=Ce>0?Re+Ce:Re,Pe=Ta(ye).format("$0,0");h.text(Pe,C.left+5*I+Q,Y+U/2,{baseline:"middle"}),Y+=U+10;const Be=C.left;let qe=Y+5;const Qe=190;let Ke=30;h.setFontSize(7),h.setLineWidth(.5);const ma="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",da=h.splitTextToSize(ma,Qe-10);qe+Ke>Z-C.bottom&&(h.addPage(),Y=C.top,qe=Y+5),h.text("Deposito y Condiciones de Pago",Be+5,qe+3),h.setFontSize(6);const ha=5;Ke=20+da.length*ha,h.rect(Be,qe,Qe,Ke),da.forEach((s,f)=>{h.text(s,Be+5,qe+10+f*ha)}),Y+=Ke+5;const r=h.output("blob");return h.save(`cotizacion_${e}.pdf`),r}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},async descargarCotizacion(e){try{let ue=function(u){return u.map(y=>{const w=y.adultos,x=y.ni\u00F1os,z=`1x${w}`;return x>0?`${z} CHD`:z}).join(", ")},We=function(u){for(let y=0;y<=6;y++){const w=p.left+y*ee;v.line(w,u,w,u+F)}v.line(p.left,u,h-p.right,u),v.line(p.left,u+F,h-p.right,u+F)};const[a,o]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const t=o.data[0];console.log("cotizacion",t);const n=a.data;console.log("habitacion",n);const i=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${t.cliente}`);console.log("clienteResponse",i);const l=i.data[0];console.log("clienteData",l);const d=l.tipoBase,g=await te.get(`https://backmultidestinos.onrender.com/user/${t.CreadorCotizacion}`),E=g.Data;console.log("vendedor",g.data.nombreCompleto);const b={hotel:t.hotel,nombrePrograma:t.nombrePrograma,destino:t.destino},A=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",b),X=t.incluye?t.incluye:A.data[0].incluye,M=t.noIncluye?t.noIncluye:A.data[0].noIncluye,v=new kt,p={top:10,bottom:10,left:10,right:10},h=v.internal.pageSize.width,C=v.internal.pageSize.height,G=40,Z={left:10,right:10,top:5,bottom:5},S=await new Promise((u,y)=>{const w=new Image;w.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",w.onload=()=>u(w),w.onerror=y}),L=S.width/S.height,we=h/4-Z.left-Z.right,de=Math.min(100,we),he=de/L,Ve=p.top+(G-he)/2,Te=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,oe=`Numero de cotizaci\xF3n: ${e}`;v.addImage(S,"PNG",p.left+Z.left,Ve,de,he);const fe=h-p.left-p.right-de-Z.left-Z.right-10;v.setFontSize(10),v.text(v.splitTextToSize(Te,fe),p.left+de+Z.left+Z.right,p.top+10);const K=h-p.right-v.getTextWidth(oe)-Z.right;v.setFontSize(12),v.setFont("Helvetica-Bold",12),v.text(oe,K,p.top+10),v.setDrawColor(0),v.rect(p.left,p.top,h-p.left-p.right,G,"S"),v.setFontSize(10);const ne=p.top+G+10;v.setFontSize(10),v.text("SOLICITUD DE RESERVA:",p.left,ne-4),v.setFontSize(8);const ke=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],De=[new Date(new Date(t.fechaCreacion).getTime()+new Date(t.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),t.cliente.toString(),l.telefono?l.telefono.toString():"N/A","N/A",l.nit?l.nit.toString():"N/A",g.data.nombreCompleto?g.data.nombreCompleto.toString():"N/A"],D=6,Se=(h-p.left-p.right)/D;let Ae=p.left,P=ne;for(let u=0;u<ke.length;u++){v.text(ke[u],Ae,P);const y=De[u]!==void 0?De[u]:"N/A",w=v.splitTextToSize(y,Se-2);v.text(w,Ae,P+5),Ae+=Se,((u+1)%D===0||u===ke.length-1)&&(P+=15,Ae=p.left)}const Y=ue(n),ie=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],Fe=[t.noches?t.noches.toString():"N/A",t.hotel?t.hotel.toString():"N/A",t.plan?t.plan.toString():"N/A",t.destino?t.destino.toString():"N/A",t.direccion?t.direccion.toString():"N/A",Y.toString()];console.log("campso2",Fe);const _=6,V=(h-p.left-p.right)/_;P+=1;for(let u=0;u<ie.length;u++){v.text(ie[u],Ae,P);const y=Fe[u]!==void 0?Fe[u]:"N/A",w=v.splitTextToSize(y,V-2);v.text(w,Ae,P+5),Ae+=V}P+=22,v.setFontSize(10),v.text("ITINERARIO: ",p.left,P-10);const T=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],W=[[t.aerolineaIda||"N/A",t.vueloIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta1||"N/A",t.claseIda||"N/A",t.horaSalidaIda||"N/A",t.horaLlegadaIda||"N/A",t.recordIda||"N/A"]];t.aerolineaEscalaIda!=null&&(W.push([t.aerolineaEscalaIda||"N/A",t.vueloEscalaIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",t.claseEscalaIda||"N/A",t.horaSalidaEscalaIda||"N/A",t.horaLlegadaEscalaIda||"N/A",""]),W.push([t.aerolineaEscalaVuelta||"N/A",t.vueloEscalaVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",t.claseEscalaVuelta||"N/A",t.horaSalidaEscalaVuelta||"N/A",t.horaLlegadaEscalaVuelta||"N/A",""])),W.push([t.aerolineaVuelta||"N/A",t.vueloVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta2||"N/A",t.claseVuelta||"N/A",t.horaSalidaVuelta||"N/A",t.horaLlegadaVuelta||"N/A",t.recordVuelta||"N/A"]);const j=(h-p.left-p.right)/T.length,pe=h-p.left-p.right,B=12+8*W.length;P+=5,v.rect(p.left,P-5,pe,B,"S"),v.setFontSize(8),T.forEach((u,y)=>{v.text(u,p.left+y*j,P)}),P+=5,W.forEach((u,y)=>{u.forEach((w,x)=>{v.text(w,p.left+x*j,P+(y+1)*8)})}),P+=B-5;const me="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",He=P+10,Ye=30;v.setDrawColor(0),v.rect(p.left,He,h-p.left-p.right,Ye),v.setFontSize(12),v.text("OBSERVACIONES:",p.left+2,He+6),v.setFontSize(10),v.text(me,p.left+2,He+15,{maxWidth:h-p.left-p.right-4});let Me=6;const Xe=P+50,Ee=X.split("\xBF"),ea=6,ta=5;let ve=0;Ee.forEach(u=>{ve+=v.getTextDimensions(u.trim(),{fontSize:8,maxWidth:h-p.left-p.right-4}).h});const je=ve+ea+ta+10;v.setDrawColor(0),v.rect(p.left,Xe,h-p.left-p.right,je),v.setFontSize(12),v.text("INCLUYE:",p.left+2,Xe+6),v.setFontSize(8);let oa=Xe+ea+ta;Ee.forEach(u=>{v.text(u.trim(),p.left+2,oa,{maxWidth:h-p.left-p.right-4}),oa+=v.getTextDimensions(u.trim(),{fontSize:8,maxWidth:h-p.left-p.right-4}).h}),v.addPage(),P=p.top;const ze=12,J=P+5,ge=M.split(`
`).flatMap(u=>u.split("\xBF").map(y=>y.trim()));v.setDrawColor(0),v.rect(p.left,J,h-p.left-p.right,0),v.setFont("helvetica"),v.setFontSize(10),v.setTextColor(0),v.text("NO INCLUYE:",p.left+2,J+6),v.setFontSize(8),Me=3;let re=J+ze,Q=!1;ge.forEach((u,y)=>{if(u==="")return;const w=Q?Me/3:Me,x=re+w;v.text(u,p.left+10,x,{maxWidth:h-p.left-p.right-10}),re=x+Me,Q=u.endsWith("\xBF")});const U=re-J;v.rect(p.left,J,h-p.left-p.right,U),P=re+15,v.setFontSize(10),v.text("LIQUIDACI\xD3N:",p.left,P),P+=5;const _e=P+5,I=2,F=6,ee=(h-p.left-p.right)/6;v.setDrawColor(0);let la=0;v.setFontSize(7);let Ue=0;n.forEach(u=>{const y=_e+Ue*F;We(y);const w=`Valor adul ${u.acomodacion}`;v.text(w,p.left+I,y+F/2,{baseline:"middle"});const x=Math.round(u.precioComisionableAdulto);v.text(x.toString(),p.left+ee+I,y+F/2,{baseline:"middle"});const z=u.adultos;console.log("numAdultos",z),v.text(z.toString(),p.left+2*ee+I,y+F/2,{baseline:"middle"});const $=Math.round(u.precioComisionableAdulto*u.adultos);if(v.text($.toString(),p.left+3*ee+I,y+F/2,{baseline:"middle"}),Ue===0){v.setFontSize(6);const aa=d==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";v.text(aa,p.left+4*ee+I,y+F/2,{baseline:"middle"}),v.setFontSize(7)}let Ge=$;if(u.ni\u00F1os>0&&(Ge+=Math.round(u.precioComisionableNino*u.ni\u00F1os)),la+=Ge,Ue++,u.ni\u00F1os>0){const aa=_e+Ue*F;We(aa);const Je=`Valor child ${u.acomodacion}`;v.text(Je,p.left+I,aa+F/2,{baseline:"middle"});const $e=Math.round(u.precioComisionableNino);v.text($e.toString(),p.left+ee+I,aa+F/2,{baseline:"middle"});const fa=u.ni\u00F1os;v.text(fa.toString(),p.left+2*ee+I,aa+F/2,{baseline:"middle"});const pa=Math.round(u.precioComisionableNino*u.ni\u00F1os);v.text(pa.toString(),p.left+3*ee+I,aa+F/2,{baseline:"middle"}),Ue++}}),v.text(la.toString(),p.left+5*ee+I,_e+F/2,{baseline:"middle"}),P=_e+Ue*F+10;const Ze=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"],be=[],Oe=[];if(Array.isArray(n)?n.forEach(u=>{Ze.forEach(y=>{const w=u[y];w!=null&&w!=null&&w!==""&&(be.push(y),Oe.push(w))})}):typeof n=="object"&&n!==null&&Ze.forEach(u=>{const y=n[u];y!=null&&y!=null&&y!==""&&(be.push(u),Oe.push(y))}),be.push("TRANSPORTE NO COMISI"),Oe.push(t.otros),be.push("Q"),Oe.push(t.combus),be.push("YS"),Oe.push(t.iva),be.push("CO"),Oe.push(t.tasa),be.push("TA"),Oe.push(t.ta),be.push("YS TA"),Oe.push(t.ivaTa),be.push("TOTAL IMPUESTOS"),Oe.push(t.precioTrans),t.suplemento>0&&(be.push("SUPLEMENTO"),Oe.push(t.suplemento)),t.suplemento>0&&(be.push("SUPLEMENTO"),Oe.push(t.suplemento)),t.extra1)if(t.extra1.includes("*")){let u=t.extra1.split("*"),y=u[0],w=u[1];be.push("Valor Extra","Valor Extra2"),Oe.push(y,w)}else{let u=t.extra1;be.push("Valor Extra"),Oe.push(u)}be.forEach((u,y)=>{const w=P+y*F;We(w),v.text(u,p.left+I,w+F/2,{baseline:"middle"});const x=t.totalPasajeros,z=Oe[y]||0,$=x!==0?Math.trunc(z/x):"";v.text($.toString(),p.left+ee+I,w+F/2,{baseline:"middle"});const Ge=x!==0?Math.trunc(x).toString():"";v.text(Ge,p.left+2*ee+I,w+F/2,{baseline:"middle"});const aa=z!==0?Math.trunc(z).toString():"";if(v.text(aa,p.left+3*ee+I,w+F/2,{baseline:"middle"}),u==="Q"){v.text("Porcentaje",p.left+4*ee+I,w+F/2,{baseline:"middle"});const Je=t.clientePorcentaje||0,$e=Math.trunc(Je).toString()+"%";v.text($e,p.left+5*ee+I,w+F/2,{baseline:"middle"})}else if(u==="YS"){v.text("Valor Descuento",p.left+4*ee+I,w+F/2,{baseline:"middle"});const Je=t.valorDescuento||0,$e=Math.trunc(Je).toString();v.text($e,p.left+5*ee+I,w+F/2,{baseline:"middle"}),d==="Comisi\xF3n"&&[{label:`IVA(${l.porcentajeIva}%) (-)`,value:t.ivaValor},{label:`RTE FUENTE(${l.rteFuente}%) (+)`,value:t.rteFuente},{label:`RTE ICA(${l.rteIca}%) (+)`,value:t.rteIca},{label:"Total Comisi\xF3n",value:t.totalComision}].forEach((pa,ja)=>{const va=w+(ja+1)*F;We(va),v.text(pa.label,p.left+4*ee+I,va+F/2,{baseline:"middle"}),v.text(pa.value.toString(),p.left+5*ee+I,va+F/2,{baseline:"middle"})})}}),P+=be.length*F,n.forEach(u=>{if(u.adultos>0){const y=P;We(y),v.text(`Valor total Adt ${u.acomodacion}`,p.left+I,y+F/2,{baseline:"middle"});const w=u.precioHabitacionAdulto||0,x=Ta(w).format("$0,0");v.text(x,p.left+3*ee+I,y+F/2,{baseline:"middle"}),P+=F}if(u.ni\u00F1os>0){const y=P;We(y),v.text(`Valor total Chd ${u.acomodacion}`,p.left+I,y+F/2,{baseline:"middle"});const w=u.precioHabitacionNino||0,x=Ta(w).format("$0,0");v.text(x,p.left+3*ee+I,y+F/2,{baseline:"middle"}),P+=F}}),v.setFontSize(8),P+=F,We(P),v.text("Valor total",p.left+I,P+F/2,{baseline:"middle"});const Ce=t.precioBrutoTotal||0,Re=Ta(Ce).format("$0,0");v.text(Re,p.left+3*ee+I,P+F/2,{baseline:"middle"}),v.text("Precio a pagar",p.left+4*ee+I,P+F/2-2,{baseline:"middle"}),v.text("a Multidestinos",p.left+4*ee+I,P+F/2+2,{baseline:"middle"});const ye=0,Pe=parseFloat(t.totalPrecioCliente)||0,Be=ye>0?Pe+ye:Pe,qe=Ta(Be).format("$0,0");v.text(qe,p.left+5*ee+I,P+F/2,{baseline:"middle"}),P+=F+10;const Qe=p.left;let Ke=P+5;const ma=190;let da=30;v.setFontSize(7),v.setLineWidth(.5),v.setFontSize(6);const ha=5,r="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",s=v.splitTextToSize(r,ma-10);da=20+s.length*ha,Ke+da>C-p.bottom&&(v.addPage(),P=p.top),Ke=P,v.rect(Qe,P,ma,da),v.text("Deposito y Condiciones de Pago",Qe+5,Ke+3),s.forEach((u,y)=>{v.text(u,Qe+5,Ke+10+y*ha)}),P+=da+5;const f=v.output("blob");return v.save(`cotizacion_${e}.pdf`),f}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},handleChildrenChange(e){this.rooms[e].numChildren=this.hasChildren[e]?1:0},async fetchCotizacionData(){try{const e=await te.get("https://backmultidestinos.onrender.com/cotizacion");this.cotizacionData=e.data}catch(e){console.error("Error fetching cotizacion data:",e)}},async fetchClientOptions(){try{console.log("Obteniendo opciones de clientes...");const e=await te.get("https://backmultidestinos.onrender.com/cliente");console.log("Opciones de clientes nombre:",e.data.nombre);const a=e.data.map(o=>o.nombre);console.log("Opciones de clientes:",a),this.clientOptions=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptionCorreo(){this.correo="",this.OptionCorreo=[];try{const a=(await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`)).data.flatMap(o=>o.correo.split(","));this.OptionCorreo=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptions(){try{console.log("Realizando solicitud HTTP para cargar opciones..."),console.log("Salida seleccionada:",this.selectedDeparture);const e=await te.get(`https://backmultidestinos.onrender.com/planes/porCiudad/${this.selectedDeparture}`);console.log("Respuesta del servidor:",e.data);const a={},o={};e.data.forEach(n=>{const i=n.destino;a[i]||(a[i]={programNameOptions:[],hotelOptions:[],nochesOptions:[],accommodationOptions:[]},o[i]={nochesOptions:[]}),a[i].programNameOptions.push(n.nombrePrograma),a[i].hotelOptions.push(...n.hotel.split("*")),a[i].nochesOptions.push(...n.noches.split("*")),a[i].accommodationOptions.push(...n.acomodacion.split("*")),o[i].nochesOptions.push(...n.noches.split("*"))}),this.optionsByDestination=a,this.originalOptionsByDestination=o;const t=e.data.map(n=>n.destino);this.destinationOptions=[...new Set(t)]}catch(e){console.error("Error al cargar opciones:",e)}},updateOptionsByDestination(e){const a=this.optionsByDestination[e];a?(this.programNameOptions=[...new Set(a.programNameOptions)],this.hotelOptions=[...new Set(a.hotelOptions)],this.accommodationOptions=[...new Set(a.accommodationOptions)],this.nochesOptions=[...new Set(a.nochesOptions)].map(o=>({label:o,value:parseInt(o.split(" ")[0])})),this.programName=null,this.noche=null,this.hotel=null):(this.programNameOptions=[],this.hotelOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.programName=null,this.noche=null,this.hotel=null)},buscarTiposDeHabitacion(){te.post("https://backmultidestinos.onrender.com/hoteles/buscar",this.params).then(e=>{const a=e.data.map(t=>t.tipoDeHabitacion),o=[...new Set(a)];this.tipoDeHabitacionOptions=o}).catch(e=>{console.error("Error al buscar hoteles:",e)})},handleDepartureChange(){this.clearFieldsc(),this.destinationOptions=[],this.programNameOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.OptionCorreo=[],this.hotelOptions=[],this.roomTypeOptions=[],console.log("Cambio en la selecci\xF3n de salida. Cargando opciones..."),this.fetchOptions(),this.fetchClientOptions()},handleSelectionChangeTipo(e){e.value,this.paramsN.hotel=this.hotel,this.paramsN.nombrePrograma=this.programName,this.paramsN.destino=this.destination,this.paramsN.noches=this.noche.label,this.paramsN.pertenece=this.selectedDeparture,console.log("noche escogida",this.noche.label),console.log(this.paramsN),te.post("https://backmultidestinos.onrender.com/hoteles/buscarN",this.paramsN).then(a=>{console.log("hola",a.data);const o=a.data.map(n=>n.tipoHabitacion),t=[...new Set(o)];console.log(t),this.roomTypeOptions=t}).catch(a=>{console.error("Error al buscar hoteles:",a)})},openModalPersonalizado(){this.modalVisiblePersonalizado=!0},openModal(){this.modalVisible=!0},closeModalPersonalizado(){this.modalVisiblePersonalizado=!1,this.clearFieldsPersonalizado()},closeModal(){this.modalVisible=!1,this.clearFields()},resetVariables(){this.aerolineaEscalaIda="",this.vueloEscalaIda="",this.horaLlegadaEscalaIda="",this.horaSalidaEscalaIda="",this.claseEscalaIda="",this.aerolineaEscalaVuelta="",this.vueloEscalaVuelta="",this.horaLlegadaEscalaVuelta="",this.horaSalidaEscalaVuelta="",this.claseEscalaVuelta="",this.aerolineaValue1="",this.vueloValue1="",this.aerolineaValue2="",this.vueloValue2="",this.horaSalidaValue1="",this.horaLlegadaValue1="",this.horaSalidaValue2="",this.horaLlegadaValue2="",this.claseValue1="",this.claseValue2="",this.totalAdultos=0,this.totalNi\u00F1os=0,this.hasChildren=[],this.additionalNightSelected=!1,this.additionalNightCount=0,this.habitacionesDatos=[],this.totalImpuestos=0,this.sumaTotalAcomodacion=0,this.sumaValorBrutohab=0,this.sumaTotalDescuento=0,this.childrenPriceNumber=0,this.cormacarena5a11Total=0,this.cormacarena12a65Total=0,this.cormacarenaExtranjeroTotal=0,this.pqsNaturales5a24Total=0,this.pqsNaturales25a65Total=0,this.pqsNaturalesExtranjeroTotal=0,this.alcaldiaNacionalTotal=0,this.alcaldiaExtranjeroTotal=0,this.defensaCivilTotal=0,this.cormacarena5a11Personas=0,this.cormacarena12a65Personas=0,this.cormacarenaExtranjeroPersonas=0,this.pqsNaturales5a24Personas=0,this.pqsNaturales25a65Personas=0,this.pqsNaturalesExtranjeroPersonas=0,this.alcaldiaNacionalPersonas=0,this.alcaldiaExtranjeroPersonas=0,this.defensaCivilPersonas=0},async obtenerInformacionTiquete(e,a){try{const o=await te.get(`https://backmultidestinos.onrender.com/tiquete/buscar/${e}/${a}`);return console.log("Informaci\xF3n del tiquete:",o.data),o.data}catch(o){throw console.error("Error al obtener la informaci\xF3n del tiquete:",o),o}},async saveFormData(){var E,b,A,X,M,v;if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,i=0,l=0;const g=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",g);try{const p=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",p);let h=null,C=null,G=null,Z=null,S=null;p.data.forEach(_=>{_.nombre===this.selectedClient&&(h=this.programName==="Ca\xF1o Cristales"?parseFloat(_.lmc):parseFloat(_.demas),C=_.tipoBase,G=_.rteFuente,Z=_.rteIca,S=_.porcentajeIva)}),console.log("clientePorcentaje",h),console.log("clienteTipoBase",C),console.log("rteFuente",G),console.log("rteIca",Z),console.log("ivaValor",S);const L=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",L);const we=L[0].total,de=parseFloat(we);console.log("tiquete",we),console.log("tiqueteNum",de);let he=0;if(this.supplementValues)for(let _=0;_<this.supplementValues.length;_++)this.supplementValues[_]&&(console.log("persona",[_],this.supplementValues[_]),he+=parseFloat(this.supplementValues[_])-de),console.log("Total suplemento",[_],he);console.log("Valor del suplemento:",he);const Ve=[];this.rooms.forEach((_,V)=>{const T={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:_.roomType,noches:this.noche.value};Ve.push(T)}),console.log("edades",Ve);try{const _=await Promise.all(Ve.map(B=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",B)));console.log("preciosResponseArray",_),console.log("preciosResponseArray data",_.data);const V=[];_.forEach(B=>{B.data.length>0?V.push(...B.data):console.log("No se encontraron datos en esta respuesta")}),console.log(V),this.plan=V[0].plan;const T={pertenece:this.selectedDeparture,destino:this.destination},W=await te.get("https://backmultidestinos.onrender.com/transporte/buscar",{params:T});console.log("transporteResponse",W),console.log("entrando a trans"),W.data.forEach(B=>{console.log("transporte.combus",B.combus),e+=parseFloat(B.combus)||0,console.log("combus",e),a+=parseFloat(B.tasa)||0,o+=parseFloat(B.iva)||0,t+=parseFloat(B.ta)||0,n+=parseFloat(B.ivaTa)||0,i+=parseFloat(B.otros)||0,l+=parseFloat(B.total)||0}),console.log("saliendo de trans trans"),console.log("normalcombus",e),console.log("this.normalcombus",this.combus),console.log("precioTrans",this.precioTrans);let j=0,pe=[];await Promise.all(this.rooms.map(async(B,me)=>{console.log(`Procesando habitaci\xF3n ${me+1}`);const He=B.accommodation,Ye=B.roomType;console.log(`Tipo de habitaci\xF3n seleccionado: ${Ye}`);const Me=V.find(ve=>ve.tipoHabitacion===Ye);console.log("Datos de precio encontrados:",Me);const Xe=B.accommodation,Ee=B.roomType,ea={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:Ee,noches:`${this.noche.value} noches`};console.log("noche escogida",this.noche.value),console.log(ea);let ta;try{const ve=await te.get("https://backmultidestinos.onrender.com/transporte/por-parametros",{params:ea}),je=Object.keys(ve.data[0]||{}).filter(ze=>ze.toLowerCase().startsWith(He.toLowerCase()+"_"));console.log("Nombres de impuestos por acomodaci\xF3n:",je),this.impuestosParaBD=je.reduce((ze,J)=>{const ge=`${J.split("_")[0]}_${J.split("_")[1]}`;return ze[ge]=ve.data[0][J],ze},{}),console.log("Impuestos para la BD:",ta);const oa=V.find(ze=>ze.tipoHabitacion===Ye);console.log("Datos de precio encontrados:",oa)}catch(ve){console.error("Error al buscar transportes:",ve)}if(Me){const ve=Me[He];console.log(`la acomodacio es: ${He}`),console.log(`Precio de la acomodaci\xF3n: ${ve}`),B.accommodationPrice=ve;let je=0,oa=0;this.hasChildren[me]&&(j=Me.ni\u00F1o,console.log("childrenPrice",j),this.childrenPriceNumber=parseFloat(j.replace(/\./g,"")),je+=j),console.log("childrenPriceNumber1",this.childrenPriceNumber);let ze=0,J=0;if(this.additionalNightSelected&&this.additionalNightCount>0){const ye=parseFloat(Me[`nocheAdicional${He}`].replace(/\./g,""));console.log("additionalNightPriceAdulto",ye);const Pe=this.additionalNightCount;if(console.log("nochesAdicionales",Pe),ze=ye*this.additionalNightCount,console.log("additionalNightTotalPriceAdulto",ze),je+=ze,this.hasChildren[me]){const Be=parseFloat(Me.nocheAdicionalni\u00F1o.replace(/\./g,""));console.log("additionalNightPriceNi\xF1o",Be),J=Be*this.additionalNightCount*B.numChildren,console.log("additionalNightTotalPriceNi\xF1o",J),je+=J}}const ge=parseFloat(ve.replace(/\./g,""));console.log("accommodationPriceNumber",ge),console.log("precioTrans",l);const re=ge-l+(this.additionalNightSelected?ze:0);this.ValorComisionableNi\u00F1os=0;let Q=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[me]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+J,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(h/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",re),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const U=re-re*(h/100);console.log("ValorClienteAdulto",U),console.log("ValorClienteNi\xF1o",Q);const _e=U+Q;console.log("ValorCliente",_e);const I=parseInt(B.adults);console.log("numAdultos",I);const F=this.hasChildren[me]?B.numChildren:0,ca=ge*I,ee=(this.childrenPriceNumber?this.childrenPriceNumber:0)*F;let We=ca+ee;console.log("valorBrutoAdulto",ca),console.log("valorBrutoni\xF1o",ee),console.log("valorBrutoTotal",We),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${me+1}: ${I}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${me+1}: ${F}`);const la=U*I;console.log("TotalAcomodacionAdulto",la);let Ue=this.ValorClienteNi\u00F1o*F;console.log("TotalAcomodacionNi\xF1o",Ue),(Ue===null||isNaN(Ue))&&(Ue=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",Ue);let Ze=Ue+la;console.log("TotalAcomodacion",Ze),console.log("totalAdultos",I),this.totalAdultos+=I,console.log("totalAdultos",I),this.totalNi\u00F1os+=F;const be=re*I+this.ValorComisionableNi\u00F1os*F,Oe=be*(h/100);console.log("descuento",Oe),console.log("Valorporcentaje",be);let Ce={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},Re={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",B),B.adultAges.length>0&&this.destination==="La Macarena")for(let ye=0;ye<B.adultAges.length;ye++){const Pe=B.adultAges[ye],Be=B.isForeigner[ye];console.log(`Calculando impuestos para la persona ${ye+1} (edad: ${Pe}, extranjero: ${Be})`);for(const qe of g){const Qe=qe.IMPUESTO;console.log(`Impuesto actual: ${Qe}`),Qe==="cormacarena"?Be?(Ce.cormacarenaExtranjero+=parseFloat(qe.EXTRANJERO)||0,Re.cormacarenaExtranjero++):Pe>=5&&Pe<=11?(Ce.cormacarena5a11+=parseFloat(qe["5 a 11 a\xF1os"])||0,Re.cormacarena5a11++):Pe>=12&&Pe<=65&&(Ce.cormacarena12a65+=parseFloat(qe["12 a 65 a\xF1os"])||0,Re.cormacarena12a65++):Qe==="pqsNaturales"?Be?(Ce.pqsNaturalesExtranjero+=parseFloat(qe.EXTRANJERO)||0,Re.pqsNaturalesExtranjero++):Pe>=5&&Pe<=24?(Ce.pqsNaturales5a24+=parseFloat(qe["5 a 24 a\xF1os"])||0,Re.pqsNaturales5a24++):Pe>=25&&Pe<=65&&(Ce.pqsNaturales25a65+=parseFloat(qe["25 a 65 a\xF1os"])||0,Re.pqsNaturales25a65++):Qe==="alcaldia"?Be?(Ce.alcaldiaExtranjero+=parseFloat(qe.EXTRANJERO)||0,Re.alcaldiaExtranjero++):Pe>=5&&Pe<=1e3&&(Ce.alcaldiaNacional+=parseFloat(qe["12 a 65 a\xF1os"])||0,Re.alcaldiaNacional++):Qe==="defensaCivil"&&(Ce.defensaCivil+=parseFloat(qe["5 a 11 a\xF1os"])||0,Re.defensaCivil++),console.log(`   Impuesto ${Qe} (acumulado): ${Ce[Qe]}`)}}console.log("Impuestos totales por habitaci\xF3n:",Ce);for(const ye in Ce)Ce[ye]===0&&(Ce[ye]=null);console.log("Impuestos calculados para la habitaci\xF3n:",Ce),console.log("N\xFAmero de personas por impuesto:",Re),console.log("        this.impuestosParaBD ",this.impuestosParaBD),this.habitacionesDatos.push({idCotizacion:"",adultos:I,ni\u00F1os:F,acomodacion:He,tipoHabitacion:Ye,precioFlayerAdulto:ge,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:ee,precioHabitacionAdulto:ca,precioHabitacionTotal:We,precioComisionableAdulto:re,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:U,valorDescuentoCliente:_e,descuento:Oe,TotalAcomodacionAdulto:la,TotalAcomodacionNino:Ue,TotalAcomodacion:Ze,edadesAdultos:B.adultAges.filter(ye=>ye!==null).join(","),edadNino:B.childAge!==null?B.childAge:null,extranjero:B.isForeigner.map(ye=>ye?"SI":"NO").join(","),...this.impuestosParaBD}),console.log("habitacionesDatos despu\xE9s del push:",this.habitacionesDatos)}else console.log("No se encontraron datos de precio para esta habitaci\xF3n")}))}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),console.log("ENTRANDOOOOO HABITACION COSOTOS"),this.habitacionesDatos.forEach(_=>{console.log("ENTRANDOOOOO222 HABITACION COSOTOS"),console.log("habitacion.TotalAcomodacion;",_.TotalAcomodacion);const V=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"];this.sumaTotalAcomodacion+=_.TotalAcomodacion,console.log("suma total antes de los totales otros",this.sumaTotalAcomodacion);for(const T in _){console.log("propiedad",T);const W=_[T],j=Number(W);if(V.includes(T)){console.log("si paso",j),console.log("suma total antesitos de los totales otros",this.sumaTotalAcomodacion);const pe=_.adultos*j;_[T]=pe,console.log("cantidad adultos",_.adultos),console.log("cantidad adultos2",pe),console.log("valor despues de multiplicaion",j),_.ni\u00F1os&&(console.log("entro a ni\xF1os"),pe+=_.ni\u00F1os*j,_[T]+=pe,console.log("entro a ni\xF1os valor:",pe)),this.sumaTotalAcomodacion+=pe,this.sumaValorBrutohab+=pe,console.log("suma total despusito de los totales otros",this.sumaTotalAcomodacion)}}console.log("despues suma total antes de los totales otros",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=_.precioHabitacionTotal,this.sumaTotalDescuento+=_.descuento,this.cormacarena5a11Total+=_.cormacarena5a11||0,this.cormacarena12a65Total+=_.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=_.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=_.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=_.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=_.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=_.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=_.alcaldiaExtranjero||0,this.defensaCivilTotal+=_.defensaCivil||0,this.cormacarena5a11Personas+=_.cormacarena5a11Personas,this.cormacarena12a65Personas+=_.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=_.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=_.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=_.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=_.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=_.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=_.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=_.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=he,this.sumaTotalAcomodacion+=he,console.log("valor de sumaValorBrutohab antes de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion antes de extras",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=(A=(b=(E=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?E:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?b:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?A:0,this.sumaTotalAcomodacion+=(v=(M=(X=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?X:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?M:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?v:0,console.log("valor de sumaValorBrutohab despues de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion despues de extras",this.sumaTotalAcomodacion),console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let Te=null,oe=null,fe=null,K=null;C==="Comisi\xF3n"&&(console.log("si es comison"),this.total,K=this.sumaTotalDescuento,S!==null&&S!==0&&(oe=Math.round(this.sumaTotalDescuento*(S/100)),this.ivaCalculado=oe,K+=oe),G!==null&&G!==0&&(Te=Math.round(this.sumaTotalDescuento*(G/100)),this.rteFuenteCalculado=Te,K-=Te),Z!==null&&Z!==0&&(fe=Math.round(this.sumaTotalDescuento*(Z/100)),this.rteIcaCalculado=fe,K-=fe)),console.log("this.ivaCalculado",oe),console.log("this.rteFuenteCalculado",Te),console.log("this.rteIcaCalculado",fe),console.log("this.totalComision",K);const ne=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",ne),console.log("1combus",this.combus),e*=ne,a*=ne,console.log("despuescombus2.0",e),o*=ne,t*=ne,n*=ne,i*=ne,l*=ne,this.sumaTotalAcomodacion+=l,console.log("combus multi",e),console.log("precioTrans",l),C==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-K);const ke=new Date;ke.setHours(0,0,0,0),console.log(ke.toISOString().split("T")[0]);const De=dt.getItem("userData");console.log(De);let D=parseInt(this.noche.value),Se=parseInt(D)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",D),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",Se);const Ae=this.numExtraValues===0?null:[this.extraValue1,this.extraValue2].filter(_=>_!==null&&_!=="").join(this.numExtraValues===2?"*":"");console.log("extraValue1",this.extraValue1),console.log("extraValuesString",Ae),this.programName!=="Ca\xF1o Cristales"?this.tieneImpuestos=!1:this.tieneImpuestos=!0,console.log("llego a formData"),console.log("combus",this.combus);const P={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:Se,plan:this.plan,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:ne,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:o,ta:t,ivaTa:n,otros:i,precioTrans:l,suplemento:he,cliente:this.selectedClient,clientePorcentaje:h,CreadorCotizacion:De.id,fechaCreacion:ke.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:Te,ivaValor:oe,rteIca:fe,totalComision:K,correo:this.correo,transfer:this.transferInOutValue||null,asesorExterno:"this.selectedUser.value || null",extra1:Ae||null,incluye:null,noIncluye:null,status:"pendiente",tieneImpuestos:this.tieneImpuestos};console.log("formData",P),console.log("formData",P);const ue=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",P);ue.data.success&&(console.log("mirar el numero",ue.data.success),console.log("mirar el numero1",ue.data.idCotizacion),this.idCotizacion=ue.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",ue.data),console.log("idCotizacion1",this.idCotizacion);const Y={idCotizacion:this.idCotizacion,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas};if(this.programName=="Ca\xF1o Cristales"){const _=await te.post("https://backmultidestinos.onrender.com/ImpuestoCot",Y)}const ie=this.habitacionesDatos.map(async _=>{_.idCotizacion=this.idCotizacion;const V=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",_);return console.log("Respuesta de la habitaci\xF3n:",V.data),V.data}),Fe=await Promise.all(ie);console.log("Respuestas de todas las habitaciones:",Fe),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.closeModal(),this.resetVariables()}catch(p){console.error("Error al guardar la cotizaci\xF3n:",p),this.closeModal(),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}},async saveFormDataPersonalizado(){if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,i=0,l=0;const g=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",g);try{const E=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",E);let b=null,A=null,X=null,M=null,v=null;E.data.forEach(D=>{D.nombre===this.selectedClient&&(b=this.programName==="Ca\xF1o Cristales"?parseFloat(D.lmc):parseFloat(D.demas),A=D.tipoBase,X=D.rteFuente,M=D.rteIca,v=D.porcentajeIva)}),console.log("clientePorcentaje",b),console.log("clienteTipoBase",A),console.log("rteFuente",X),console.log("rteIca",M),console.log("ivaValor",v);const p=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",p);const h=p[0].total,C=parseFloat(h);console.log("tiquete",h),console.log("tiqueteNum",C);let G=0;if(this.supplementValues)for(let D=0;D<this.supplementValues.length;D++)this.supplementValues[D]&&(console.log("persona",[D],this.supplementValues[D]),G+=parseFloat(this.supplementValues[D])-C),console.log("Total suplemento",[D],G);console.log("Valor del suplemento:",G);const Z=[];try{const D=await Promise.all(Z.map(P=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",P)));console.log("preciosResponseArray",D),console.log("preciosResponseArray data",D.data);const Se=[];D.forEach(P=>{P.data.length>0?Se.push(...P.data):console.log("No se encontraron datos en esta respuesta")}),console.log(Se),e+=parseFloat(this.Combus)||0,a+=parseFloat(this.Tasa)||0,o+=parseFloat(this.Iva)||0,t+=parseFloat(this.Ta)||0,n+=parseFloat(this.IvaTa)||0,i+=parseFloat(this.otros)||0,l+=parseFloat(this.precioTransp)||0,console.log("precioTrans",l);let Ae=0;this.rooms.forEach(async(P,ue)=>{console.log(`Procesando habitaci\xF3n ${ue+1}`);const Y=P.accommodation,ie=P.roomType,Fe=parseFloat(P.valor),_=Fe+parseFloat(l);if(1){const T=P.adults,W=this.hasChildren[ue]?P.numChildren:0,j=_;console.log(`Precio de la acomodaci\xF3n: ${j}`),P.accommodationPrice=j;let pe=0,B=0;console.log("precioTrans",l);const me=Fe;this.ValorComisionableNi\u00F1os=0;let He=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[ue]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+additionalNightTotalPriceNi\u00F1o,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(b/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",me),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Ye=me-me*(b/100);console.log("ValorClienteAdulto",Ye),console.log("ValorClienteNi\xF1o",He);const Me=Ye+He;console.log("ValorCliente",Me);const Xe=j*T,Ee=(this.childrenPriceNumber?this.childrenPriceNumber:0)*W;let ea=Xe+Ee;console.log("valorBrutoAdulto",Xe),console.log("valorBrutoni\xF1o",Ee),console.log("valorBrutoTotal",ea),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${ue+1}: ${T}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${ue+1}: ${W}`);const ta=Ye*T;console.log("TotalAcomodacionAdulto",ta);let ve=this.ValorClienteNi\u00F1o*W;console.log("TotalAcomodacionNi\xF1o",ve),(ve===null||isNaN(ve))&&(ve=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",ve);let je=ve+ta;console.log("TotalAcomodacion",je),this.totalAdultos+=parseInt(T),this.totalNi\u00F1os+=W;const oa=me*T+this.ValorComisionableNi\u00F1os*W,ze=oa*(b/100);console.log("descuento",ze),console.log("Valorporcentaje",oa);let J={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},ge={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",P),P.adultAges.length>0)for(let re=0;re<P.adultAges.length;re++){const Q=P.adultAges[re],U=P.isForeigner[re];console.log(`Calculando impuestos para la persona ${re+1} (edad: ${Q}, extranjero: ${U})`);for(const _e of g){const I=_e.IMPUESTO;console.log(`Impuesto actual: ${I}`),I==="cormacarena"?U?(J.cormacarenaExtranjero+=parseFloat(_e.EXTRANJERO)||0,ge.cormacarenaExtranjero++):Q>=5&&Q<=11?(J.cormacarena5a11+=parseFloat(_e["5 a 11 a\xF1os"])||0,ge.cormacarena5a11++):Q>=12&&Q<=65&&(J.cormacarena12a65+=parseFloat(_e["12 a 65 a\xF1os"])||0,ge.cormacarena12a65++):I==="pqsNaturales"?U?(J.pqsNaturalesExtranjero+=parseFloat(_e.EXTRANJERO)||0,ge.pqsNaturalesExtranjero++):Q>=5&&Q<=24?(J.pqsNaturales5a24+=parseFloat(_e["5 a 24 a\xF1os"])||0,ge.pqsNaturales5a24++):Q>=25&&Q<=65&&(J.pqsNaturales25a65+=parseFloat(_e["25 a 65 a\xF1os"])||0,ge.pqsNaturales25a65++):I==="alcaldia"?U?(J.alcaldiaExtranjero+=parseFloat(_e.EXTRANJERO)||0,ge.alcaldiaExtranjero++):Q>=5&&Q<=1e3&&(J.alcaldiaNacional+=parseFloat(_e["12 a 65 a\xF1os"])||0,ge.alcaldiaNacional++):I==="defensaCivil"&&(J.defensaCivil+=parseFloat(_e["5 a 11 a\xF1os"])||0,ge.defensaCivil++),console.log(`   Impuesto ${I} (acumulado): ${J[I]}`)}}console.log("Impuestos totales por habitaci\xF3n:",J);for(const re in J)J[re]===0&&(J[re]=null);console.log("Impuestos calculados para la habitaci\xF3n:",J),console.log("N\xFAmero de personas por impuesto:",ge),this.habitacionesDatos.push({idCotizacion:"",adultos:T,ni\u00F1os:W,acomodacion:Y,tipoHabitacion:ie,precioFlayerAdulto:j,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:Ee,precioHabitacionAdulto:Xe,precioHabitacionTotal:ea,precioComisionableAdulto:me,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Ye,valorDescuentoCliente:Me,descuento:ze,TotalAcomodacionAdulto:ta,TotalAcomodacionNino:ve,TotalAcomodacion:je,edadesAdultos:P.adultAges.filter(re=>re!==null).join(","),edadNino:P.childAge!==null?P.childAge:null,extranjero:P.isForeigner.map(re=>re?"SI":"NO").join(","),defensaCivil:J.defensaCivil,defensaCivilPersonas:ge.defensaCivil,alcaldiaNacional:J.alcaldiaNacional,alcaldiaNacionalPersonas:ge.alcaldiaNacional,alcaldiaExtranjero:J.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:ge.alcaldiaExtranjero,pqsNaturalesExtranjero:J.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:ge.pqsNaturalesExtranjero,pqsNaturales25a65:J.pqsNaturales25a65,pqsNaturales25a65Personas:ge.pqsNaturales25a65,pqsNaturales5a24:J.pqsNaturales5a24,pqsNaturales5a24Personas:ge.pqsNaturales5a24,cormacarenaExtranjero:J.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:ge.cormacarenaExtranjero,cormacarena5a11:J.cormacarena5a11,cormacarena5a11Personas:ge.cormacarena5a11,cormacarena12a65:J.cormacarena12a65,cormacarena12a65Personas:ge.cormacarena12a65})}})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(D=>{this.sumaTotalAcomodacion+=D.TotalAcomodacion,this.sumaValorBrutohab+=D.precioHabitacionTotal,this.sumaTotalDescuento+=D.descuento,this.cormacarena5a11Total+=D.cormacarena5a11||0,this.cormacarena12a65Total+=D.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=D.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=D.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=D.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=D.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=D.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=D.alcaldiaExtranjero||0,this.defensaCivilTotal+=D.defensaCivil||0,this.cormacarena5a11Personas+=D.cormacarena5a11Personas,this.cormacarena12a65Personas+=D.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=D.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=D.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=D.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=D.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=D.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=D.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=D.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=G,this.sumaTotalAcomodacion+=G,console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let S=null,L=null,we=null,de=null;A==="Comisi\xF3n"&&(console.log("si es comison"),this.total,de=this.sumaTotalDescuento,v!==null&&v!==0&&(L=Math.round(this.sumaTotalDescuento*(v/100)),this.ivaCalculado=L,de+=L),X!==null&&X!==0&&(S=Math.round(this.sumaTotalDescuento*(X/100)),this.rteFuenteCalculado=S,de-=S),M!==null&&M!==0&&(we=Math.round(this.sumaTotalDescuento*(M/100)),this.rteIcaCalculado=we,de-=we)),console.log("this.ivaCalculado",L),console.log("this.rteFuenteCalculado",S),console.log("this.rteIcaCalculado",we),console.log("this.totalComision",de);const he=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",he),e*=he,a*=he,o*=he,t*=he,n*=he,i*=he,l*=he,this.sumaTotalAcomodacion+=l,console.log("combus",e),console.log("precioTrans",l),A==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-de);const Ve=new Date;Ve.setHours(0,0,0,0),console.log(Ve.toISOString().split("T")[0]);const Te=dt.getItem("userData");console.log(Te);let oe=parseInt(this.noche.value),fe=parseInt(oe)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",oe),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",fe);const K={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:fe,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:he,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:this.combus,tasa:this.tasa,iva:this.iva,ta:this.ta,ivaTa:this.ivaTa,otros:this.otros,precioTrans:this.precioTrans,suplemento:G,cliente:this.selectedClient,clientePorcentaje:b,CreadorCotizacion:Te.id,fechaCreacion:Ve.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:S,ivaValor:L,rteIca:we,totalComision:de,correo:this.correo,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas,incluye:this.textoIncluye?this.textoIncluye.replace(/\n/g,"\xBF"):null,noIncluye:this.textoNoIncluye?this.textoNoIncluye.replace(/\n/g,"\xBF"):null,extra1:null,transfer:null};console.log("formData",K);const ne=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",K);ne.data.success&&(console.log("mirar el numero",ne.data.success),console.log("mirar el numero1",ne.data.idCotizacion),this.idCotizacion=ne.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",ne.data),console.log("idCotizacion1",this.idCotizacion);const ke=this.habitacionesDatos.map(async D=>{D.idCotizacion=this.idCotizacion;const Se=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",D);return console.log("Respuesta de la habitaci\xF3n:",Se.data),Se.data}),De=await Promise.all(ke);console.log("Respuestas de todas las habitaciones:",De),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.resetVariables(),this.closeModalPersonalizado()}catch(E){console.error("Error al guardar la cotizaci\xF3n:",E),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}}}},ys={key:0},Vs={padding:""},Cs={key:1},Ns=c("p",null,"Cargando datos del usuario...",-1),Ts=[Ns],Ss={style:{display:"inline-block","margin-right":"10px"}},Es={style:{display:"inline-block"}},xs=c("br",null,null,-1),ws={class:"row q-col-gutter-md"},As={class:"col",style:{"margin-left":"10px"}},Ps={class:"row items-center justify-end"},_s={class:"col"},qs={class:"row items-center justify-end"},Is={class:"q-gutter-md"},Ds={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},Os={class:"row q-col-gutter-md"},ks={class:"col"},Ms={class:"col"},zs={class:"row q-col-gutter-md"},Ls={class:"col"},Fs={class:"col"},Rs={class:"row q-col-gutter-md"},Hs={class:"col"},js={class:"col"},Us={key:0,class:"row q-col-gutter-md"},Bs={class:"col"},Ys={class:"col"},Ws={class:"row q-col-gutter-md"},Qs={class:"col"},Xs={class:"col"},Gs={class:"row q-col-gutter-md"},Js={class:"col"},Zs={key:0,class:"col"},Ks={class:"row q-col-gutter-md"},$s={class:"col"},ei={key:1,class:"row q-col-gutter-md"},ai={class:"col"},ti={key:2,class:"row q-col-gutter-md"},oi={class:"col"},li={style:{"text-align":"center"}},ni={style:{"margin-left":"10px","font-weight":"bold"}},si={class:"row q-col-gutter-md"},ii={class:"col"},ri={class:"col"},ci={class:"row q-col-gutter-md"},di={class:"col"},ui={class:"col"},mi={key:0},hi={class:"row"},fi=c("div",{class:"col-12"},[c("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),gi={key:0,class:"row"},pi=c("div",{class:"col-12"},[c("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),vi={class:"col-6 col-sm-4 col-md-3"},bi=c("div",null,null,-1),yi=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),Vi={class:"row q-col-gutter-md"},Ci={class:"col"},Ni={class:"q-mb-md q-ml-md"},Ti={class:"col"},Si={class:"row q-col-gutter-md"},Ei={class:"col"},xi={class:"q-mb-md q-ml-md"},wi={class:"col"},Ai={class:"row q-col-gutter-md"},Pi={class:"col"},_i={class:"q-mb-md q-ml-md"},qi={class:"col",style:{"margin-left":"10px"}},Ii={class:"row items-center justify-end"},Di=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),Oi={class:"row q-col-gutter-md"},ki={class:"col"},Mi={class:"q-mb-md q-ml-md"},zi={class:"col"},Li={class:"row q-col-gutter-md"},Fi={class:"col"},Ri={class:"q-mb-md q-ml-md"},Hi={class:"col"},ji={class:"row q-col-gutter-md"},Ui={class:"col"},Bi={class:"q-mb-md q-ml-md"},Yi={class:"col"},Wi={class:"row items-center justify-end"},Qi={class:"row q-col-gutter-md"},Xi={class:"col",style:{"margin-left":"10px"}},Gi={key:0},Ji=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),Zi={class:"row q-col-gutter-md"},Ki={class:"col"},$i={class:"col"},er={class:"row q-col-gutter-md"},ar={class:"col"},tr={class:"col"},or={class:"row q-col-gutter-md"},lr={class:"col"},nr=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),sr={class:"row q-col-gutter-md"},ir={class:"col"},rr={class:"col"},cr={class:"row q-col-gutter-md"},dr={class:"col"},ur={class:"col"},mr={class:"row q-col-gutter-md"},hr={class:"col"},fr={class:"row q-col-gutter-md"},gr={class:"col"},pr={class:"q-mb-md q-ml-md"},vr={key:1},br={class:"row q-mt-md justify-center"},yr={key:0,class:"col"},Vr={key:1,class:"col"},Cr={key:2,class:"col"},Nr={key:3,class:"col"},Tr={class:"row q-col-gutter-md"},Sr={class:"col",style:{"margin-left":"10px"}},Er={class:"row items-center justify-end"},xr={class:"col"},wr={class:"row items-center justify-end"},Ar={class:"q-gutter-md"},Pr={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},_r={class:"row q-col-gutter-md"},qr={class:"col"},Ir={class:"col"},Dr={class:"row q-col-gutter-md"},Or={class:"col"},kr={class:"col"},Mr={key:0,class:"row q-col-gutter-md"},zr={class:"col"},Lr={class:"col"},Fr={class:"row q-col-gutter-md"},Rr={class:"col"},Hr={class:"col"},jr={style:{"text-align":"center"}},Ur={style:{"margin-left":"10px","font-weight":"bold"}},Br={class:"row q-col-gutter-md"},Yr={class:"col"},Wr={class:"col"},Qr={class:"row q-col-gutter-md"},Xr={class:"col"},Gr={class:"col"},Jr={key:0},Zr={class:"row"},Kr=c("div",{class:"col-12"},[c("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),$r={key:0,class:"row"},ec=c("div",{class:"col-12"},[c("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),ac={class:"col-6 col-sm-4 col-md-3"},tc=c("div",null,null,-1),oc=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),lc={class:"row q-col-gutter-md"},nc={class:"col"},sc={class:"q-mb-md q-ml-md"},ic={class:"col"},rc={class:"row q-col-gutter-md"},cc={class:"col"},dc={class:"q-mb-md q-ml-md"},uc={class:"col"},mc={class:"row q-col-gutter-md"},hc={class:"col"},fc={class:"q-mb-md q-ml-md"},gc={class:"col",style:{"margin-left":"10px"}},pc={class:"row items-center justify-end"},vc=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),bc={class:"row q-col-gutter-md"},yc={class:"col"},Vc={class:"q-mb-md q-ml-md"},Cc={class:"col"},Nc={class:"row q-col-gutter-md"},Tc={class:"col"},Sc={class:"q-mb-md q-ml-md"},Ec={class:"col"},xc={class:"row q-col-gutter-md"},wc={class:"col"},Ac={class:"q-mb-md q-ml-md"},Pc={class:"col"},_c={class:"row items-center justify-end"},qc=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Impuestos")],-1),Ic={class:"row q-col-gutter-md"},Dc={class:"col"},Oc={class:"q-mb-md q-ml-md"},kc={class:"col"},Mc={class:"row q-col-gutter-md"},zc={class:"col"},Lc={class:"q-mb-md q-ml-md"},Fc={class:"col"},Rc={class:"row q-col-gutter-md"},Hc={class:"col"},jc={class:"q-mb-md q-ml-md"},Uc={class:"col"},Bc={class:"row q-col-gutter-md"},Yc={class:"col"},Wc={class:"q-mb-md q-ml-md"},Qc={class:"row q-col-gutter-md"},Xc={class:"col"},Gc={class:"q-mb-md q-ml-md"},Jc={class:"col"},Zc={class:"row q-col-gutter-md"},Kc={class:"col",style:{"margin-left":"10px"}},$c={key:0},ed=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),ad={class:"row q-col-gutter-md"},td={class:"col"},od={class:"col"},ld={class:"row q-col-gutter-md"},nd={class:"col"},sd={class:"col"},id={class:"row q-col-gutter-md"},rd={class:"col"},cd=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),dd={class:"row q-col-gutter-md"},ud={class:"col"},md={class:"col"},hd={class:"row q-col-gutter-md"},fd={class:"col"},gd={class:"col"},pd={class:"row q-col-gutter-md"},vd={class:"col"},bd={class:"row q-col-gutter-md"},yd={class:"col"},Vd={class:"q-mb-md q-ml-md"},Cd={key:1},Nd={class:"row q-mt-md justify-center"},Td={key:0,class:"col"},Sd={key:1,class:"col"},Ed={key:2,class:"col"},xd={key:3,class:"col"},wd=c("div",{class:"text-h6 q-mb-md"},"Datos de Pasajeros",-1),Ad={class:"text-subtitle1 q-mb-sm"},Pd={class:"row q-mb-md"},_d={class:"col-6 q-pr-sm"},qd={class:"col-6"},Id=c("br",null,null,-1),Dd={class:"row"},Od={class:"col-6"},kd={class:"col-6"},Md=c("br",null,null,-1),zd=c("br",null,null,-1),Ld=c("br",null,null,-1),Fd=c("br",null,null,-1),Rd=c("br",null,null,-1),Hd={type:"file",ref:"fileInput",style:{display:"none"}};function jd(e,a,o,t,n,i){return ae(),ut(_l,{padding:""},{default:R(()=>[t.userData?(ae(),se("div",ys,[c("h5",Vs,"Bienvenido, "+Ya(t.userData.nombreCompleto),1)])):(ae(),se("div",Cs,Ts)),c("div",Ss,[m(le,{label:"Crear cotizacion",onClick:i.openModal,color:"primary"},null,8,["onClick"])]),c("div",Es,[m(le,{label:"Crear cotizacion Personalizada",onClick:i.openModalPersonalizado,color:"orange"},null,8,["onClick"])]),xs,m(ot,{modelValue:t.modalVisible,"onUpdate:modelValue":a[48]||(a[48]=l=>t.modalVisible=l),"content-css":"max-width: 600px;"},{default:R(()=>[m(qa,null,{default:R(()=>[m(Ca,{class:"q-pa-md"},{default:R(()=>[na(c("div",null,[m(qa,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:R(()=>[m(Ca,{class:"q-pa-md"},{default:R(()=>[c("div",ws,[c("div",As,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[1]||(a[1]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[0]||(a[0]=l=>t.dateRange[0]=l)},{default:R(()=>[c("div",Ps,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),c("div",_s,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[3]||(a[3]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[2]||(a[2]=l=>t.dateRange[1]=l)},{default:R(()=>[c("div",qs,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),c("div",Is,[m(ce,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[4]||(a[4]=l=>t.selectedDeparture=l),i.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(ce,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[5]||(a[5]=l=>t.destination=l),i.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:R(()=>[na(c("div",Ds," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),c("div",Os,[c("div",ks,[m(ce,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[6]||(a[6]=l=>t.hotel=l),i.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",Ms,[m(ce,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":a[7]||(a[7]=l=>t.programName=l),label:"Nombre del Programa",options:t.matchingPrograms,"option-label":"nombrePrograma",class:"q-mb-md",error:!t.programName&&!t.autofillingProgramName,"error-message":"UPS... NO HAY TARIFA PARA ESTA TEMPORADA"},null,8,["modelValue","options","error"])])]),c("div",zs,[c("div",Ls,[m(ce,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[8]||(a[8]=l=>t.selectedClient=l),i.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",Fs,[m(ce,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":a[9]||(a[9]=l=>t.noche=l),label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])])]),c("div",Rs,[c("div",Hs,[m(sa,{modelValue:t.asesorExternoCheck,"onUpdate:modelValue":a[10]||(a[10]=l=>t.asesorExternoCheck=l),label:"\xBFAsesor Externo?",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),c("div",js,[m(ce,{outlined:"",modelValue:t.selectedUser,"onUpdate:modelValue":a[11]||(a[11]=l=>t.selectedUser=l),options:e.dropdownOptions,label:"Selecciona un usuario",class:"q-mb-md q-ml-md",disable:!t.asesorExternoCheck},null,8,["modelValue","options","disable"])])]),i.shouldHideAdditionalNightSection()?Le("",!0):(ae(),se("div",Us,[c("div",Bs,[m(sa,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[12]||(a[12]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),c("div",Ys,[m(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[13]||(a[13]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),c("div",Ws,[c("div",Qs,[m(ce,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[14]||(a[14]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),c("div",Xs,[m(ce,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[15]||(a[15]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),c("div",Gs,[c("div",Js,[m(ce,{outlined:"",modelValue:t.transferInOut,"onUpdate:modelValue":a[16]||(a[16]=l=>t.transferInOut=l),label:"\xBFNecesita agregar alg\xFAn valor correspondiente a 'transfer in-out'?",options:["S\xED","No"],class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),t.transferInOut==="S\xED"?(ae(),se("div",Zs,[m(O,{outlined:"",modelValue:t.transferInOutValue,"onUpdate:modelValue":a[17]||(a[17]=l=>t.transferInOutValue=l),label:"Valor 'transfer in-out'",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])):Le("",!0)]),c("div",Ks,[c("div",$s,[m(ce,{outlined:"",modelValue:t.numExtraValues,"onUpdate:modelValue":a[18]||(a[18]=l=>t.numExtraValues=l),label:"\xBFCu\xE1ntos valores extra necesita agregar (m\xE1ximo 2)?",options:[0,1,2],class:"q-mb-md q-ml-md"},null,8,["modelValue"])])]),t.numExtraValues>=1?(ae(),se("div",ei,[c("div",ai,[m(O,{outlined:"",modelValue:t.extraValue1,"onUpdate:modelValue":a[19]||(a[19]=l=>t.extraValue1=l),label:"Valor extra 1",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Le("",!0),t.numExtraValues===2?(ae(),se("div",ti,[c("div",oi,[m(O,{outlined:"",modelValue:t.extraValue2,"onUpdate:modelValue":a[20]||(a[20]=l=>t.extraValue2=l),label:"Valor extra 2",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Le("",!0),(ae(!0),se(Da,null,Ia(t.rooms,(l,d)=>(ae(),se("div",{key:d},[m(qa,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:R(()=>[m(Ca,{class:"q-pa-md"},{default:R(()=>[c("p",li,[c("span",ni," Habitaci\xF3n "+Ya(d+1),1)]),c("div",si,[c("div",ii,[m(ce,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":g=>l.roomType=g,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),c("div",ri,[m(ce,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":g=>l.adults=g,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),c("div",ci,[c("div",di,[m(sa,{modelValue:t.hasChildren[d],"onUpdate:modelValue":[g=>t.hasChildren[d]=g,g=>i.handleChildrenChange(d)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",ui,[m(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":g=>l.numChildren=g,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[d]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(d)?(ae(),se("div",mi,[c("div",hi,[fi,(ae(!0),se(Da,null,Ia(l.adultAges,(g,E)=>(ae(),se("div",{key:"adult"+E+"-"+d,class:"col-6 col-sm-4 col-md-3"},[m(O,{filled:"",modelValue:l.adultAges[E],"onUpdate:modelValue":b=>l.adultAges[E]=b,label:"Adulto "+(E+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(sa,{modelValue:l.isForeigner[E],"onUpdate:modelValue":b=>l.isForeigner[E]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[d]?(ae(),se("div",gi,[pi,c("div",vi,[m(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":g=>l.childAge=g,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Le("",!0)])):Le("",!0),m(ce,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":g=>l.accommodation=g,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),bi],512),[[za,t.activeTab==="tab1"]]),na(c("div",null,[yi,c("div",Vi,[c("div",Ci,[c("div",Ni,[m(ce,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[21]||(a[21]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",Ti,[m(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[22]||(a[22]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Si,[c("div",Ei,[c("div",xi,[m(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[23]||(a[23]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",wi,[m(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[24]||(a[24]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Ai,[c("div",Pi,[c("div",_i,[m(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[25]||(a[25]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",qi,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[27]||(a[27]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[26]||(a[26]=l=>t.dateRange[0]=l)},{default:R(()=>[c("div",Ii,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),Di,c("div",Oi,[c("div",ki,[c("div",Mi,[m(ce,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[28]||(a[28]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",zi,[m(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[29]||(a[29]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Li,[c("div",Fi,[c("div",Ri,[m(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[30]||(a[30]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Hi,[m(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[31]||(a[31]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",ji,[c("div",Ui,[c("div",Bi,[m(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[32]||(a[32]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Yi,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[34]||(a[34]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[33]||(a[33]=l=>t.dateRange[1]=l)},{default:R(()=>[c("div",Wi,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),c("div",Qi,[c("div",Xi,[m(sa,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[35]||(a[35]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),se("div",Gi,[Ji,c("div",Zi,[c("div",Ki,[m(ce,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[36]||(a[36]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",$i,[m(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[37]||(a[37]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",er,[c("div",ar,[m(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[38]||(a[38]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",tr,[m(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[39]||(a[39]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",or,[c("div",lr,[m(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[40]||(a[40]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),nr,c("div",sr,[c("div",ir,[m(ce,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[41]||(a[41]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",rr,[m(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[42]||(a[42]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",cr,[c("div",dr,[m(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[43]||(a[43]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",ur,[m(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[44]||(a[44]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",mr,[c("div",hr,[m(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[45]||(a[45]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Le("",!0),c("div",fr,[c("div",gr,[c("div",pr,[m(sa,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[46]||(a[46]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),se("div",vr,[m(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[47]||(a[47]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),se(Da,null,Ia(t.peopleArray,l=>(ae(),se("div",{key:l},[m(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":d=>t.supplementValues[l-1]=d,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Le("",!0)],512),[[za,t.activeTab==="tab2"]]),c("div",br,[t.activeTab==="tab2"?(ae(),se("div",yr,[m(le,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab2"?(ae(),se("div",Vr,[m(le,{label:"Registrar",onClick:i.saveFormData,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),se("div",Cr,[m(le,{label:"Cerrar",onClick:i.closeModal,color:"red"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"?(ae(),se("div",Nr,[m(le,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Le("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ot,{modelValue:t.modalVisiblePersonalizado,"onUpdate:modelValue":a[101]||(a[101]=l=>t.modalVisiblePersonalizado=l),"content-css":"max-width: 600px;"},{default:R(()=>[m(qa,null,{default:R(()=>[m(Ca,{class:"q-pa-md"},{default:R(()=>[na(c("div",null,[m(qa,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:R(()=>[m(Ca,{class:"q-pa-md"},{default:R(()=>[c("div",Tr,[c("div",Sr,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[50]||(a[50]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[49]||(a[49]=l=>t.dateRange[0]=l)},{default:R(()=>[c("div",Er,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),c("div",xr,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[52]||(a[52]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[51]||(a[51]=l=>t.dateRange[1]=l)},{default:R(()=>[c("div",wr,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),c("div",Ar,[m(ce,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[53]||(a[53]=l=>t.selectedDeparture=l),i.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(ce,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[54]||(a[54]=l=>t.destination=l),i.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:R(()=>[na(c("div",Pr," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),c("div",_r,[c("div",qr,[m(ce,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[55]||(a[55]=l=>t.selectedClient=l),i.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",Ir,[m(ce,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":[a[56]||(a[56]=l=>t.programName=l),i.handleSelectionChangeTipo],label:"Nombre del Programa",options:t.programNameOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),c("div",Dr,[c("div",Or,[m(ce,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":[a[57]||(a[57]=l=>t.noche=l),i.handleSelectionChangeTipo],label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",kr,[m(ce,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[58]||(a[58]=l=>t.hotel=l),i.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),i.shouldHideAdditionalNightSection()?Le("",!0):(ae(),se("div",Mr,[c("div",zr,[m(sa,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[59]||(a[59]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),c("div",Lr,[m(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[60]||(a[60]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),c("div",Fr,[c("div",Rr,[m(ce,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[61]||(a[61]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),c("div",Hr,[m(ce,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[62]||(a[62]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(ae(!0),se(Da,null,Ia(t.rooms,(l,d)=>(ae(),se("div",{key:d},[m(qa,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:R(()=>[m(Ca,{class:"q-pa-md"},{default:R(()=>[c("p",jr,[c("span",Ur," Habitaci\xF3n "+Ya(d+1),1)]),c("div",Br,[c("div",Yr,[m(ce,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":g=>l.roomType=g,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),c("div",Wr,[m(ce,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":g=>l.adults=g,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),c("div",Qr,[c("div",Xr,[m(sa,{modelValue:t.hasChildren[d],"onUpdate:modelValue":[g=>t.hasChildren[d]=g,g=>i.handleChildrenChange(d)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",Gr,[m(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":g=>l.numChildren=g,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[d]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(d)?(ae(),se("div",Jr,[c("div",Zr,[Kr,(ae(!0),se(Da,null,Ia(l.adultAges,(g,E)=>(ae(),se("div",{key:"adult"+E+"-"+d,class:"col-6 col-sm-4 col-md-3"},[m(O,{filled:"",modelValue:l.adultAges[E],"onUpdate:modelValue":b=>l.adultAges[E]=b,label:"Adulto "+(E+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(sa,{modelValue:l.isForeigner[E],"onUpdate:modelValue":b=>l.isForeigner[E]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[d]?(ae(),se("div",$r,[ec,c("div",ac,[m(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":g=>l.childAge=g,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Le("",!0)])):Le("",!0),m(ce,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":g=>l.accommodation=g,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"]),m(O,{filled:"",modelValue:l.valor,"onUpdate:modelValue":g=>l.valor=g,label:"Valor Persona",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),tc],512),[[za,t.activeTab==="tab1"]]),na(c("div",null,[oc,c("div",lc,[c("div",nc,[c("div",sc,[m(ce,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[63]||(a[63]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",ic,[m(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[64]||(a[64]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",rc,[c("div",cc,[c("div",dc,[m(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[65]||(a[65]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",uc,[m(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[66]||(a[66]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",mc,[c("div",hc,[c("div",fc,[m(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[67]||(a[67]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",gc,[m(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[69]||(a[69]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[68]||(a[68]=l=>t.dateRange[0]=l)},{default:R(()=>[c("div",pc,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),vc,c("div",bc,[c("div",yc,[c("div",Vc,[m(ce,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[70]||(a[70]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",Cc,[m(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[71]||(a[71]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Nc,[c("div",Tc,[c("div",Sc,[m(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[72]||(a[72]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Ec,[m(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[73]||(a[73]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",xc,[c("div",wc,[c("div",Ac,[m(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[74]||(a[74]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Pc,[m(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[76]||(a[76]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:R(()=>[m(ga,{name:"event",class:"cursor-pointer"},{default:R(()=>[m(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:R(()=>[m(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[75]||(a[75]=l=>t.dateRange[1]=l)},{default:R(()=>[c("div",_c,[na(m(le,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),qc,c("div",Ic,[c("div",Dc,[c("div",Oc,[m(O,{modelValue:t.Combus,"onUpdate:modelValue":a[77]||(a[77]=l=>t.Combus=l),label:"Combus",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",kc,[m(O,{modelValue:t.Tasa,"onUpdate:modelValue":a[78]||(a[78]=l=>t.Tasa=l),label:"Tasa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Mc,[c("div",zc,[c("div",Lc,[m(O,{modelValue:t.Iva,"onUpdate:modelValue":a[79]||(a[79]=l=>t.Iva=l),label:"Iva",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Fc,[m(O,{modelValue:t.Ta,"onUpdate:modelValue":a[80]||(a[80]=l=>t.Ta=l),label:"Ta",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Rc,[c("div",Hc,[c("div",jc,[m(O,{modelValue:t.IvaTa,"onUpdate:modelValue":a[81]||(a[81]=l=>t.IvaTa=l),label:"IvaTa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Uc,[m(O,{modelValue:t.Otros,"onUpdate:modelValue":a[82]||(a[82]=l=>t.Otros=l),label:"Otros",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Bc,[c("div",Yc,[c("div",Wc,[m(O,{modelValue:t.precioTransp,"onUpdate:modelValue":a[83]||(a[83]=l=>t.precioTransp=l),label:"Precio Transporte",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])]),c("div",Qc,[c("div",Xc,[c("div",Gc,[m(O,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[85]||(a[85]=l=>t.textoIncluye=l),label:"Incluye",filled:"",type:"textarea",autogrow:""},{control:R(()=>[m(Bt,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[84]||(a[84]=l=>t.textoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),c("div",Jc,[m(O,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[87]||(a[87]=l=>t.textoNoIncluye=l),label:"No Incluye",filled:"",type:"textarea",autogrow:""},{control:R(()=>[m(Bt,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[86]||(a[86]=l=>t.textoNoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),c("div",Zc,[c("div",Kc,[m(sa,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[88]||(a[88]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),se("div",$c,[ed,c("div",ad,[c("div",td,[m(ce,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[89]||(a[89]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",od,[m(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[90]||(a[90]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",ld,[c("div",nd,[m(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[91]||(a[91]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",sd,[m(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[92]||(a[92]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",id,[c("div",rd,[m(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[93]||(a[93]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),cd,c("div",dd,[c("div",ud,[m(ce,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[94]||(a[94]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",md,[m(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[95]||(a[95]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",hd,[c("div",fd,[m(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[96]||(a[96]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",gd,[m(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[97]||(a[97]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",pd,[c("div",vd,[m(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[98]||(a[98]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Le("",!0),c("div",bd,[c("div",yd,[c("div",Vd,[m(sa,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[99]||(a[99]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),se("div",Cd,[m(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[100]||(a[100]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),se(Da,null,Ia(t.peopleArray,l=>(ae(),se("div",{key:l},[m(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":d=>t.supplementValues[l-1]=d,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Le("",!0)],512),[[za,t.activeTab==="tab2"]]),c("div",Nd,[t.activeTab==="tab2"?(ae(),se("div",Td,[m(le,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"?(ae(),se("div",Sd,[m(le,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab2"?(ae(),se("div",Ed,[m(le,{label:"Registrar",onClick:i.saveFormDataPersonalizado,color:"primary"},null,8,["onClick"])])):Le("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),se("div",xd,[m(le,{label:"Cerrar",onClick:i.closeModalPersonalizado,color:"red"},null,8,["onClick"])])):Le("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ot,{modelValue:t.mostrarModalPasajeros,"onUpdate:modelValue":a[106]||(a[106]=l=>t.mostrarModalPasajeros=l),persistent:""},{default:R(()=>[m(qa,{style:{"min-width":"500px"}},{default:R(()=>[m(Ca,null,{default:R(()=>[wd]),_:1}),m(Ca,{class:"q-pt-none"},{default:R(()=>[m(ql,{onSubmit:i.procesarLiquidacion,class:"q-gutter-md"},{default:R(()=>[(ae(!0),se(Da,null,Ia(t.pasajeros,(l,d)=>(ae(),se("div",{key:d,class:"q-pa-md q-mb-md bg-grey-2 rounded-borders"},[c("div",Ad,"Pasajero "+Ya(d+1),1),m(O,{modelValue:l.nombre,"onUpdate:modelValue":g=>l.nombre=g,label:"Nombre",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),c("div",Pd,[c("div",_d,[m(ce,{modelValue:l.tipoDocumento,"onUpdate:modelValue":g=>l.tipoDocumento=g,options:t.opcionesTipoDocumento,label:"Tipo de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue","options"])]),c("div",qd,[m(O,{modelValue:l.numeroDocumento,"onUpdate:modelValue":g=>l.numeroDocumento=g,label:"N\xFAmero de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]),m(O,{modelValue:l.fechaNacimiento,"onUpdate:modelValue":g=>l.fechaNacimiento=g,label:"Fecha de Nacimiento",filled:"",dense:"",type:"date",rules:[g=>g?new Date(g)>new Date?"La fecha no puede ser en el futuro":!0:"La fecha es requerida"],class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue","rules"])]))),128)),m(sa,{modelValue:t.tieneTelefono,"onUpdate:modelValue":a[102]||(a[102]=l=>t.tieneTelefono=l),label:"\xBFTiene tel\xE9fono?"},null,8,["modelValue"]),t.tieneTelefono?(ae(),ut(O,{key:0,modelValue:t.telefono,"onUpdate:modelValue":a[103]||(a[103]=l=>t.telefono=l),label:"Tel\xE9fono",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Le("",!0),m(sa,{modelValue:t.tieneNumero,"onUpdate:modelValue":a[104]||(a[104]=l=>t.tieneNumero=l),label:"\xBFTiene correo?"},null,8,["modelValue"]),t.tieneNumero?(ae(),ut(O,{key:1,modelValue:t.correoPasajero,"onUpdate:modelValue":a[105]||(a[105]=l=>t.correoPasajero=l),label:"Correo",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Le("",!0),m(Il,{align:"right",class:"bg-white text-teal"},{default:R(()=>[m(le,{flat:"",label:"Cancelar",onClick:i.cerrarModalPasajeros},null,8,["onClick"]),m(le,{type:"submit",label:"Guardar",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c("div",null,[Id,c("div",Dd,[c("div",Od,[m(ce,{modelValue:t.selectedFilter,"onUpdate:modelValue":a[107]||(a[107]=l=>t.selectedFilter=l),options:["Todos","Cot","Cot-C"],label:"Filtrar por Tipo",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),c("div",kd,[m(ce,{modelValue:t.filterStatus,"onUpdate:modelValue":a[108]||(a[108]=l=>t.filterStatus=l),options:t.statusOptions,label:"Filtrar por Status",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),Md,m(kl,{rows:i.filteredCotizacionData(),columns:t.columns,sortBy:t.sortBy,"onUpdate:sortBy":a[109]||(a[109]=l=>t.sortBy=l),sortOrder:t.sortOrder,"onUpdate:sortOrder":a[110]||(a[110]=l=>t.sortOrder=l)},{"body-cell-status":R(l=>[m(Ot,{props:l},{default:R(()=>[m(Dl,{color:i.getStatusColor(l.row.status),"text-color":"white",square:""},{default:R(()=>[Ol(Ya(l.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-cotizacion":R(l=>[m(Ot,{props:l},{default:R(()=>[m(le,{onClick:d=>i.descargarCotizacionN(l.row),color:"primary",label:"Descargar Cotizaci\xF3n"},null,8,["onClick"]),zd,Ld,m(le,{onClick:d=>i.enviarCotizacion(l.row),color:"secondary",label:"Enviar Cotizaci\xF3n"},null,8,["onClick"]),Fd,Rd,m(le,{onClick:d=>i.abrirModalPasajeros(l.row),color:"green",label:"Pasar a Liquidaci\xF3n"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","sortBy","sortOrder"]),c("input",Hd,null,512)])]),_:1})}var Zd=Al(bs,[["render",jd]]);export{Zd as default};
