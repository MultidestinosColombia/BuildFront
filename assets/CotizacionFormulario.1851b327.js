import{a as H,b6 as Jt,b7 as Bo,c as Ja,D as Zt,E as Kt,r as N,w as ha,h as P,au as Ya,d as it,g as rt,b1 as Yo,R as Nt,a4 as ce,aw as Wo,aF as lt,n as Qo,b8 as $t,aq as Xo,j as Tt,a6 as ga,b9 as Go,z as eo,av as ao,y as Pt,o as Jo,C as Zo,ax as Ko,_ as $o,a0 as oe,a1 as ft,a2 as M,aE as gt,ao as ue,a5 as d,a8 as Wa,a3 as u,an as qa,am as Na,J as na,ba as Fa,ap as ze,aG as Da,aH as Oa,aI as el,a7 as al}from"./index.1406385c.js";import{u as tl}from"./use-render-cache.1a7235d4.js";import{a as ol,j as ll,h as nl,k as sl,l as il}from"./use-key-composition.c6d8cd3c.js";import{p as Ee,c as _t,a as rl}from"./format.f534e983.js";import{d as to,Q as me,a as cl}from"./QSelect.4d774cbf.js";import{u as dl,c as ul,Q as ml}from"./QPage.5217246a.js";import{Q as D}from"./QInput.878a113b.js";import{u as hl,b as fl,c as gl,d as ia,Q as It,a as pl}from"./QTable.06e9cd9b.js";import{Q as vl}from"./QTooltip.6a3ad651.js";import{Q as bl}from"./QForm.a784fddd.js";import{C as Sa}from"./ClosePopup.2ad67d40.js";import{E as qt,n as Ta}from"./PDFButton.79428d28.js";import{L as pt}from"./LocalStorage.5de5bc67.js";import{a as le}from"./axios.37d53be1.js";import"./sweetalert2.esm.all.0f865825.js";import{_ as yl}from"./plugin-vue_export-helper.21dcd24c.js";import"./selection.e6585410.js";import"./use-file-dom-props.ed057a1d.js";import"./QList.1c5da076.js";const _a=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Vl(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Tl(Et(e,a,o))}function Dt(e,a,o){return lo(Sl(e,a,o))}function Cl(e){return Nl(e)===0}function nt(e,a){return a<=6?31:a<=11||Cl(e)?30:29}function Nl(e){const a=_a.length;let o=_a[0],t,n,r,l,s;if(e<o||e>=_a[a-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<a&&(t=_a[s],n=t-o,!(e<t));s+=1)o=t;return l=e-o,n-l<6&&(l=l-n+qe(n+4,33)*33),r=ra(ra(l+1,33)-1,4),r===-1&&(r=4),r}function oo(e,a){const o=_a.length,t=e+621;let n=-14,r=_a[0],l,s,h,x,f;if(e<r||e>=_a[o-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<o&&(l=_a[f],s=l-r,!(e<l));f+=1)n=n+qe(s,33)*8+qe(ra(s,33),4),r=l;x=e-r,n=n+qe(x,33)*8+qe(ra(x,33)+3,4),ra(s,33)===4&&s-x===4&&(n+=1);const A=qe(t,4)-qe((qe(t,100)+1)*3,4)-150,G=20+n-A;return a||(s-x<6&&(x=x-s+qe(s+4,33)*33),h=ra(ra(x+1,33)-1,4),h===-1&&(h=4)),{leap:h,gy:t,march:G}}function Sl(e,a,o){const t=oo(e,!0);return Et(t.gy,3,t.march)+(a-1)*31-qe(a,7)*(a-7)+o-1}function Tl(e){const a=lo(e).gy;let o=a-621,t,n,r;const l=oo(o,!1),s=Et(a,3,l.march);if(r=e-s,r>=0){if(r<=185)return n=1+qe(r,31),t=ra(r,31)+1,{jy:o,jm:n,jd:t};r-=186}else o-=1,r+=179,l.leap===1&&(r+=1);return n=7+qe(r,30),t=ra(r,30)+1,{jy:o,jm:n,jd:t}}function Et(e,a,o){let t=qe((e+qe(a-8,6)+100100)*1461,4)+qe(153*ra(a+9,12)+2,5)+o-34840408;return t=t-qe(qe(e+100100+qe(a-8,6),100)*3,4)+752,t}function lo(e){let a=4*e+139361631;a=a+qe(qe(4*e+183187720,146097)*3,4)*4-3908;const o=qe(ra(a,1461),4)*5+308,t=qe(ra(o,153),5)+1,n=ra(qe(o,153),12)+1;return{gy:qe(a,1461)-100100+qe(8-n,6),gm:n,gd:t}}function qe(e,a){return~~(e/a)}function ra(e,a){return e-~~(e/a)*a}const El=["gregorian","persian"],xl={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>El.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},wl=["update:modelValue"];function Ea(e){return e.year+"/"+Ee(e.month)+"/"+Ee(e.day)}function Al(e,a){const o=H(()=>e.disable!==!0&&e.readonly!==!0),t=H(()=>o.value===!0?0:-1),n=H(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function r(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function l(s){const h=new Date,x=s===!0?null:0;if(e.calendar==="persian"){const f=Vl(h);return{year:f.jy,month:f.jm,day:f.jd}}return{year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),hour:x,minute:x,second:x,millisecond:x}}return{editable:o,tabindex:t,headerClass:n,getLocale:r,getCurrentDate:l}}const no=864e5,Pl=36e5,St=6e4,so="YYYY-MM-DDTHH:mm:ss.SSSZ",_l=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Il=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,vt={};function ql(e,a){const o="("+a.days.join("|")+")",t=e+o;if(vt[t]!==void 0)return vt[t];const n="("+a.daysShort.join("|")+")",r="("+a.months.join("|")+")",l="("+a.monthsShort.join("|")+")",s={};let h=0;const x=e.replace(Il,A=>{switch(h++,A){case"YY":return s.YY=h,"(-?\\d{1,2})";case"YYYY":return s.YYYY=h,"(-?\\d{1,4})";case"M":return s.M=h,"(\\d{1,2})";case"MM":return s.M=h,"(\\d{2})";case"MMM":return s.MMM=h,l;case"MMMM":return s.MMMM=h,r;case"D":return s.D=h,"(\\d{1,2})";case"Do":return s.D=h++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=h,"(\\d{2})";case"H":return s.H=h,"(\\d{1,2})";case"HH":return s.H=h,"(\\d{2})";case"h":return s.h=h,"(\\d{1,2})";case"hh":return s.h=h,"(\\d{2})";case"m":return s.m=h,"(\\d{1,2})";case"mm":return s.m=h,"(\\d{2})";case"s":return s.s=h,"(\\d{1,2})";case"ss":return s.s=h,"(\\d{2})";case"S":return s.S=h,"(\\d{1})";case"SS":return s.S=h,"(\\d{2})";case"SSS":return s.S=h,"(\\d{3})";case"A":return s.A=h,"(AM|PM)";case"a":return s.a=h,"(am|pm)";case"aa":return s.aa=h,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return s.Z=h,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=h,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=h,"(-?\\d+)";case"x":return s.x=h,"(-?\\d{4,})";default:return h--,A[0]==="["&&(A=A.substring(1,A.length-1)),A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),f={map:s,regex:new RegExp("^"+x)};return vt[t]=f,f}function io(e,a){return e!==void 0?e:a!==void 0?a.date:Bo.date}function Ot(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.floor(t/60),r=t%60;return o+Ee(n)+a+Ee(r)}function Dl(e,a,o,t,n){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(r,n),e==null||e===""||typeof e!="string")return r;a===void 0&&(a=so);const l=io(o,Jt.props),s=l.months,h=l.monthsShort,{regex:x,map:f}=ql(a,l),A=e.match(x);if(A===null)return r;let G="";if(f.X!==void 0||f.x!==void 0){const z=parseInt(A[f.X!==void 0?f.X:f.x],10);if(isNaN(z)===!0||z<0)return r;const Z=new Date(z*(f.X!==void 0?1e3:1));r.year=Z.getFullYear(),r.month=Z.getMonth()+1,r.day=Z.getDate(),r.hour=Z.getHours(),r.minute=Z.getMinutes(),r.second=Z.getSeconds(),r.millisecond=Z.getMilliseconds()}else{if(f.YYYY!==void 0)r.year=parseInt(A[f.YYYY],10);else if(f.YY!==void 0){const z=parseInt(A[f.YY],10);r.year=z<0?z:2e3+z}if(f.M!==void 0){if(r.month=parseInt(A[f.M],10),r.month<1||r.month>12)return r}else f.MMM!==void 0?r.month=h.indexOf(A[f.MMM])+1:f.MMMM!==void 0&&(r.month=s.indexOf(A[f.MMMM])+1);if(f.D!==void 0){if(r.day=parseInt(A[f.D],10),r.year===null||r.month===null||r.day<1)return r;const z=t!=="persian"?new Date(r.year,r.month,0).getDate():nt(r.year,r.month);if(r.day>z)return r}f.H!==void 0?r.hour=parseInt(A[f.H],10)%24:f.h!==void 0&&(r.hour=parseInt(A[f.h],10)%12,(f.A&&A[f.A]==="PM"||f.a&&A[f.a]==="pm"||f.aa&&A[f.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),f.m!==void 0&&(r.minute=parseInt(A[f.m],10)%60),f.s!==void 0&&(r.second=parseInt(A[f.s],10)%60),f.S!==void 0&&(r.millisecond=parseInt(A[f.S],10)*10**(3-A[f.S].length)),(f.Z!==void 0||f.ZZ!==void 0)&&(G=f.Z!==void 0?A[f.Z].replace(":",""):A[f.ZZ],r.timezoneOffset=(G[0]==="+"?-1:1)*(60*G.slice(1,3)+1*G.slice(3,5)))}return r.dateHash=Ee(r.year,6)+"/"+Ee(r.month)+"/"+Ee(r.day),r.timeHash=Ee(r.hour)+":"+Ee(r.minute)+":"+Ee(r.second)+G,r}function kt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const t=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-t);const n=(a-o)/(no*7);return 1+Math.floor(n)}function Va(e,a,o){const t=new Date(e),n=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":t[`${n}Month`](0);case"month":case"months":t[`${n}Date`](1);case"day":case"days":case"date":t[`${n}Hours`](0);case"hour":case"hours":t[`${n}Minutes`](0);case"minute":case"minutes":t[`${n}Seconds`](0);case"second":case"seconds":t[`${n}Milliseconds`](0)}return t}function ot(e,a,o){return(e.getTime()-e.getTimezoneOffset()*St-(a.getTime()-a.getTimezoneOffset()*St))/o}function ro(e,a,o="days"){const t=new Date(e),n=new Date(a);switch(o){case"years":case"year":return t.getFullYear()-n.getFullYear();case"months":case"month":return(t.getFullYear()-n.getFullYear())*12+t.getMonth()-n.getMonth();case"days":case"day":case"date":return ot(Va(t,"day"),Va(n,"day"),no);case"hours":case"hour":return ot(Va(t,"hour"),Va(n,"hour"),Pl);case"minutes":case"minute":return ot(Va(t,"minute"),Va(n,"minute"),St);case"seconds":case"second":return ot(Va(t,"second"),Va(n,"second"),1e3)}}function Mt(e){return ro(e,Va(e,"year"),"days")+1}function zt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Lt={YY(e,a,o){const t=this.YYYY(e,a,o)%100;return t>=0?Ee(t):"-"+Ee(Math.abs(t))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Ee(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return zt(this.Q(e))},D(e){return e.getDate()},Do(e){return zt(e.getDate())},DD(e){return Ee(e.getDate())},DDD(e){return Mt(e)},DDDD(e){return Ee(Mt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return kt(e)},ww(e){return Ee(kt(e))},H(e){return e.getHours()},HH(e){return Ee(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Ee(this.h(e))},m(e){return e.getMinutes()},mm(e){return Ee(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Ee(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Ee(Math.floor(e.getMilliseconds()/10))},SSS(e){return Ee(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return Ot(n,":")},ZZ(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return Ot(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ol(e,a,o,t,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;a===void 0&&(a=so);const l=io(o,Jt.props);return a.replace(_l,(s,h)=>s in Lt?Lt[s](r,l,t,n):h===void 0?s:h.split("\\]").join("]"))}const ka=20,kl=["Calendar","Years","Months"],Ft=e=>kl.includes(e),bt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ra=" \u2014 ";function xa(e){return e.year+"/"+Ee(e.month)}var wa=Ja({name:"QDate",props:{...xl,...ol,...Zt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:bt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:bt},navigationMaxYearMonth:{type:String,validator:bt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ft}},emits:[...wl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:t}=rt(),{$q:n}=t,r=Kt(e,n),{getCache:l}=tl(),{tabindex:s,headerClass:h,getLocale:x,getCurrentDate:f}=Al(e,n);let A;const G=ll(e),z=nl(G),Z=N(null),L=N(k()),g=N(x()),C=H(()=>k()),p=H(()=>x()),v=H(()=>f()),V=N(X(L.value,g.value)),Q=N(e.defaultView),xe=n.lang.rtl===!0?"right":"left",ve=N(xe.value),be=N(xe.value),Ae=V.value.year,Pe=N(Ae-Ae%ka-(Ae<0?ka:0)),de=N(null),ye=H(()=>{const c=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${c} q-date--${c}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),ae=H(()=>e.color||"primary"),he=H(()=>e.textColor||"white"),Xe=H(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Je=H(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),q=H(()=>Je.value.filter(c=>typeof c=="string").map(c=>Fe(c,L.value,g.value)).filter(c=>c.dateHash!==null&&c.day!==null&&c.month!==null&&c.year!==null)),_e=H(()=>{const c=i=>Fe(i,L.value,g.value);return Je.value.filter(i=>Yo(i)===!0&&i.from!==void 0&&i.to!==void 0).map(i=>({from:c(i.from),to:c(i.to)})).filter(i=>i.from.dateHash!==null&&i.to.dateHash!==null&&i.from.dateHash<i.to.dateHash)}),Ye=H(()=>e.calendar!=="persian"?c=>new Date(c.year,c.month-1,c.day):c=>{const i=Dt(c.year,c.month,c.day);return new Date(i.gy,i.gm-1,i.gd)}),ne=H(()=>e.calendar==="persian"?Ea:(c,i,m)=>Ol(new Date(c.year,c.month-1,c.day,c.hour,c.minute,c.second,c.millisecond),i===void 0?L.value:i,m===void 0?g.value:m,c.year,c.timezoneOffset)),fe=H(()=>q.value.length+_e.value.reduce((c,i)=>c+1+ro(Ye.value(i.to),Ye.value(i.from)),0)),U=H(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(de.value!==null){const m=de.value.init,S=Ye.value(m);return g.value.daysShort[S.getDay()]+", "+g.value.monthsShort[m.month-1]+" "+m.day+Ra+"?"}if(fe.value===0)return Ra;if(fe.value>1)return`${fe.value} ${g.value.pluralDay}`;const c=q.value[0],i=Ye.value(c);return isNaN(i.valueOf())===!0?Ra:g.value.headerTitle!==void 0?g.value.headerTitle(i,c):g.value.daysShort[i.getDay()]+", "+g.value.monthsShort[c.month-1]+" "+c.day}),we=H(()=>q.value.concat(_e.value.map(i=>i.from)).sort((i,m)=>i.year-m.year||i.month-m.month)[0]),j=H(()=>q.value.concat(_e.value.map(i=>i.to)).sort((i,m)=>m.year-i.year||m.month-i.month)[0]),_=H(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(fe.value===0)return Ra;if(fe.value>1){const c=we.value,i=j.value,m=g.value.monthsShort;return m[c.month-1]+(c.year!==i.year?" "+c.year+Ra+m[i.month-1]+" ":c.month!==i.month?Ra+m[i.month-1]:"")+" "+i.year}return q.value[0].year}),y=H(()=>{const c=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?c.reverse():c}),T=H(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):g.value.firstDayOfWeek),W=H(()=>{const c=g.value.daysShort,i=T.value;return i>0?c.slice(i,7).concat(c.slice(0,i)):c}),F=H(()=>{const c=V.value;return e.calendar!=="persian"?new Date(c.year,c.month,0).getDate():nt(c.year,c.month)}),Ce=H(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),R=H(()=>{if(e.navigationMinYearMonth===void 0)return null;const c=e.navigationMinYearMonth.split("/");return{year:parseInt(c[0],10),month:parseInt(c[1],10)}}),se=H(()=>{if(e.navigationMaxYearMonth===void 0)return null;const c=e.navigationMaxYearMonth.split("/");return{year:parseInt(c[0],10),month:parseInt(c[1],10)}}),We=H(()=>{const c={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return R.value!==null&&R.value.year>=V.value.year&&(c.year.prev=!1,R.value.year===V.value.year&&R.value.month>=V.value.month&&(c.month.prev=!1)),se.value!==null&&se.value.year<=V.value.year&&(c.year.next=!1,se.value.year===V.value.year&&se.value.month<=V.value.month&&(c.month.next=!1)),c}),Qe=H(()=>{const c={};return q.value.forEach(i=>{const m=xa(i);c[m]===void 0&&(c[m]=[]),c[m].push(i.day)}),c}),He=H(()=>{const c={};return _e.value.forEach(i=>{const m=xa(i.from),S=xa(i.to);if(c[m]===void 0&&(c[m]=[]),c[m].push({from:i.from.day,to:m===S?i.to.day:void 0,range:i}),m<S){let E;const{year:K,month:I}=i.from,b=I<12?{year:K,month:I+1}:{year:K+1,month:1};for(;(E=xa(b))<=S;)c[E]===void 0&&(c[E]=[]),c[E].push({from:void 0,to:E===S?i.to.day:void 0,range:i}),b.month++,b.month>12&&(b.year++,b.month=1)}}),c}),Ke=H(()=>{if(de.value===null)return;const{init:c,initHash:i,final:m,finalHash:S}=de.value,[E,K]=i<=S?[c,m]:[m,c],I=xa(E),b=xa(K);if(I!==Te.value&&b!==Te.value)return;const w={};return I===Te.value?(w.from=E.day,w.includeFrom=!0):w.from=1,b===Te.value?(w.to=K.day,w.includeTo=!0):w.to=F.value,w}),Te=H(()=>xa(V.value)),ea=H(()=>{const c={};if(e.options===void 0){for(let m=1;m<=F.value;m++)c[m]=!0;return c}const i=typeof e.options=="function"?e.options:m=>e.options.includes(m);for(let m=1;m<=F.value;m++){const S=Te.value+"/"+Ee(m);c[m]=i(S)}return c}),Ze=H(()=>{const c={};if(e.events===void 0)for(let i=1;i<=F.value;i++)c[i]=!1;else{const i=typeof e.events=="function"?e.events:m=>e.events.includes(m);for(let m=1;m<=F.value;m++){const S=Te.value+"/"+Ee(m);c[m]=i(S)===!0&&Ce.value(S)}}return c}),Ne=H(()=>{let c,i;const{year:m,month:S}=V.value;if(e.calendar!=="persian")c=new Date(m,S-1,1),i=new Date(m,S-1,0).getDate();else{const E=Dt(m,S,1);c=new Date(E.gy,E.gm-1,E.gd);let K=S-1,I=m;K===0&&(K=12,I--),i=nt(I,K)}return{days:c.getDay()-T.value-1,endDay:i}}),Le=H(()=>{const c=[],{days:i,endDay:m}=Ne.value,S=i<0?i+7:i;if(S<6)for(let I=m-S;I<=m;I++)c.push({i:I,fill:!0});const E=c.length;for(let I=1;I<=F.value;I++){const b={i:I,event:Ze.value[I],classes:[]};ea.value[I]===!0&&(b.in=!0,b.flat=!0),c.push(b)}if(Qe.value[Te.value]!==void 0&&Qe.value[Te.value].forEach(I=>{const b=E+I-1;Object.assign(c[b],{selected:!0,unelevated:!0,flat:!1,color:ae.value,textColor:he.value})}),He.value[Te.value]!==void 0&&He.value[Te.value].forEach(I=>{if(I.from!==void 0){const b=E+I.from-1,w=E+(I.to||F.value)-1;for(let Y=b;Y<=w;Y++)Object.assign(c[Y],{range:I.range,unelevated:!0,color:ae.value,textColor:he.value});Object.assign(c[b],{rangeFrom:!0,flat:!1}),I.to!==void 0&&Object.assign(c[w],{rangeTo:!0,flat:!1})}else if(I.to!==void 0){const b=E+I.to-1;for(let w=E;w<=b;w++)Object.assign(c[w],{range:I.range,unelevated:!0,color:ae.value,textColor:he.value});Object.assign(c[b],{flat:!1,rangeTo:!0})}else{const b=E+F.value-1;for(let w=E;w<=b;w++)Object.assign(c[w],{range:I.range,unelevated:!0,color:ae.value,textColor:he.value})}}),Ke.value!==void 0){const I=E+Ke.value.from-1,b=E+Ke.value.to-1;for(let w=I;w<=b;w++)c[w].color=ae.value,c[w].editRange=!0;Ke.value.includeFrom===!0&&(c[I].editRangeFrom=!0),Ke.value.includeTo===!0&&(c[b].editRangeTo=!0)}V.value.year===v.value.year&&V.value.month===v.value.month&&(c[E+v.value.day-1].today=!0);const K=c.length%7;if(K>0){const I=7-K;for(let b=1;b<=I;b++)c.push({i:b,fill:!0})}return c.forEach(I=>{let b="q-date__calendar-item ";I.fill===!0?b+="q-date__calendar-item--fill":(b+=`q-date__calendar-item--${I.in===!0?"in":"out"}`,I.range!==void 0&&(b+=` q-date__range${I.rangeTo===!0?"-to":I.rangeFrom===!0?"-from":""}`),I.editRange===!0&&(b+=` q-date__edit-range${I.editRangeFrom===!0?"-from":""}${I.editRangeTo===!0?"-to":""}`),(I.range!==void 0||I.editRange===!0)&&(b+=` text-${I.color}`)),I.classes=b}),c}),aa=H(()=>e.disable===!0?{"aria-disabled":"true"}:{});ha(()=>e.modelValue,c=>{if(A===c)A=0;else{const i=X(L.value,g.value);ke(i.year,i.month,i)}}),ha(Q,()=>{Z.value!==null&&t.$el.contains(document.activeElement)===!0&&Z.value.focus()}),ha(()=>V.value.year+"|"+V.value.month,()=>{o("navigation",{year:V.value.year,month:V.value.month})}),ha(C,c=>{Ie(c,g.value,"mask"),L.value=c}),ha(p,c=>{Ie(L.value,c,"locale"),g.value=c});function De(){const{year:c,month:i,day:m}=v.value,S={...V.value,year:c,month:i,day:m},E=Qe.value[xa(S)];(E===void 0||E.includes(S.day)===!1)&&re(S),ge(S.year,S.month)}function ee(c){Ft(c)===!0&&(Q.value=c)}function Ve(c,i){["month","year"].includes(c)&&(c==="month"?sa:Ue)(i===!0?-1:1)}function ge(c,i){Q.value="Calendar",ke(c,i)}function J(c,i){if(e.range===!1||!c){de.value=null;return}const m=Object.assign({...V.value},c),S=i!==void 0?Object.assign({...V.value},i):m;de.value={init:m,initHash:Ea(m),final:S,finalHash:Ea(S)},ge(m.year,m.month)}function k(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Fe(c,i,m){return Dl(c,i,m,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function X(c,i){const m=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(m.length===0)return Re();const S=m[m.length-1],E=Fe(S.from!==void 0?S.from:S,c,i);return E.dateHash===null?Re():E}function Re(){let c,i;if(e.defaultYearMonth!==void 0){const m=e.defaultYearMonth.split("/");c=parseInt(m[0],10),i=parseInt(m[1],10)}else{const m=v.value!==void 0?v.value:f();c=m.year,i=m.month}return{year:c,month:i,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:c+"/"+Ee(i)+"/01"}}function sa(c){let i=V.value.year,m=Number(V.value.month)+c;m===13?(m=1,i++):m===0&&(m=12,i--),ke(i,m),Xe.value===!0&&pe("month")}function Ue(c){const i=Number(V.value.year)+c;ke(i,V.value.month),Xe.value===!0&&pe("year")}function te(c){ke(c,V.value.month),Q.value=e.defaultView==="Years"?"Months":"Calendar",Xe.value===!0&&pe("year")}function B(c){ke(V.value.year,c),Q.value="Calendar",Xe.value===!0&&pe("month")}function ta(c,i){const m=Qe.value[i];(m!==void 0&&m.includes(c.day)===!0?Be:re)(c)}function ie(c){return{year:c.year,month:c.month,day:c.day}}function ke(c,i,m){if(R.value!==null&&c<=R.value.year&&((i<R.value.month||c<R.value.year)&&(i=R.value.month),c=R.value.year),se.value!==null&&c>=se.value.year&&((i>se.value.month||c>se.value.year)&&(i=se.value.month),c=se.value.year),m!==void 0){const{hour:E,minute:K,second:I,millisecond:b,timezoneOffset:w,timeHash:Y}=m;Object.assign(V.value,{hour:E,minute:K,second:I,millisecond:b,timezoneOffset:w,timeHash:Y})}const S=c+"/"+Ee(i)+"/01";S!==V.value.dateHash&&(ve.value=V.value.dateHash<S==(n.lang.rtl!==!0)?"left":"right",c!==V.value.year&&(be.value=ve.value),Nt(()=>{Pe.value=c-c%ka-(c<0?ka:0),Object.assign(V.value,{year:c,month:i,day:1,dateHash:S})}))}function ca(c,i,m){const S=c!==null&&c.length===1&&e.multiple===!1?c[0]:c;A=S;const{reason:E,details:K}=Me(i,m);o("update:modelValue",S,E,K)}function pe(c){const i=q.value[0]!==void 0&&q.value[0].dateHash!==null?{...q.value[0]}:{...V.value};Nt(()=>{i.year=V.value.year,i.month=V.value.month;const m=e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():nt(i.year,i.month);i.day=Math.min(Math.max(1,i.day),m);const S=$(i);A=S;const{details:E}=Me("",i);o("update:modelValue",S,c,E)})}function Me(c,i){return i.from!==void 0?{reason:`${c}-range`,details:{...ie(i.target),from:ie(i.from),to:ie(i.to)}}:{reason:`${c}-day`,details:ie(i)}}function $(c,i,m){return c.from!==void 0?{from:ne.value(c.from,i,m),to:ne.value(c.to,i,m)}:ne.value(c,i,m)}function re(c){let i;if(e.multiple===!0)if(c.from!==void 0){const m=Ea(c.from),S=Ea(c.to),E=q.value.filter(I=>I.dateHash<m||I.dateHash>S),K=_e.value.filter(({from:I,to:b})=>b.dateHash<m||I.dateHash>S);i=E.concat(K).concat(c).map(I=>$(I))}else{const m=Je.value.slice();m.push($(c)),i=m}else i=$(c);ca(i,"add",c)}function Be(c){if(e.noUnset===!0)return;let i=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const m=$(c);c.from!==void 0?i=e.modelValue.filter(S=>S.from!==void 0?S.from!==m.from&&S.to!==m.to:!0):i=e.modelValue.filter(S=>S!==m),i.length===0&&(i=null)}ca(i,"remove",c)}function Ie(c,i,m){const S=q.value.concat(_e.value).map(E=>$(E,c,i)).filter(E=>E.from!==void 0?E.from.dateHash!==null&&E.to.dateHash!==null:E.dateHash!==null);o("update:modelValue",(e.multiple===!0?S:S[0])||null,m)}function Ge(){if(e.minimal!==!0)return P("div",{class:"q-date__header "+h.value},[P("div",{class:"relative-position"},[P(Ya,{name:"q-transition--fade"},()=>P("div",{key:"h-yr-"+_.value,class:"q-date__header-subtitle q-date__header-link "+(Q.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...l("vY",{onClick(){Q.value="Years"},onKeyup(c){c.keyCode===13&&(Q.value="Years")}})},[_.value]))]),P("div",{class:"q-date__header-title relative-position flex no-wrap"},[P("div",{class:"relative-position col"},[P(Ya,{name:"q-transition--fade"},()=>P("div",{key:"h-sub"+U.value,class:"q-date__header-title-label q-date__header-link "+(Q.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...l("vC",{onClick(){Q.value="Calendar"},onKeyup(c){c.keyCode===13&&(Q.value="Calendar")}})},[U.value]))]),e.todayBtn===!0?P(ce,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:De}):null])])}function oa({label:c,type:i,key:m,dir:S,goTo:E,boundaries:K,cls:I}){return[P("div",{class:"row items-center q-date__arrow"},[P(ce,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[0],tabindex:s.value,disable:K.prev===!1,...l("go-#"+i,{onClick(){E(-1)}})})]),P("div",{class:"relative-position overflow-hidden flex flex-center"+I},[P(Ya,{name:"q-transition--jump-"+S},()=>P("div",{key:m},[P(ce,{flat:!0,dense:!0,noCaps:!0,label:c,tabindex:s.value,...l("view#"+i,{onClick:()=>{Q.value=i}})})]))]),P("div",{class:"row items-center q-date__arrow"},[P(ce,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[1],tabindex:s.value,disable:K.next===!1,...l("go+#"+i,{onClick(){E(1)}})})])]}const pa={Calendar:()=>[P("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[P("div",{class:"q-date__navigation row items-center no-wrap"},oa({label:g.value.months[V.value.month-1],type:"Months",key:V.value.month,dir:ve.value,goTo:sa,boundaries:We.value.month,cls:" col"}).concat(oa({label:V.value.year,type:"Years",key:V.value.year,dir:be.value,goTo:Ue,boundaries:We.value.year,cls:""}))),P("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},W.value.map(c=>P("div",{class:"q-date__calendar-item"},[P("div",c)]))),P("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[P(Ya,{name:"q-transition--slide-"+ve.value},()=>P("div",{key:Te.value,class:"q-date__calendar-days fit"},Le.value.map(c=>P("div",{class:c.classes},[c.in===!0?P(ce,{class:c.today===!0?"q-date__today":"",dense:!0,flat:c.flat,unelevated:c.unelevated,color:c.color,textColor:c.textColor,label:c.i,tabindex:s.value,...l("day#"+c.i,{onClick:()=>{va(c.i)},onMouseover:()=>{ua(c.i)}})},c.event!==!1?()=>P("div",{class:"q-date__event bg-"+c.event}):null):P("div",""+c.i)]))))])])],Months(){const c=V.value.year===v.value.year,i=S=>R.value!==null&&V.value.year===R.value.year&&R.value.month>S||se.value!==null&&V.value.year===se.value.year&&se.value.month<S,m=g.value.monthsShort.map((S,E)=>{const K=V.value.month===E+1;return P("div",{class:"q-date__months-item flex flex-center"},[P(ce,{class:c===!0&&v.value.month===E+1?"q-date__today":null,flat:K!==!0,label:S,unelevated:K,color:K===!0?ae.value:null,textColor:K===!0?he.value:null,tabindex:s.value,disable:i(E+1),...l("month#"+E,{onClick:()=>{B(E+1)}})})])});return e.yearsInMonthView===!0&&m.unshift(P("div",{class:"row no-wrap full-width"},[oa({label:V.value.year,type:"Years",key:V.value.year,dir:be.value,goTo:Ue,boundaries:We.value.year,cls:" col"})])),P("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},m)},Years(){const c=Pe.value,i=c+ka,m=[],S=E=>R.value!==null&&R.value.year>E||se.value!==null&&se.value.year<E;for(let E=c;E<=i;E++){const K=V.value.year===E;m.push(P("div",{class:"q-date__years-item flex flex-center"},[P(ce,{key:"yr"+E,class:v.value.year===E?"q-date__today":null,flat:!K,label:E,dense:!0,unelevated:K,color:K===!0?ae.value:null,textColor:K===!0?he.value:null,tabindex:s.value,disable:S(E),...l("yr#"+E,{onClick:()=>{te(E)}})})]))}return P("div",{class:"q-date__view q-date__years flex flex-center"},[P("div",{class:"col-auto"},[P(ce,{round:!0,dense:!0,flat:!0,icon:y.value[0],tabindex:s.value,disable:S(c),...l("y-",{onClick:()=>{Pe.value-=ka}})})]),P("div",{class:"q-date__years-content col self-stretch row items-center"},m),P("div",{class:"col-auto"},[P(ce,{round:!0,dense:!0,flat:!0,icon:y.value[1],tabindex:s.value,disable:S(i),...l("y+",{onClick:()=>{Pe.value+=ka}})})])])}};function va(c){const i={...V.value,day:c};if(e.range===!1){ta(i,Te.value);return}if(de.value===null){const m=Le.value.find(E=>E.fill!==!0&&E.i===c);if(e.noUnset!==!0&&m.range!==void 0){Be({target:i,from:m.range.from,to:m.range.to});return}if(m.selected===!0){Be(i);return}const S=Ea(i);de.value={init:i,initHash:S,final:i,finalHash:S},o("rangeStart",ie(i))}else{const m=de.value.initHash,S=Ea(i),E=m<=S?{from:de.value.init,to:i}:{from:i,to:de.value.init};de.value=null,re(m===S?i:{target:i,...E}),o("rangeEnd",{from:ie(E.from),to:ie(E.to)})}}function ua(c){if(de.value!==null){const i={...V.value,day:c};Object.assign(de.value,{final:i,finalHash:Ea(i)})}}return Object.assign(t,{setToday:De,setView:ee,offsetCalendar:Ve,setCalendarTo:ge,setEditingRange:J}),()=>{const c=[P("div",{class:"q-date__content col relative-position"},[P(Ya,{name:"q-transition--fade"},pa[Q.value])])],i=it(a.default);return i!==void 0&&c.push(P("div",{class:"q-date__actions"},i)),e.name!==void 0&&e.disable!==!0&&z(c,"push"),P("div",{class:ye.value,...aa.value},[Ge(),P("div",{ref:Z,class:"q-date__main col column",tabindex:-1},c)])}}}),Aa=Ja({name:"QPopupProxy",props:{...dl,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:t}){const{proxy:n}=rt(),{$q:r}=n,l=N(!1),s=N(null),h=H(()=>parseInt(e.breakpoint,10)),{canShow:x}=ul({showing:l});function f(){return r.screen.width<h.value||r.screen.height<h.value?"dialog":"menu"}const A=N(f()),G=H(()=>A.value==="menu"?{maxHeight:"99vh"}:{});ha(()=>f(),L=>{l.value!==!0&&(A.value=L)});function z(L){l.value=!0,o("show",L)}function Z(L){l.value=!1,A.value=f(),o("hide",L)}return Object.assign(n,{show(L){x(L)===!0&&s.value.show(L)},hide(L){s.value.hide(L)},toggle(L){s.value.toggle(L)}}),Wo(n,"currentComponent",()=>({type:A.value,ref:s.value})),()=>{const L={ref:s,...G.value,...t,onShow:z,onHide:Z};let g;return A.value==="dialog"?g=lt:(g=to,Object.assign(L,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),P(g,L,a.default)}}});function co(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=t.display;return n==="block"||n==="table"?e:co(e.parentNode)}function yt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function uo(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let t=0;a.count!==0&&t<e.childNodes.length;t++)o=uo(e.childNodes[t],a,o);return o}const Ml=/^https?:\/\//;class zl{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(yt(a.anchorNode,this.el,!0)&&yt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!==null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?co(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),t=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),t.removeAllRanges(),t.addRange(o)):(t.selectAllChildren(this.el),t.collapseToEnd())}savePosition(){let a=-1,o;const t=document.getSelection(),n=this.el.parentNode;if(t.focusNode&&yt(t.focusNode,n))for(o=t.focusNode,a=t.focusOffset;o&&o!==n;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),t=uo(this.el,{count:this.savedPos});t&&(t.collapse(!1),o.removeAllRanges(),o.addRange(t))}}hasParent(a,o){const t=o?this.parent:this.blockParent;return t!==null?t.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,t=this.parent){return t===null?!1:a.includes(t.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,t.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const t=document.queryCommandValue(a);return t===`"${o}"`||t===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const n=document.queryCommandState(a);return o!==void 0?n===o:n}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,t=Qo){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){t();const n=window.open();n.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),n.print(),n.close();return}else if(a==="link"){const n=this.getParentAttribute("href");if(n===null){const r=this.selectWord(this.selection),l=r?r.toString():"";if(!l.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Ml.test(l)?l:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(r.getRangeAt(0))}else this.eVm.editLinkUrl.value=n,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),t();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),t();return}document.execCommand(a,!1,o),t()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const t=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const n=a.focusNode,r=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",t[0],"character"),a.modify("move",t[1],"word"),a.extend(n,r),a.modify("extend",t[1],"character"),a.modify("extend",t[0],"word"),a}}var Ll=Ja({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const o=H(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>P("div",{class:o.value},it(a.default))}});const Fl=Object.keys($t),Rl=e=>Fl.reduce((a,o)=>{const t=e[o];return t!==void 0&&(a[o]=t),a},{});var jl=Ja({name:"QBtnDropdown",props:{...$t,...Xo,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:o}){const{proxy:t}=rt(),n=N(e.modelValue),r=N(null),l=sl(),s=H(()=>{const V={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l.value,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(V["aria-disabled"]="true"),V}),h=H(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),x=H(()=>Go(e)),f=H(()=>Rl(e));ha(()=>e.modelValue,V=>{r.value!==null&&r.value[V?"show":"hide"]()}),ha(()=>e.split,v);function A(V){n.value=!0,o("beforeShow",V)}function G(V){o("show",V),o("update:modelValue",!0)}function z(V){n.value=!1,o("beforeHide",V)}function Z(V){o("hide",V),o("update:modelValue",!1)}function L(V){o("click",V)}function g(V){eo(V),v(),o("click",V)}function C(V){r.value!==null&&r.value.toggle(V)}function p(V){r.value!==null&&r.value.show(V)}function v(V){r.value!==null&&r.value.hide(V)}return Object.assign(t,{show:p,hide:v,toggle:C}),Tt(()=>{e.modelValue===!0&&p()}),()=>{const V=[P(ga,{class:h.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&V.push(P(to,{ref:r,id:l.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:A,onShow:G,onBeforeHide:z,onHide:Z},a.default)),e.split===!1?P(ce,{class:"q-btn-dropdown q-btn-dropdown--simple",...f.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:L},{default:()=>it(a.label,[]).concat(V),loading:a.loading}):P(Ll,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...x.value,glossy:e.glossy,stretch:e.stretch},()=>[P(ce,{class:"q-btn-dropdown--current",...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:g},{default:a.label,loading:a.loading}),P(ce,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...x.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>V)])}}});function mo(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function xt(e){return P("div",{class:"q-editor__toolbar-group"},e)}function ho(e,a,o,t=!1){const n=t||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),r=[];if(a.tip&&e.$q.platform.is.desktop){const l=a.key?P("div",[P("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;r.push(P(vl,{delay:1e3},()=>[P("div",{innerHTML:a.tip}),l]))}return P(ce,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:n?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:n&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(l){o&&o(),mo(l,a,e)}},()=>r)}function Hl(e,a){const o=a.list==="only-icons";let t=a.label,n=a.icon!==null?a.icon:void 0,r,l;function s(){x.component.proxy.hide()}if(o)l=a.options.map(f=>{const A=f.type===void 0?e.caret.is(f.cmd,f.param):!1;return A&&(t=f.tip,n=f.icon!==null?f.icon:void 0),ho(e,f,s,A)}),r=e.toolbarBackgroundClass.value,l=[xt(l)];else{const f=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,A=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,G=a.list==="no-icons";l=a.options.map(z=>{const Z=z.disable?z.disable(e):!1,L=z.type===void 0?e.caret.is(z.cmd,z.param):!1;L&&(t=z.tip,n=z.icon!==null?z.icon:void 0);const g=z.htmlTip;return P(rl,{active:L,activeClass:f,clickable:!0,disable:Z,dense:!0,onClick(C){s(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),mo(C,z,e)}},()=>[G===!0?null:P(_t,{class:L?f:A,side:!0},()=>P(ga,{name:z.icon!==null?z.icon:void 0})),P(_t,g?()=>P("div",{class:"text-no-wrap",innerHTML:z.htmlTip}):z.tip?()=>P("div",{class:"text-no-wrap"},z.tip):void 0)])}),r=[e.toolbarBackgroundClass.value,A]}const h=a.highlight&&t!==a.label,x=P(jl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:h?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:h&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:t,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:n,contentClass:r,onShow:f=>e.emit("dropdownShow",f),onHide:f=>e.emit("dropdownHide",f),onBeforeShow:f=>e.emit("dropdownBeforeShow",f),onBeforeHide:f=>e.emit("dropdownBeforeHide",f)},()=>l);return x}function Ul(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>xt(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?it(e.slots[o.slot]):o.type==="dropdown"?Hl(e,o):ho(e,o))))}function Bl(e,a,o,t={}){const n=Object.keys(t);if(n.length===0)return{};const r={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return n.forEach(l=>{const s=t[l];r[l]={cmd:"fontName",param:s,icon:o,tip:s,htmlTip:`<font face="${s}">${s}</font>`}}),r}function Yl(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const t=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[P("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),P("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:n=>{eo(n),o=n.target.value},onKeydown:n=>{if(ao(n)!==!0)switch(n.keyCode){case 13:return Pt(n),t();case 27:Pt(n),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),xt([P(ce,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),P(ce,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:t})])]}}const Wl=Object.prototype.toString,Vt=Object.prototype.hasOwnProperty,Ql=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Rt(e){if(e!==Object(e)||Ql.has(Wl.call(e))===!0||e.constructor&&Vt.call(e,"constructor")===!1&&Vt.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||Vt.call(e,a)}function fo(){let e,a,o,t,n,r,l=arguments[0]||{},s=1,h=!1;const x=arguments.length;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},s=2),Object(l)!==l&&typeof l!="function"&&(l={}),x===s&&(l=this,s--);s<x;s++)if((e=arguments[s])!==null)for(a in e)o=l[a],t=e[a],l!==t&&(h===!0&&t&&((n=Array.isArray(t))||Rt(t)===!0)?(n===!0?r=Array.isArray(o)===!0?o:[]:r=Rt(o)===!0?o:{},l[a]=fo(h,r,t)):t!==void 0&&(l[a]=t));return l}var jt=Ja({name:"QEditor",props:{...Zt,...hl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...fl,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:t}=rt(),{$q:n}=t,r=Kt(e,n),{inFullscreen:l,toggleFullscreen:s}=gl(),h=il(),x=N(null),f=N(null),A=N(null),G=N(!1),z=H(()=>!e.readonly&&!e.disable);let Z,L,g=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),Z=window.getComputedStyle(document.body).fontFamily;const C=H(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),p=H(()=>{const y=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:y,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!z.value,size:"sm"}}),v=H(()=>{const y=n.lang.editor,T=n.iconSet.editor;return{bold:{cmd:"bold",icon:T.bold,tip:y.bold,key:66},italic:{cmd:"italic",icon:T.italic,tip:y.italic,key:73},strike:{cmd:"strikeThrough",icon:T.strikethrough,tip:y.strikethrough,key:83},underline:{cmd:"underline",icon:T.underline,tip:y.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:T.unorderedList,tip:y.unorderedList},ordered:{cmd:"insertOrderedList",icon:T.orderedList,tip:y.orderedList},subscript:{cmd:"subscript",icon:T.subscript,tip:y.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:T.superscript,tip:y.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:W=>W.caret&&!W.caret.can("link"),icon:T.hyperlink,tip:y.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:T.toggleFullscreen,tip:y.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:T.viewSource,tip:y.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:T.quote,tip:y.quote,key:81},left:{cmd:"justifyLeft",icon:T.left,tip:y.left},center:{cmd:"justifyCenter",icon:T.center,tip:y.center},right:{cmd:"justifyRight",icon:T.right,tip:y.right},justify:{cmd:"justifyFull",icon:T.justify,tip:y.justify},print:{type:"no-state",cmd:"print",icon:T.print,tip:y.print,key:80},outdent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("outdent"),cmd:"outdent",icon:T.outdent,tip:y.outdent},indent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("indent"),cmd:"indent",icon:T.indent,tip:y.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:T.removeFormat,tip:y.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:T.hr,tip:y.hr},undo:{type:"no-state",cmd:"undo",icon:T.undo,tip:y.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:T.redo,tip:y.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:T.heading1||T.heading,tip:y.heading1,htmlTip:`<h1 class="q-ma-none">${y.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:T.heading2||T.heading,tip:y.heading2,htmlTip:`<h2 class="q-ma-none">${y.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:T.heading3||T.heading,tip:y.heading3,htmlTip:`<h3 class="q-ma-none">${y.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:T.heading4||T.heading,tip:y.heading4,htmlTip:`<h4 class="q-ma-none">${y.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:T.heading5||T.heading,tip:y.heading5,htmlTip:`<h5 class="q-ma-none">${y.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:T.heading6||T.heading,tip:y.heading6,htmlTip:`<h6 class="q-ma-none">${y.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:T.heading,tip:y.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:T.code,htmlTip:`<code>${y.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:T.size1||T.size,tip:y.size1,htmlTip:`<font size="1">${y.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:T.size2||T.size,tip:y.size2,htmlTip:`<font size="2">${y.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:T.size3||T.size,tip:y.size3,htmlTip:`<font size="3">${y.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:T.size4||T.size,tip:y.size4,htmlTip:`<font size="4">${y.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:T.size5||T.size,tip:y.size5,htmlTip:`<font size="5">${y.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:T.size6||T.size,tip:y.size6,htmlTip:`<font size="6">${y.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:T.size7||T.size,tip:y.size7,htmlTip:`<font size="7">${y.size7}</font>`}}}),V=H(()=>{const y=e.definitions||{},T=e.definitions||e.fonts?fo(!0,{},v.value,y,Bl(Z,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):v.value;return e.toolbar.map(W=>W.map(F=>{if(F.options)return{type:"dropdown",icon:F.icon,label:F.label,size:"sm",dense:!0,fixedLabel:F.fixedLabel,fixedIcon:F.fixedIcon,highlight:F.highlight,list:F.list,options:F.options.map(R=>T[R])};const Ce=T[F];return Ce?Ce.type==="no-state"||y[F]&&(Ce.cmd===void 0||v.value[Ce.cmd]&&v.value[Ce.cmd].type==="no-state")?Ce:Object.assign({type:"toggle"},Ce):{type:"slot",slot:F}}))}),Q={$q:n,props:e,slots:a,emit:o,inFullscreen:l,toggleFullscreen:s,runCmd:U,isViewingSource:G,editLinkUrl:A,toolbarBackgroundClass:C,buttonProps:p,contentRef:f,buttons:V,setContent:fe};ha(()=>e.modelValue,y=>{g!==y&&(g=y,fe(y,!0))}),ha(A,y=>{o(`link${y?"Show":"Hide"}`)});const xe=H(()=>e.toolbar&&e.toolbar.length!==0),ve=H(()=>{const y={},T=W=>{W.key&&(y[W.key]={cmd:W.cmd,param:W.param})};return V.value.forEach(W=>{W.forEach(F=>{F.options?F.options.forEach(T):T(F)})}),y}),be=H(()=>l.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Ae=H(()=>`q-editor q-editor--${G.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(l.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(r.value===!0?" q-editor--dark q-dark":"")),Pe=H(()=>[e.contentClass,"q-editor__content",{col:l.value,"overflow-auto":l.value||e.maxHeight}]),de=H(()=>e.disable===!0?{"aria-disabled":"true"}:{});function ye(){if(f.value!==null){const y=`inner${G.value===!0?"Text":"HTML"}`,T=f.value[y];T!==e.modelValue&&(g=T,o("update:modelValue",T))}}function ae(y){if(o("keydown",y),y.ctrlKey!==!0||ao(y)===!0){we();return}const T=y.keyCode,W=ve.value[T];if(W!==void 0){const{cmd:F,param:Ce}=W;Zo(y),U(F,Ce,!1)}}function he(y){we(),o("click",y)}function Xe(y){if(f.value!==null){const{scrollTop:T,scrollHeight:W}=f.value;L=W-T}Q.caret.save(),o("blur",y)}function Je(y){Nt(()=>{f.value!==null&&L!==void 0&&(f.value.scrollTop=f.value.scrollHeight-L)}),o("focus",y)}function q(y){const T=x.value;if(T!==null&&T.contains(y.target)===!0&&(y.relatedTarget===null||T.contains(y.relatedTarget)!==!0)){const W=`inner${G.value===!0?"Text":"HTML"}`;Q.caret.restorePosition(f.value[W].length),we()}}function _e(y){const T=x.value;T!==null&&T.contains(y.target)===!0&&(y.relatedTarget===null||T.contains(y.relatedTarget)!==!0)&&(Q.caret.savePosition(),we())}function Ye(){L=void 0}function ne(y){Q.caret.save()}function fe(y,T){if(f.value!==null){T===!0&&Q.caret.savePosition();const W=`inner${G.value===!0?"Text":"HTML"}`;f.value[W]=y,T===!0&&(Q.caret.restorePosition(f.value[W].length),we())}}function U(y,T,W=!0){j(),Q.caret.restore(),Q.caret.apply(y,T,()=>{j(),Q.caret.save(),W&&we()})}function we(){setTimeout(()=>{A.value=null,t.$forceUpdate()},1)}function j(){Ko(()=>{f.value!==null&&f.value.focus({preventScroll:!0})})}function _(){return f.value}return Tt(()=>{Q.caret=t.caret=new zl(f.value,Q),fe(e.modelValue),we(),document.addEventListener("selectionchange",ne)}),Jo(()=>{document.removeEventListener("selectionchange",ne)}),Object.assign(t,{runCmd:U,refreshToolbar:we,focus:j,getContentEl:_}),()=>{let y;if(xe.value){const T=[P("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+C.value},Ul(Q))];A.value!==null&&T.push(P("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+C.value},Yl(Q))),y=P("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},T)}return P("div",{ref:x,class:Ae.value,style:{height:l.value===!0?"100%":null},...de.value,onFocusin:q,onFocusout:_e},[y,P("div",{ref:f,style:be.value,class:Pe.value,contenteditable:z.value,placeholder:e.placeholder,...h.listeners.value,onInput:ye,onKeydown:ae,onClick:he,onBlur:Xe,onFocus:Je,onMousedown:Ye,onTouchstartPassive:Ye})])}}});function fa(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function za(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const go=6048e5,Xl=864e5;let Gl={};function ct(){return Gl}function Ga(e,a){var s,h,x,f,A,G,z,Z;const o=ct(),t=(Z=(z=(f=(x=a==null?void 0:a.weekStartsOn)!=null?x:(h=(s=a==null?void 0:a.locale)==null?void 0:s.options)==null?void 0:h.weekStartsOn)!=null?f:o.weekStartsOn)!=null?z:(G=(A=o.locale)==null?void 0:A.options)==null?void 0:G.weekStartsOn)!=null?Z:0,n=fa(e),r=n.getDay(),l=(r<t?7:0)+r-t;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function st(e){return Ga(e,{weekStartsOn:1})}function po(e){const a=fa(e),o=a.getFullYear(),t=za(e,0);t.setFullYear(o+1,0,4),t.setHours(0,0,0,0);const n=st(t),r=za(e,0);r.setFullYear(o,0,4),r.setHours(0,0,0,0);const l=st(r);return a.getTime()>=n.getTime()?o+1:a.getTime()>=l.getTime()?o:o-1}function Ht(e){const a=fa(e);return a.setHours(0,0,0,0),a}function Ut(e){const a=fa(e),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),+e-+o}function Jl(e,a){const o=Ht(e),t=Ht(a),n=+o-Ut(o),r=+t-Ut(t);return Math.round((n-r)/Xl)}function Zl(e){const a=po(e),o=za(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),st(o)}function Kl(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $l(e){if(!Kl(e)&&typeof e!="number")return!1;const a=fa(e);return!isNaN(Number(a))}function en(e){const a=fa(e),o=za(e,0);return o.setFullYear(a.getFullYear(),0,1),o.setHours(0,0,0,0),o}const an={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tn=(e,a,o)=>{let t;const n=an[e];return typeof n=="string"?t=n:a===1?t=n.one:t=n.other.replace("{{count}}",a.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+t:t+" ago":t};function Ct(e){return(a={})=>{const o=a.width?String(a.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}const on={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ln={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sn={date:Ct({formats:on,defaultWidth:"full"}),time:Ct({formats:ln,defaultWidth:"full"}),dateTime:Ct({formats:nn,defaultWidth:"full"})},rn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cn=(e,a,o,t)=>rn[e];function Qa(e){return(a,o)=>{const t=o!=null&&o.context?String(o.context):"standalone";let n;if(t==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,s=o!=null&&o.width?String(o.width):l;n=e.formattingValues[s]||e.formattingValues[l]}else{const l=e.defaultWidth,s=o!=null&&o.width?String(o.width):e.defaultWidth;n=e.values[s]||e.values[l]}const r=e.argumentCallback?e.argumentCallback(a):a;return n[r]}}const dn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},un={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pn=(e,a)=>{const o=Number(e),t=o%100;if(t>20||t<10)switch(t%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},vn={ordinalNumber:pn,era:Qa({values:dn,defaultWidth:"wide"}),quarter:Qa({values:un,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qa({values:mn,defaultWidth:"wide"}),day:Qa({values:hn,defaultWidth:"wide"}),dayPeriod:Qa({values:fn,defaultWidth:"wide",formattingValues:gn,defaultFormattingWidth:"wide"})};function Xa(e){return(a,o={})=>{const t=o.width,n=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],r=a.match(n);if(!r)return null;const l=r[0],s=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(s)?yn(s,A=>A.test(l)):bn(s,A=>A.test(l));let x;x=e.valueCallback?e.valueCallback(h):h,x=o.valueCallback?o.valueCallback(x):x;const f=a.slice(l.length);return{value:x,rest:f}}}function bn(e,a){for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&a(e[o]))return o}function yn(e,a){for(let o=0;o<e.length;o++)if(a(e[o]))return o}function Vn(e){return(a,o={})=>{const t=a.match(e.matchPattern);if(!t)return null;const n=t[0],r=a.match(e.parsePattern);if(!r)return null;let l=e.valueCallback?e.valueCallback(r[0]):r[0];l=o.valueCallback?o.valueCallback(l):l;const s=a.slice(n.length);return{value:l,rest:s}}}const Cn=/^(\d+)(th|st|nd|rd)?/i,Nn=/\d+/i,Sn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tn={any:[/^b/i,/^(a|c)/i]},En={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xn={any:[/1/i,/2/i,/3/i,/4/i]},wn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},An={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_n={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},In={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dn={ordinalNumber:Vn({matchPattern:Cn,parsePattern:Nn,valueCallback:e=>parseInt(e,10)}),era:Xa({matchPatterns:Sn,defaultMatchWidth:"wide",parsePatterns:Tn,defaultParseWidth:"any"}),quarter:Xa({matchPatterns:En,defaultMatchWidth:"wide",parsePatterns:xn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xa({matchPatterns:wn,defaultMatchWidth:"wide",parsePatterns:An,defaultParseWidth:"any"}),day:Xa({matchPatterns:Pn,defaultMatchWidth:"wide",parsePatterns:_n,defaultParseWidth:"any"}),dayPeriod:Xa({matchPatterns:In,defaultMatchWidth:"any",parsePatterns:qn,defaultParseWidth:"any"})},On={code:"en-US",formatDistance:tn,formatLong:sn,formatRelative:cn,localize:vn,match:Dn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kn(e){const a=fa(e);return Jl(a,en(a))+1}function Mn(e){const a=fa(e),o=+st(a)-+Zl(a);return Math.round(o/go)+1}function vo(e,a){var f,A,G,z,Z,L,g,C;const o=fa(e),t=o.getFullYear(),n=ct(),r=(C=(g=(z=(G=a==null?void 0:a.firstWeekContainsDate)!=null?G:(A=(f=a==null?void 0:a.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)!=null?z:n.firstWeekContainsDate)!=null?g:(L=(Z=n.locale)==null?void 0:Z.options)==null?void 0:L.firstWeekContainsDate)!=null?C:1,l=za(e,0);l.setFullYear(t+1,0,r),l.setHours(0,0,0,0);const s=Ga(l,a),h=za(e,0);h.setFullYear(t,0,r),h.setHours(0,0,0,0);const x=Ga(h,a);return o.getTime()>=s.getTime()?t+1:o.getTime()>=x.getTime()?t:t-1}function zn(e,a){var s,h,x,f,A,G,z,Z;const o=ct(),t=(Z=(z=(f=(x=a==null?void 0:a.firstWeekContainsDate)!=null?x:(h=(s=a==null?void 0:a.locale)==null?void 0:s.options)==null?void 0:h.firstWeekContainsDate)!=null?f:o.firstWeekContainsDate)!=null?z:(G=(A=o.locale)==null?void 0:A.options)==null?void 0:G.firstWeekContainsDate)!=null?Z:1,n=vo(e,a),r=za(e,0);return r.setFullYear(n,0,t),r.setHours(0,0,0,0),Ga(r,a)}function Ln(e,a){const o=fa(e),t=+Ga(o,a)-+zn(o,a);return Math.round(t/go)+1}function Se(e,a){const o=e<0?"-":"",t=Math.abs(e).toString().padStart(a,"0");return o+t}const Pa={y(e,a){const o=e.getFullYear(),t=o>0?o:1-o;return Se(a==="yy"?t%100:t,a.length)},M(e,a){const o=e.getMonth();return a==="M"?String(o+1):Se(o+1,2)},d(e,a){return Se(e.getDate(),a.length)},a(e,a){const o=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(e,a){return Se(e.getHours()%12||12,a.length)},H(e,a){return Se(e.getHours(),a.length)},m(e,a){return Se(e.getMinutes(),a.length)},s(e,a){return Se(e.getSeconds(),a.length)},S(e,a){const o=a.length,t=e.getMilliseconds(),n=Math.trunc(t*Math.pow(10,o-3));return Se(n,a.length)}},ja={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bt={G:function(e,a,o){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})}},y:function(e,a,o){if(a==="yo"){const t=e.getFullYear(),n=t>0?t:1-t;return o.ordinalNumber(n,{unit:"year"})}return Pa.y(e,a)},Y:function(e,a,o,t){const n=vo(e,t),r=n>0?n:1-n;if(a==="YY"){const l=r%100;return Se(l,2)}return a==="Yo"?o.ordinalNumber(r,{unit:"year"}):Se(r,a.length)},R:function(e,a){const o=po(e);return Se(o,a.length)},u:function(e,a){const o=e.getFullYear();return Se(o,a.length)},Q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return Se(t,2);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return Se(t,2);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,o){const t=e.getMonth();switch(a){case"M":case"MM":return Pa.M(e,a);case"Mo":return o.ordinalNumber(t+1,{unit:"month"});case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,o){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return Se(t+1,2);case"Lo":return o.ordinalNumber(t+1,{unit:"month"});case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,o,t){const n=Ln(e,t);return a==="wo"?o.ordinalNumber(n,{unit:"week"}):Se(n,a.length)},I:function(e,a,o){const t=Mn(e);return a==="Io"?o.ordinalNumber(t,{unit:"week"}):Se(t,a.length)},d:function(e,a,o){return a==="do"?o.ordinalNumber(e.getDate(),{unit:"date"}):Pa.d(e,a)},D:function(e,a,o){const t=kn(e);return a==="Do"?o.ordinalNumber(t,{unit:"dayOfYear"}):Se(t,a.length)},E:function(e,a,o){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,o,t){const n=e.getDay(),r=(n-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(r);case"ee":return Se(r,2);case"eo":return o.ordinalNumber(r,{unit:"day"});case"eee":return o.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,o,t){const n=e.getDay(),r=(n-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(r);case"cc":return Se(r,a.length);case"co":return o.ordinalNumber(r,{unit:"day"});case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,o){const t=e.getDay(),n=t===0?7:t;switch(a){case"i":return String(n);case"ii":return Se(n,a.length);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return o.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(t,{width:"short",context:"formatting"});case"iiii":default:return o.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,o){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,o){const t=e.getHours();let n;switch(t===12?n=ja.noon:t===0?n=ja.midnight:n=t/12>=1?"pm":"am",a){case"b":case"bb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,o){const t=e.getHours();let n;switch(t>=17?n=ja.evening:t>=12?n=ja.afternoon:t>=4?n=ja.morning:n=ja.night,a){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,o){if(a==="ho"){let t=e.getHours()%12;return t===0&&(t=12),o.ordinalNumber(t,{unit:"hour"})}return Pa.h(e,a)},H:function(e,a,o){return a==="Ho"?o.ordinalNumber(e.getHours(),{unit:"hour"}):Pa.H(e,a)},K:function(e,a,o){const t=e.getHours()%12;return a==="Ko"?o.ordinalNumber(t,{unit:"hour"}):Se(t,a.length)},k:function(e,a,o){let t=e.getHours();return t===0&&(t=24),a==="ko"?o.ordinalNumber(t,{unit:"hour"}):Se(t,a.length)},m:function(e,a,o){return a==="mo"?o.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pa.m(e,a)},s:function(e,a,o){return a==="so"?o.ordinalNumber(e.getSeconds(),{unit:"second"}):Pa.s(e,a)},S:function(e,a){return Pa.S(e,a)},X:function(e,a,o){const t=e.getTimezoneOffset();if(t===0)return"Z";switch(a){case"X":return Wt(t);case"XXXX":case"XX":return Ma(t);case"XXXXX":case"XXX":default:return Ma(t,":")}},x:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"x":return Wt(t);case"xxxx":case"xx":return Ma(t);case"xxxxx":case"xxx":default:return Ma(t,":")}},O:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Yt(t,":");case"OOOO":default:return"GMT"+Ma(t,":")}},z:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Yt(t,":");case"zzzz":default:return"GMT"+Ma(t,":")}},t:function(e,a,o){const t=Math.trunc(e.getTime()/1e3);return Se(t,a.length)},T:function(e,a,o){const t=e.getTime();return Se(t,a.length)}};function Yt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.trunc(t/60),r=t%60;return r===0?o+String(n):o+String(n)+a+Se(r,2)}function Wt(e,a){return e%60===0?(e>0?"-":"+")+Se(Math.abs(e)/60,2):Ma(e,a)}function Ma(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Se(Math.trunc(t/60),2),r=Se(t%60,2);return o+n+a+r}const Qt=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},bo=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Fn=(e,a)=>{const o=e.match(/(P+)(p+)?/)||[],t=o[1],n=o[2];if(!n)return Qt(e,a);let r;switch(t){case"P":r=a.dateTime({width:"short"});break;case"PP":r=a.dateTime({width:"medium"});break;case"PPP":r=a.dateTime({width:"long"});break;case"PPPP":default:r=a.dateTime({width:"full"});break}return r.replace("{{date}}",Qt(t,a)).replace("{{time}}",bo(n,a))},Rn={p:bo,P:Fn},jn=/^D+$/,Hn=/^Y+$/,Un=["D","DD","YY","YYYY"];function Bn(e){return jn.test(e)}function Yn(e){return Hn.test(e)}function Wn(e,a,o){const t=Qn(e,a,o);if(console.warn(t),Un.includes(e))throw new RangeError(t)}function Qn(e,a,o){const t=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jn=/^'([^]*?)'?$/,Zn=/''/g,Kn=/[a-zA-Z]/;function Xt(e,a,o){var f,A,G,z,Z,L,g,C,p,v,V,Q,xe,ve,be,Ae,Pe,de;const t=ct(),n=(A=(f=o==null?void 0:o.locale)!=null?f:t.locale)!=null?A:On,r=(v=(p=(L=(Z=o==null?void 0:o.firstWeekContainsDate)!=null?Z:(z=(G=o==null?void 0:o.locale)==null?void 0:G.options)==null?void 0:z.firstWeekContainsDate)!=null?L:t.firstWeekContainsDate)!=null?p:(C=(g=t.locale)==null?void 0:g.options)==null?void 0:C.firstWeekContainsDate)!=null?v:1,l=(de=(Pe=(ve=(xe=o==null?void 0:o.weekStartsOn)!=null?xe:(Q=(V=o==null?void 0:o.locale)==null?void 0:V.options)==null?void 0:Q.weekStartsOn)!=null?ve:t.weekStartsOn)!=null?Pe:(Ae=(be=t.locale)==null?void 0:be.options)==null?void 0:Ae.weekStartsOn)!=null?de:0,s=fa(e);if(!$l(s))throw new RangeError("Invalid time value");let h=a.match(Gn).map(ye=>{const ae=ye[0];if(ae==="p"||ae==="P"){const he=Rn[ae];return he(ye,n.formatLong)}return ye}).join("").match(Xn).map(ye=>{if(ye==="''")return{isToken:!1,value:"'"};const ae=ye[0];if(ae==="'")return{isToken:!1,value:$n(ye)};if(Bt[ae])return{isToken:!0,value:ye};if(ae.match(Kn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ae+"`");return{isToken:!1,value:ye}});n.localize.preprocessor&&(h=n.localize.preprocessor(s,h));const x={firstWeekContainsDate:r,weekStartsOn:l,locale:n};return h.map(ye=>{if(!ye.isToken)return ye.value;const ae=ye.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&Yn(ae)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&Bn(ae))&&Wn(ae,a,String(e));const he=Bt[ae[0]];return he(s,ae,n.localize,x)}).join("")}function $n(e){const a=e.match(Jn);return a?a[1].replace(Zn,"'"):e}const Gt=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),es={setup(){let e=N(null),a=N(0),o=N(!0),t=N(0),n=N(0),r=N(null),l=N(0),s=0,h=0,x=0,f=0,A=0,G=0,z=0,Z=0,L=0,g=0,C=0,p=0,v=0,V=0,Q=0,xe=0,ve=0,be=0,Ae=0,Pe=0,de=0,ye=0,ae=N([]);const he=N("idCotizacion"),Xe=N("desc"),Je=H(()=>Array.from({length:At.value},(O,ya)=>ya+1)),q=N(0),_e=N(!1),Ye=N(!1),ne=N(null),fe=Array.from({length:10},(O,ya)=>ya+1),U=N(!1),we=N(0),j=N([]),_=N(null),y=N([]),T=N([]),W=N(1),F=N([]),Ce=N([]),R=N("Todos"),se=N(null),We=[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"pendiente"}],Qe=O=>Ia.value==="La Macarena"&&(Ca.value==="Ca\xF1o Cristales"||Ca.value==="Ca\xF1o Cristales Semana Receso"),He=()=>{F.value.push({index:F.value.length,accommodation:"",adults:1,adultAges:[null],childAge:null,isForeigner:[!1],valor:[null]}),T.value.push(!1)};ha(()=>F.value.map(O=>O.adults),O=>{F.value.forEach((ya,Ba)=>{const Ho=Array.from({length:O[Ba]},()=>null),Uo=Array.from({length:O[Ba]},()=>!1);ya.adultAges.splice(0,ya.adultAges.length,...Ho),ya.isForeigner.splice(0,ya.isForeigner.length,...Uo)})},{deep:!0});const Ke=O=>O?[...O.adultAges]:[],Te=()=>{F.value=[];for(let O=0;O<W.value;O++)F.value.push({index:O,accommodation:null,adultAges:[null],childAge:null,isForeigner:[!1]})},ea=O=>Ia.value==="La Macarena"&&(Ca.value==="Ca\xF1o Cristales"||Ca.value==="Ca\xF1o Cristales Semana Receso");Te();const Ze=()=>{console.log("N\xFAmero de habitaciones cambiado:",W.value),Te()},Ne=N([]),Le=N({}),aa=async()=>{try{const O=await le.get("https://backmultidestinos.onrender.com/cotizacion");Ne.value=O.data,await De(),ee(),Ve()}catch(O){console.error("Error fetching cotizacion data:",O)}},De=async()=>{try{(await le.get("https://backmultidestinos.onrender.com/user/")).data.forEach(Ba=>{Le.value[Ba.id]=Ba.nombreCompleto})}catch(O){console.error("Error fetching user data:",O)}},ee=()=>{Ne.value.forEach(O=>{O.CreadorCotizacion=Le.value[O.CreadorCotizacion],O.fechaCreacion=ge(O.fechaCreacion),O.fechaInicio=ge(O.fechaInicio),O.fechaFin=ge(O.fechaFin)})},Ve=()=>{Ne.value.forEach(O=>{O.precioBrutoTotal=Gt(Number(O.precioBrutoTotal)),O.totalPrecioCliente=Gt(Number(O.totalPrecioCliente))})},ge=O=>Xt(new Date(O),"yyyy-MM-dd"),J=N(!1),k=N(null),Fe=N(null),X=N(null),Re=N(null),sa=N(null),Ue=N(null),te=N(null),B=N(null),ta=N(null),ie=N(null),ke=N(""),ca=N(""),pe=N(""),Me=N(""),$=N(""),re=N(""),Be=N(""),Ie=N(""),Ge=N(""),oa=N(""),pa=N(""),va=N(""),ua=N(""),c=N(""),i=N(""),m=N(""),S=N(""),E=N(""),K=N(""),I=N(""),b=N("tab1"),w=()=>{if(b.value==="tab1"){if(!da.value[0]||!da.value[1]){gt.create({message:"Por favor ingrese una fecha de inicio y una fecha de fin.",color:"negative"});return}if(!Ia.value||!Ua.value){gt.create({message:"Por favor seleccione un destino y un cliente.",color:"negative"});return}if(F.value.length===0||F.value.some(O=>!O.roomType||!O.adults||!O.accommodation)){gt.create({message:"Por favor complete la informaci\xF3n de al menos una habitaci\xF3n.",color:"negative"});return}b.value="tab2"}},Y=()=>{b.value==="tab2"&&(b.value="tab1")},Oe=new Date,je=N(""),$e=Oe.toISOString().split("T")[0],da=N([$e,$e]),la=O=>{da.value[1]<O&&(da.value[1]=O)},ba=[O=>Oe<=new Date(O)||"La fecha de inicio no puede ser anterior a hoy"],ma=[O=>O>=da.value[0]||"La fecha de fin no puede ser anterior a la fecha de inicio"],Za=N(!1),La=N(""),dt=N(!1),Ha=N(""),wt=N(null),yo=$o(),Vo=N(!1),Co=N(!1),No=N(["C.C","T.I","Pasaporte"]),So=N(["Bogota","Cali","Medellin","Porcion Terrestre","San Andres"]),To=N([]),Eo=N([]),xo=N([]),wo=N([]),Ao=N([]),Po=N(["1","2","3","4","5","6","7","8","9","10","11","12","13"]);let _o=[],Io=null;const qo=N(["1","2","3","4","5","6","7","8","9"]),Do=N([]),Oo=N([]),ko=N([]),Mo=N([]),zo=N(["Satena","Avianca","Latam","JetSmart","Clic"]),ut=N(""),Ia=N(""),Ca=N(""),Ka=N(""),$a=N(""),Lo=N(""),et=N(""),at=N(""),tt=N(""),Ua=N(""),mt=N(!1),ht=N(null),At=N(null),Fo=N([]),Ro=N(!1),jo=N(null);return Tt(()=>{console.log("Intentando recuperar los datos del usuario del almacenamiento local..."),aa(),Te();const O=pt.getItem("userData");console.log("Datos del usuario recuperados:",O),O?wt.value=O:(console.log("No se encontraron datos de usuario en el almacenamiento local. Redirigiendo a la p\xE1gina de inicio de sesi\xF3n..."),yo.push("/login"))}),{tieneTelefono:Za,telefono:La,tieneNumero:dt,correoPasajero:Ha,filterStatus:se,statusOptions:We,selectedUser:e,matchingPrograms:ae,autofillingProgramName:o,transferInOut:r,transferInOutValue:l,numExtraValues:a,extraValue1:t,extraValue2:n,opcionesTipoDocumento:No,mostrarModalPasajeros:U,totalPasajero:we,pasajeros:j,cotizacionSeleccionada:_,sortBy:he,sortOrder:Xe,selectedFilter:R,cormacarena5a11Personas:h,cormacarena12a65Personas:f,cormacarenaExtranjeroPersonas:G,pqsNaturales5a24Personas:Z,pqsNaturales25a65Personas:g,pqsNaturalesExtranjeroPersonas:p,alcaldiaNacionalPersonas:V,alcaldiaExtranjeroPersonas:xe,defensaCivilPersonas:be,cormacarena5a11Total:s,cormacarena12a65Total:x,cormacarenaExtranjeroTotal:A,pqsNaturales5a24Total:z,pqsNaturales25a65Total:L,pqsNaturalesExtranjeroTotal:C,alcaldiaNacionalTotal:v,alcaldiaExtranjeroTotal:Q,defensaCivilTotal:ve,totalImpuestos:Pe,adultAgesComputed:Ke,mostrarCamposEdad:ea,showAgeInputs:Qe,nochesOptionsRaw:Ce,peopleArray:Je,numberOfPeople:At,supplementValues:Fo,idCotizacion:ca,archivoSeleccionado:jo,mostrarDialogo:Ro,ultimaCotizacionDescargada:Io,correo:je,OptionCorreo:Mo,cotizacionCounter:q,sumaTotalDescuento:ye,sumaTotalAcomodacion:Ae,sumaValorBrutohab:de,habitacionesDatos:_o,additionalNightSelected:_e,asesorExternoCheck:Ye,additionalNightCount:ne,handleNumRoomsChange:Ze,roomOptions:fe,addRoom:He,hasChildren:T,numRooms:W,rooms:F,updateAccommodationOptions:Te,cotizacionData:Ne,usersMap:Le,formatDate:O=>Xt(new Date(O),"yyyy-MM-dd"),columns:[{name:"status",label:"Status",align:"left",field:"status"},{name:"idCotizacion",label:"Id-cotizaci\xF3n",align:"left",field:"idCotizacion"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",align:"left",field:"fechaCreacion"},{name:"CreadorCotizacion",label:"Usuario que la Cre\xF3",align:"left",field:"CreadorCotizacion"},{name:"cliente",label:"Cliente",align:"left",field:"cliente"},{name:"precioBrutoTotal",label:"precio Bruto",align:"left",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Valor Total con Descuento",align:"left",field:"totalPrecioCliente"},{name:"totalAdultos",label:"Adultos",align:"left",field:"totalAdultos"},{name:"totalNinos",label:"Ni\xF1os",align:"left",field:"totalNinos"},{name:"fechaInicio",label:"Fecha de Inicio",align:"left",field:"fechaInicio"},{name:"fechaFin",label:"Fecha de Fin",align:"left",field:"fechaFin"},{name:"salida",label:"Salida",align:"left",field:"salida"},{name:"destino",label:"Destino",align:"left",field:"destino"},{name:"hotel",label:"Hotel",align:"left",field:"hotel"},{name:"cotizacion",label:"Cotizacion",align:"left",field:"cotizacion",format:O=>""}],mostrarEscalas:J,aerolineaEscalaIda:k,vueloEscalaIda:Fe,horaLlegadaEscalaIda:X,horaSalidaEscalaIda:Re,claseEscalaIda:sa,aerolineaEscalaVuelta:Ue,vueloEscalaVuelta:te,horaLlegadaEscalaVuelta:B,horaSalidaEscalaVuelta:ta,claseEscalaVuelta:ie,aerolineaValue1:ke,vueloValue1:pe,horaLlegadaValue1:Me,horaSalidaValue1:$,claseValue1:re,aerolineaValue2:Be,vueloValue2:Ie,horaLlegadaValue2:Ge,horaSalidaValue2:oa,claseValue2:pa,Combus:va,Tasa:ua,Iva:c,Ta:i,IvaTa:m,Otros:S,precioTransp:E,textoIncluye:K,textoNoIncluye:I,startDateRules:ba,activeTab:b,goNext:w,goBack:Y,params:{hotel:"",nombrePrograma:"",destino:""},paramsH:{hotel:"",destino:"",noches:"",pertenece:""},paramsN:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:""},paramsTransporte:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:"",tipoHabitacion:""},userData:wt,modalVisible:Vo,modalVisiblePersonalizado:Co,departureOptions:So,destinationOptions:To,programNameOptions:Eo,hotelOptions:xo,nochesOptions:wo,planOptions:Ao,adultsOptions:Po,childrenOptions:qo,aerolineaOptions:zo,accommodationOptions:Do,roomTypeOptions:Oo,selectedDeparture:ut,destination:Ia,programName:Ca,hotel:Ka,noche:$a,plan:Lo,adults:et,children:y,accommodation:at,roomType:tt,clientOptions:ko,selectedClient:Ua,clearFields:()=>{ut.value="",Ia.value="",Ca.value="",Ka.value="",$a.value="",et.value="",y.value="",at.value="",tt.value="",Ua.value="",r.value="",l.value="",t.value="",n.value="",a.value=0,F.value.forEach(O=>{O.roomType="",O.adults="",O.hasChildren=!1,O.numChildren="",O.accommodation=""}),ke.value="",pe.value="",$.value="",Me.value="",re.value="",Be.value="",Ie.value="",oa.value="",Ge.value="",pa.value="",mt.value=!1,ht.value=""},clearFieldsc:()=>{Ia.value="",Ca.value="",Ka.value="",$a.value="",et.value="",y.value="",at.value="",tt.value="",Ua.value="",je.value=""},clearFieldsPersonalizado:()=>{ut.value="",Ia.value="",Ca.value="",Ka.value="",$a.value="",et.value="",y.value="",at.value="",tt.value="",Ua.value="",F.value.forEach(O=>{O.roomType="",O.adults="",O.hasChildren=!1,O.numChildren="",O.accommodation="",O.valor=""}),ke.value="",pe.value="",$.value="",Me.value="",re.value="",Be.value="",Ie.value="",oa.value="",Ge.value="",pa.value="",mt.value=!1,ht.value="",va.value="",ua.value="",c.value="",i.value="",m.value="",S.value="",E.value="",K.value="",I.value=""},supplementChecked:mt,supplementValue:ht,dateRange:da,adjustEndDate:la,endDateRules:ma,totalAdultos:0,totalNi\u00F1os:0}},watch:{selectedDeparture:"fetchProgramName",destination:"fetchProgramName",noche:"fetchProgramName",hotel:"fetchProgramName",dateRange:"fetchProgramName",hotel(){this.fetchOptions()},horaLlegadaValue1(e){this.validarHora(e,this.horaSalidaValue1)},horaLlegadaValue2(e){this.validarHora(e,this.horaSalidaValue2)}},mounted(){this.dataUsuario()},methods:{async dataUsuario(){const e="https://backmultidestinos.onrender.com/user/";le.get(e).then(a=>{const t=a.data.filter(n=>n.rol==="Asesor");this.dropdownOptions=t.map(n=>({label:n.nombreCompleto,value:n.id}))}).catch(a=>{console.error("Error al obtener los datos de usuario:",a)})},getStatusColor(e){switch(e){case"Pendiente":return"orange";case"Aprobado":return"green";case"Finalizado":return"red";default:return"grey"}},async fetchProgramName(){var e;if(this.justSubmitted)return console.log("fetchProgramName cancelado porque se acaba de registrar."),{success:!1,reason:"justSubmitted"};if(console.log("Iniciando fetchProgramName..."),this.autofillingProgramName=!0,!this.hotel||!this.destination||!((e=this.noche)!=null&&e.label)||!this.selectedDeparture)return this.$q.notify({message:"Faltan datos para buscar el programa. Verifica hotel, destino, noches y salida.",color:"negative"}),this.autofillingProgramName=!1,{success:!1,reason:"missingData"};try{this.paramsH.hotel=this.hotel,this.paramsH.destino=this.destination,this.paramsH.noches=this.noche.label,this.paramsH.pertenece=this.selectedDeparture;const a=await le.post("https://backmultidestinos.onrender.com/hoteles/buscarH",this.paramsH);this.programNameOptions=a.data;let o=this.programNameOptions.filter(l=>l.FechaInicio!==null&&l.FechaFin!==null),t=new Date(this.dateRange[0]),n=new Date(this.dateRange[1]);if(isNaN(t)||isNaN(n))return this.$q.notify({message:"Error: Fecha inv\xE1lida seleccionada.",color:"negative"}),{success:!1,reason:"invalidDateRange"};t.setHours(0,0,0,0),n.setHours(0,0,0,0),o=o.filter(l=>{let s=new Date(l.FechaInicio),h=new Date(l.FechaFin);return isNaN(s)||isNaN(h)?!1:(s.setHours(0,0,0,0),h.setHours(0,0,0,0),s<=n&&h>=t)}),o=o.filter((l,s,h)=>s===h.findIndex(x=>x.nombrePrograma===l.nombrePrograma)),this.matchingPrograms=o,this.matchingPrograms.length===1?this.programName=this.matchingPrograms[0].nombrePrograma:this.matchingPrograms.length>1?this.matchingProgramOptions=this.matchingPrograms.map(l=>l.nombrePrograma):this.programName=null;const r=[...new Set(o.map(l=>l.tipoHabitacion))];return this.roomTypeOptions=r,this.justSubmitted=!0,setTimeout(()=>{this.justSubmitted=!1},2e3),{success:!0,matchingPrograms:this.matchingPrograms,programName:this.programName,roomTypes:this.roomTypeOptions}}catch(a){return console.error("Error al obtener nombres de programa:",a),this.$q.notify({message:"Ocurri\xF3 un error al buscar programas.",color:"negative"}),{success:!1,reason:"serverError",error:a}}finally{this.autofillingProgramName=!1}},validarHora(e,a){e&&a&&e<a&&this.$q.notify({message:"La hora de llegada no puede ser anterior a la hora de salida.",color:"negative",position:"top",timeout:2e3})},procesarLiquidacion(){this.cerrarModalPasajeros();const e=this.cotizacionSeleccionada.idCotizacion;le.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`).then(a=>{const o=a.data;console.log("Datos de la cotizaci\xF3n desde la API:",o);const t={idCotizacion:this.cotizacionSeleccionada.idCotizacion,salida:this.cotizacionSeleccionada.salida,destino:this.cotizacionSeleccionada.destino,nombrePrograma:this.cotizacionSeleccionada.nombrePrograma,plan:this.cotizacionSeleccionada.plan,hotel:this.cotizacionSeleccionada.hotel,totalAdultos:this.cotizacionSeleccionada.totalAdultos,totalNinos:this.cotizacionSeleccionada.totalNinos,totalPasajeros:this.cotizacionSeleccionada.totalPasajeros,precioBrutoTotal:this.cotizacionSeleccionada.precioBrutoTotal.replace(/[^\d.-]/g,""),valorDescuento:this.cotizacionSeleccionada.valorDescuento,ivaValor:this.cotizacionSeleccionada.ivaValor,rteFuente:this.cotizacionSeleccionada.rteFuente,rteIca:this.cotizacionSeleccionada.rteIca,totalComision:this.cotizacionSeleccionada.totalComision,totalPrecioCliente:this.cotizacionSeleccionada.totalPrecioCliente.replace(/[^\d.-]/g,""),combus:this.cotizacionSeleccionada.combus,tasa:this.cotizacionSeleccionada.tasa,iva:this.cotizacionSeleccionada.iva,ta:this.cotizacionSeleccionada.ta,ivaTa:this.cotizacionSeleccionada.ivaTa,otros:this.cotizacionSeleccionada.otros,suplemento:this.cotizacionSeleccionada.suplemento,precioTrans:this.cotizacionSeleccionada.precioTrans,noches:this.cotizacionSeleccionada.noches,notas:this.cotizacionSeleccionada.notas,cliente:this.cotizacionSeleccionada.cliente,clientePorcentaje:this.cotizacionSeleccionada.clientePorcentaje,nochesAdicionales:this.cotizacionSeleccionada.nochesAdicionales,CreadorCotizacion:this.cotizacionSeleccionada.CreadorCotizacion,fechaCreacion:this.cotizacionSeleccionada.fechaCreacion,aerolineaIda:this.cotizacionSeleccionada.aerolineaIda,vueloIda:this.cotizacionSeleccionada.vueloIda,horaLlegadaIda:this.cotizacionSeleccionada.horaLlegadaIda,horaSalidaIda:this.cotizacionSeleccionada.horaSalidaIda,claseIda:this.cotizacionSeleccionada.claseIda,fechaInicio:this.cotizacionSeleccionada.fechaInicio,aerolineaVuelta:this.cotizacionSeleccionada.aerolineaVuelta,vueloVuelta:this.cotizacionSeleccionada.vueloVuelta,horaLlegadaVuelta:this.cotizacionSeleccionada.horaLlegadaVuelta,horaSalidaVuelta:this.cotizacionSeleccionada.horaSalidaVuelta,claseVuelta:this.cotizacionSeleccionada.claseVuelta,fechaFin:this.cotizacionSeleccionada.fechaFin,correo:this.cotizacionSeleccionada.correo,impuestosLiq:o[0].tieneImpuestos,extra:this.cotizacionSeleccionada.extra,transfer:this.cotizacionSeleccionada.transfer,incluye:this.cotizacionSeleccionada.incluye,noIncluye:this.cotizacionSeleccionada.noIncluye,status:"Pendiente",telefono:this.telefono||null,correoPasajero:this.correoPasajero||null};le.post("https://backmultidestinos.onrender.com/liquidacion",t).then(n=>{const r=n.data.idLiquidacion;if(o[0].tieneImpuestos){const s={idLiquidacion:r,defensaCivil:o[0].defensaCivil_Total,cormacarena5a11:o[0].cormacarena5a11_Total,cormacarena12a65:o[0].cormacarena12a65_Total,cormacarenaExtranjero:o[0].cormacarenaExtranjero_Total,pqsNaturales5a24:o[0].pqsNaturales5a24_Total,pqsNaturales25a65:o[0].pqsNaturales25a65_Total,pqsNaturalesExtranjero:o[0].pqsNaturalesExtranjero_Total,alcaldiaNacional:o[0].alcaldiaNacional_Total,alcaldiaExtranjero:o[0].alcaldiaExtranjero_Total,cormacarena5a11Personas:o[0].cormacarena5a11_numeroPersonas,cormacarena12a65Personas:o[0].cormacarena12a65_numeroPersonas,cormacarenaExtranjeroPersonas:o[0].cormacarenaExtranjero_numeroPersonas,pqsNaturales5a24Personas:o[0].pqsNaturales5a24_numeroPersonas,pqsNaturales25a65Personas:o[0].pqsNaturales25a65_numeroPersonas,pqsNaturalesExtranjeroPersonas:o[0].pqsNaturalesExtranjero_numeroPersonas,alcaldiaNacionalPersonas:o[0].alcaldiaNacional_numeroPersonas,alcaldiaExtranjeroPersonas:o[0].alcaldiaExtranjero_numeroPersonas,defensaCivilPersonas:o[0].defensaCivil_numeroPersonas};le.post("https://backmultidestinos.onrender.com/impuestosLiq",s).then(()=>{console.log("Impuestos creados exitosamente")}).catch(h=>{console.error("Error al crear los impuestos:",h)})}const l=this.pasajeros.map(s=>(s.idLiquidacion=r,le.post("https://backmultidestinos.onrender.com/pasajero",s)));Promise.all(l).then(()=>{console.log("Liquidaci\xF3n y pasajeros creados exitosamente"),le.post(`https://backmultidestinos.onrender.com/cotizacion/${e}`,{status:"Aprobado"}).then(()=>{console.log("Cotizaci\xF3n actualizada a 'Aprobado'")}).catch(s=>{console.error("Error al actualizar la cotizaci\xF3n:",s)})}).catch(s=>{console.error("Error al crear los pasajeros:",s)})}).catch(n=>{console.error("Error al crear la liquidaci\xF3n:",n)})}).catch(a=>{console.error("Error al obtener datos de la cotizaci\xF3n:",a)})},abrirModalPasajeros(e){this.cotizacionSeleccionada=e,this.totalPasajeros=e.totalPasajeros,this.pasajeros=[];for(let a=0;a<this.totalPasajeros;a++)this.pasajeros.push({nombre:"",tipoDocumento:"",numeroDocumento:"",fechaNacimiento:""});this.tieneTelefono=!1,this.telefono="",this.tieneNumero=!1,this.correoPasajero="",this.mostrarModalPasajeros=!0},cerrarModalPasajeros(){this.mostrarModalPasajeros=!1},async pasarALiquidacion(){console.log("Pasando cotizaci\xF3n a liquidaci\xF3n:",cotizacion)},filteredCotizacionData(){const e=this.selectedFilter,a=[...this.cotizacionData];return a.sort((o,t)=>{const n=o.idCotizacion,r=t.idCotizacion;if(n.includes("-C")&&!r.includes("-C"))return-1;if(!n.includes("-C")&&r.includes("-C"))return 1;const l=n.startsWith("COT-C")?parseInt(n.split("-C")[1],10):0,s=r.startsWith("COT-C")?parseInt(r.split("-C")[1],10):0;if(n.startsWith("COT-C")&&r.startsWith("COT-C"))return s-l;if(n.startsWith("COT-")&&r.startsWith("COT-")){const h=parseInt(n.split("-")[1],10);return parseInt(r.split("-")[1],10)-h}return 0}),a.filter(o=>{const t=e==="Todos"||e==="Cot-C"&&o.idCotizacion.includes("-C")||e==="Cot"&&!o.idCotizacion.includes("-C"),n=this.filterStatus===null||o.status===this.filterStatus;return t&&n})},customSort(e,a,o){const t=[...e];return a==="idCotizacion"?t.sort((n,r)=>{const[l,s]=n[a].split("-"),[h,x]=r[a].split("-");return l==="COT-"&&h==="COT-"?o?x-s:s-x:0}):a==="fechaCreacion"?t.sort((n,r)=>{const l=new Date(n[a]),s=new Date(r[a]);return o?s-l:l-s}):t.sort((n,r)=>{const l=o?r:n,s=o?n:r;return l[a]>s[a]?1:l[a]<s[a]?-1:0}),t},descargarCotizacionN(e){e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)},shouldHideAdditionalNightSection(){return this.destination==="Bah\xEDa Solano"&&this.programName==="Temporada Baja"&&this.hotel==="El Almejal Ecolodge"},mostrarDialogoSeleccionArchivo(){this.mostrarDialogo=!0},seleccionarArchivo(e){this.archivoSeleccionado=e.target.files[0]},async enviarCotizacion(e){try{const a=await(e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download=`cotizacion_${e.cliente}.pdf`,o.style.display="none",document.body.appendChild(o),o.click(),await new Promise(n=>setTimeout(n,1e3));const t=`mailto:${e.correo}?subject=Cotizaci\xF3n para ${e.cliente}&body=Estimado(a) ${e.cliente},%0D%0A%0D%0AAdjuntamos su cotizaci\xF3n (reci\xE9n descargada).%0D%0A%0D%0ASaludos cordiales,`;window.location.href=t,setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},1e3),this.$q.notify({message:"Abriendo cliente de correo...",color:"info"})}catch(a){console.error(a),this.$q.notify({message:"Error al enviar la cotizaci\xF3n",color:"negative"})}},checkPageOverflow(e,a,o,t=10){const n=e.internal.pageSize.height;return a+o>n-t?(e.addPage(),margins.top):a},async descargarCotizacionCano(e){try{let we=function(i){return i.map(m=>{const S=m.adultos,E=m.ni\u00F1os,K=`1x${S}`;return E>0?`${K} CHD`:K}).join(", ")},Re=function(i){for(let m=0;m<=6;m++){const S=C.left+m*X;g.line(S,i,S,i+k)}g.line(C.left,i,p-C.right,i),g.line(C.left,i+k,p-C.right,i+k)};const[a,o,t]=await Promise.all([le.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),le.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`),le.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const n=o.data[0],r=t.data[0];console.log("impuesto",r);const l=a.data;console.log("habitacion",l);const s=await le.get(`https://backmultidestinos.onrender.com/cliente/buscar/${n.cliente}`);console.log("clienteResponse",s);const h=s.data[0];console.log("clienteData",h);const x=h.tipoBase,f=await le.get(`https://backmultidestinos.onrender.com/user/${n.CreadorCotizacion}`),A=f.Data;console.log("vendedor",f.data.nombreCompleto);const G={hotel:n.hotel,nombrePrograma:n.nombrePrograma,destino:n.destino},z=await le.post("https://backmultidestinos.onrender.com/hoteles/buscar",G),Z=z.data[0].incluye,L=z.data[0].noIncluye,g=new qt,C={top:15,bottom:10,left:15,right:15},p=g.internal.pageSize.width,v=g.internal.pageSize.height,V=50,Q={left:15,right:15,top:10,bottom:10},xe=await new Promise((i,m)=>{const S=new Image;S.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",S.onload=()=>i(S),S.onerror=m}),ve=xe.width/xe.height,be=p/4-Q.left-Q.right,Ae=Math.min(120,be),Pe=Ae/ve,de=C.top+(V-Pe)/2,ye=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,ae=`Numero de cotizaci\xF3n: ${e}`;g.addImage(xe,"PNG",C.left+Q.left,de,Ae,Pe);const he=p-C.left-C.right-Ae-Q.left-Q.right-20;g.setFontSize(10),g.setFont("Helvetica","normal"),g.text(g.splitTextToSize(ye,he),C.left+Ae+Q.left+Q.right,C.top+15);const Xe=p-C.right-g.getTextWidth(ae)-Q.right;g.setFontSize(14),g.setFont("Helvetica-Bold"),g.text(ae,Xe,C.top+15),g.setDrawColor(0),g.setLineWidth(.5),g.roundedRect(C.left,C.top,p-C.left-C.right,V,10,10,"S"),g.setFillColor(51,102,204),g.rect(C.left,C.top,p-C.left-C.right,V,"F"),g.setFontSize(10);const Je=C.top+V+10;g.setFontSize(10),g.text("SOLICITUD DE RESERVA:",C.left,Je-4),g.setFontSize(8);const q=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],_e=[new Date(n.fechaCreacion).toLocaleDateString(),n.cliente.toString(),h.telefono?h.telefono.toString():"N/A",h.nit?h.nit.toString():"N/A",h.nit?h.nit.toString():"N/A",f.data.nombreCompleto?f.data.nombreCompleto.toString():"N/A"],Ye=6,ne=(p-C.left-C.right)/Ye;let fe=C.left,U=Je;for(let i=0;i<q.length;i++){g.text(q[i],fe,U);const m=_e[i]!==void 0?_e[i]:"N/A",S=g.splitTextToSize(m,ne-2);g.text(S,fe,U+5),fe+=ne,((i+1)%Ye===0||i===q.length-1)&&(U+=15,fe=C.left)}const j=we(l),_=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],y=[n.noches?n.noches.toString():"N/A",n.hotel?n.hotel.toString():"N/A",n.plan?n.plan.toString():"N/A",n.destino?n.destino.toString():"N/A",n.direccion?n.direccion.toString():"N/A",j.toString()];console.log("campso2",y);const T=6,W=(p-C.left-C.right)/T;U+=1;for(let i=0;i<_.length;i++){g.text(_[i],fe,U);const m=y[i]!==void 0?y[i]:"N/A",S=g.splitTextToSize(m,W-2);g.text(S,fe,U+5),fe+=W}U+=1,g.setFontSize(10),g.text("ITINERARIO: ",C.left,U+12),U+=20;const F=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],Ce=[[n.aerolineaIda||"N/A",n.vueloIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta1||"N/A",n.claseIda||"N/A",n.horaSalidaIda||"N/A",n.horaLlegadaIda||"N/A",n.recordIda||"N/A"]];n.aerolineaEscalaIda!=null&&(Ce.push([n.aerolineaEscalaIda||"N/A",n.vueloEscalaIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",n.claseEscalaIda||"N/A",n.horaSalidaEscalaIda||"N/A",n.horaLlegadaEscalaIda||"N/A",""]),Ce.push([n.aerolineaEscalaVuelta||"N/A",n.vueloEscalaVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",n.claseEscalaVuelta||"N/A",n.horaSalidaEscalaVuelta||"N/A",n.horaLlegadaEscalaVuelta||"N/A",""])),Ce.push([n.aerolineaVuelta||"N/A",n.vueloVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta2||"N/A",n.claseVuelta||"N/A",n.horaSalidaVuelta||"N/A",n.horaLlegadaVuelta||"N/A",n.recordVuelta||"N/A"]);const R=(p-C.left-C.right)/F.length,se=p-C.left-C.right,We=10+8*Ce.length;g.rect(C.left,U,se,We,"S"),g.setFontSize(8),F.forEach((i,m)=>{g.text(i,C.left+m*R,U+5)}),U+=10,Ce.forEach((i,m)=>{i.forEach((S,E)=>{g.text(S,C.left+E*R,U+m*8)})}),U+=We+5;const Qe="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",He=U-10,Ke=30;g.setDrawColor(0),g.rect(C.left,He,p-C.left-C.right,Ke),g.setFontSize(12),g.text("OBSERVACIONES:",C.left+2,He+6),g.setFontSize(10),g.text(Qe,C.left+2,He+15,{maxWidth:p-C.left-C.right-4});let Te=6;const ea=U+25,Ze=Z.split("\xBF"),Ne=6,Le=5;let aa=0;Ze.forEach(i=>{aa+=g.getTextDimensions(i.trim(),{fontSize:8,maxWidth:p-C.left-C.right-4}).h});const De=aa+Ne+Le+10;g.setDrawColor(0),g.rect(C.left,ea,p-C.left-C.right,De),g.setFontSize(12),g.text("INCLUYE:",C.left+2,ea+6),g.setFontSize(8);let ee=ea+Ne+Le;Ze.forEach(i=>{g.text(i.trim(),C.left+2,ee,{maxWidth:p-C.left-C.right-4}),ee+=g.getTextDimensions(i.trim(),{fontSize:8,maxWidth:p-C.left-C.right-4}).h}),g.addPage(),U=C.top;const Ve=12;g.setFontSize(10),g.text("LIQUIDACI\xD3N:",C.left,U),U+=5;const ge=U+5,J=2,k=6,X=(p-C.left-C.right)/6;g.setDrawColor(0);let sa=0;g.setFontSize(7);let Ue=0;l.forEach(i=>{const m=ge+Ue*k;Re(m);const S=`Valor adul ${i.acomodacion}`;g.text(S,C.left+J,m+k/2,{baseline:"middle"});const E=Math.round(i.precioComisionableAdulto);g.text(E.toString(),C.left+X+J,m+k/2,{baseline:"middle"});const K=i.adultos;g.text(K.toString(),C.left+2*X+J,m+k/2,{baseline:"middle"});const I=Math.round(i.precioComisionableAdulto*i.adultos);if(g.text(I.toString(),C.left+3*X+J,m+k/2,{baseline:"middle"}),Ue===0){g.setFontSize(6);const w=x==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";g.text(w,C.left+4*X+J,m+k/2,{baseline:"middle"}),g.setFontSize(7)}let b=I;if(i.ni\u00F1os>0&&(b+=Math.round(i.precioComisionableNino*i.ni\u00F1os)),sa+=b,Ue++,i.ni\u00F1os>0){const w=ge+Ue*k;Re(w);const Y=`Valor child ${i.acomodacion}`;g.text(Y,C.left+J,w+k/2,{baseline:"middle"});const Oe=Math.round(i.precioComisionableNino);g.text(Oe.toString(),C.left+X+J,w+k/2,{baseline:"middle"});const je=i.ni\u00F1os;g.text(je.toString(),C.left+2*X+J,w+k/2,{baseline:"middle"});const $e=Math.round(i.precioComisionableNino*i.ni\u00F1os);g.text($e.toString(),C.left+3*X+J,w+k/2,{baseline:"middle"}),Ue++}}),g.text(sa.toString(),C.left+5*X+J,ge+k/2,{baseline:"middle"}),U=ge+Ue*k+10;const te=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],B=[n.otros,n.combus,n.iva,n.tasa,n.ta,n.ivaTa,r.defensaCivil_Total,r.alcaldiaNacional_Total,r.alcaldiaExtranjero_Total,r.pqsNaturalesExtranjero_Total,r.pqsNaturales25a65_Total,r.pqsNaturales5a24_Total,r.cormacarenaExtranjero_Total,r.cormacarena5a11_Total,r.cormacarena12a65_Total,n.precioTrans],ta=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],ie={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(n.suplemento>0&&(te.push("SUPLEMENTO"),B.push(n.suplemento)),n.extra1)if(n.extra1.includes("*")){let i=n.extra1.split("*"),m=i[0],S=i[1];te.push("Valor Extra","Valor Extra2"),B.push(m,S)}else{let i=n.extra1;te.push("Valor Extra"),B.push(i)}te.forEach((i,m)=>{const S=U+m*k;Re(S);const E=ie[i]||i;g.text(E,C.left+J,S+k/2,{baseline:"middle"});const K=n.totalPasajeros,I=B[m]||0;let b="";if(ta.includes(i)){const je=`${i}_numeroPersonas`,$e=r[je]||0;b=$e!==0?Math.trunc(I/$e):""}else b=K!==0?Math.trunc(I/K):"";g.text(b.toString(),C.left+X+J,S+k/2,{baseline:"middle"});const w=K!==0?Math.trunc(K).toString():"";let Y="";if(ta.includes(i)){const je=`${i}_numeroPersonas`;Y=r[je]||""}else Y=w;g.text(Y,C.left+2*X+J,S+k/2,{baseline:"middle"});const Oe=I!==0?Math.trunc(I).toString():"";if(g.text(Oe,C.left+3*X+J,S+k/2,{baseline:"middle"}),i==="Q"){g.text("Porcentaje",C.left+4*X+J,S+k/2,{baseline:"middle"});const je=n.clientePorcentaje||0,$e=Math.trunc(je).toString()+"%";g.text($e,C.left+5*X+J,S+k/2,{baseline:"middle"})}else if(i==="YS"){g.text("Valor Descuento",C.left+4*X+J,S+k/2,{baseline:"middle"});const je=n.valorDescuento||0,$e=Math.trunc(je).toString();g.text($e,C.left+5*X+J,S+k/2,{baseline:"middle"}),x==="Comisi\xF3n"&&[{label:`IVA(${h.porcentajeIva}%) (-)`,value:n.ivaValor},{label:`RTE FUENTE(${h.rteFuente}%) (+)`,value:n.rteFuente},{label:`RTE ICA(${h.rteIca}%) (+)`,value:n.rteIca},{label:"Total Comisi\xF3n",value:n.totalComision}].forEach((la,ba)=>{const ma=S+(ba+1)*k;Re(ma),g.text(la.label,C.left+4*X+J,ma+k/2,{baseline:"middle"}),g.text(la.value.toString(),C.left+5*X+J,ma+k/2,{baseline:"middle"})})}}),U+=te.length*k,l.forEach(i=>{if(i.adultos>0){const m=U;Re(m),g.text(`Valor total Adt ${i.acomodacion}`,C.left+J,m+k/2,{baseline:"middle"});const S=i.precioHabitacionAdulto||0,E=Ta(S).format("$0,0");g.text(E,C.left+3*X+J,m+k/2,{baseline:"middle"}),U+=k}if(i.ni\u00F1os>0){const m=U;Re(m),g.text(`Valor total Chd ${i.acomodacion}`,C.left+J,m+k/2,{baseline:"middle"});const S=i.precioHabitacionNino||0,E=Ta(S).format("$0,0");g.text(E,C.left+3*X+J,m+k/2,{baseline:"middle"}),U+=k}}),g.setFontSize(8),U+=k,Re(U),g.text("Valor total",C.left+J,U+k/2,{baseline:"middle"});const ke=n.precioBrutoTotal||0,ca=Ta(ke).format("$0,0");g.text(ca,C.left+3*X+J,U+k/2,{baseline:"middle"}),g.text("Precio a pagar",C.left+4*X+J,U+k/2-2,{baseline:"middle"}),g.text("a Multidestinos",C.left+4*X+J,U+k/2+2,{baseline:"middle"});const pe=parseFloat(n.suplemento)||0,Me=parseFloat(n.totalPrecioCliente)||0,$=pe>0?Me+pe:Me,re=Ta($).format("$0,0");g.text(re,C.left+5*X+J,U+k/2,{baseline:"middle"}),U+=k+10;const Be=C.left;let Ie=U+5;const Ge=190;let oa=30;g.setFontSize(7),g.setLineWidth(.5);const pa="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",va=g.splitTextToSize(pa,Ge-10);Ie+oa>v-C.bottom&&(g.addPage(),U=C.top,Ie=U+5),g.text("Deposito y Condiciones de Pago",Be+5,Ie+3),g.setFontSize(6);const ua=5;oa=20+va.length*ua,g.rect(Be,Ie,Ge,oa),va.forEach((i,m)=>{g.text(i,Be+5,Ie+10+m*ua)}),U+=oa+5;const c=g.output("blob");return g.save(`cotizacion_${e}.pdf`),c}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},async descargarCotizacion(e){var a,o,t,n;try{let _=function(b){return b.map(w=>{const Y=w.adultos,Oe=w.ni\u00F1os,je=`1x${Y}`;return Oe>0?`${je} CHD`:je}).join(", ")},ke=function(b){for(let w=0;w<=6;w++){const Y=v.left+w*ie;p.line(Y,b,Y,b+B)}p.line(v.left,b,V-v.right,b),p.line(v.left,b+B,V-v.right,b+B)};const[r,l]=await Promise.all([le.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),le.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`)]);if(r.status!==200||l.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const s=l.data[0];console.log("cotizacion",s);const h=r.data;console.log("habitacion",h);const x=await le.get(`https://backmultidestinos.onrender.com/cliente/buscar/${s.cliente}`);console.log("clienteResponse",x);const f=x.data[0];console.log("clienteData",f);const A=f==null?void 0:f.tipoBase,G=await le.get(`https://backmultidestinos.onrender.com/user/${s.CreadorCotizacion}`),z=G.Data;console.log("vendedor",G.data.nombreCompleto);const Z={hotel:s.hotel,nombrePrograma:s.nombrePrograma,destino:s.destino},L=await le.post("https://backmultidestinos.onrender.com/hoteles/buscar",Z),g=s.incluye?s.incluye:(o=(a=L==null?void 0:L.data)==null?void 0:a[0])==null?void 0:o.incluye,C=s.noIncluye?s.noIncluye:(n=(t=L==null?void 0:L.data)==null?void 0:t[0])==null?void 0:n.noIncluye,p=new qt,v={top:10,bottom:10,left:10,right:10},V=p.internal.pageSize.width,Q=p.internal.pageSize.height,xe=40,ve={left:10,right:10,top:5,bottom:5},be=await new Promise((b,w)=>{const Y=new Image;Y.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",Y.onload=()=>b(Y),Y.onerror=w}),Ae=be.width/be.height,Pe=V/4-ve.left-ve.right,de=Math.min(100,Pe),ye=de/Ae,ae=v.top+(xe-ye)/2,he=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,Xe=`Numero de cotizaci\xF3n: ${e}`;p.addImage(be,"PNG",v.left+ve.left,ae,de,ye);const Je=V-v.left-v.right-de-ve.left-ve.right-10;p.setFontSize(10),p.text(p.splitTextToSize(he,Je),v.left+de+ve.left+ve.right,v.top+10);const q=V-v.right-p.getTextWidth(Xe)-ve.right;p.setFontSize(12),p.setFont("helvetica"),p.text(Xe,q,v.top+10),p.setDrawColor(0),p.rect(v.left,v.top,V-v.left-v.right,xe,"S"),p.setFontSize(10);const _e=v.top+xe+10;p.setFontSize(10),p.text("SOLICITUD DE RESERVA:",v.left,_e-4),p.setFontSize(8);const Ye=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],ne=[new Date(new Date(s.fechaCreacion).getTime()+new Date(s.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),s.cliente.toString(),f&&f.telefono?f.telefono.toString():"N/A","N/A",f&&f.nit?f.nit.toString():"N/A",G.data.nombreCompleto?G.data.nombreCompleto.toString():"N/A"],fe=6,U=(V-v.left-v.right)/fe;let we=v.left,j=_e;for(let b=0;b<Ye.length;b++){p.text(Ye[b],we,j);const w=ne[b]!==void 0?ne[b]:"N/A",Y=p.splitTextToSize(w,U-2);p.text(Y,we,j+5),we+=U,((b+1)%fe===0||b===Ye.length-1)&&(j+=15,we=v.left)}const y=_(h),T=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],W=[s.noches?s.noches.toString():"N/A",s.hotel?s.hotel.toString():"N/A",s.plan?s.plan.toString():"N/A",s.destino?s.destino.toString():"N/A",s.direccion?s.direccion.toString():"N/A",y.toString()];console.log("campso2",W);const F=6,Ce=(V-v.left-v.right)/F;j+=1;for(let b=0;b<T.length;b++){p.text(T[b],we,j);const w=W[b]!==void 0?W[b]:"N/A",Y=p.splitTextToSize(w,Ce-2);p.text(Y,we,j+5),we+=Ce}j+=22,p.setFontSize(10),p.text("ITINERARIO: ",v.left,j-10);const R=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],se=[[s.aerolineaIda||"N/A",s.vueloIda||"N/A",s.fechaInicio?new Date(new Date(s.fechaInicio).getTime()+new Date(s.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",s.ruta1||"N/A",s.claseIda||"N/A",s.horaSalidaIda||"N/A",s.horaLlegadaIda||"N/A",s.recordIda||"N/A"]];s.aerolineaEscalaIda!=null&&(se.push([s.aerolineaEscalaIda||"N/A",s.vueloEscalaIda||"N/A",s.fechaInicio?new Date(new Date(s.fechaInicio).getTime()+new Date(s.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",s.claseEscalaIda||"N/A",s.horaSalidaEscalaIda||"N/A",s.horaLlegadaEscalaIda||"N/A",""]),se.push([s.aerolineaEscalaVuelta||"N/A",s.vueloEscalaVuelta||"N/A",s.fechaFin?new Date(new Date(s.fechaFin).getTime()+new Date(s.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",s.claseEscalaVuelta||"N/A",s.horaSalidaEscalaVuelta||"N/A",s.horaLlegadaEscalaVuelta||"N/A",""])),se.push([s.aerolineaVuelta||"N/A",s.vueloVuelta||"N/A",s.fechaFin?new Date(new Date(s.fechaFin).getTime()+new Date(s.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",s.ruta2||"N/A",s.claseVuelta||"N/A",s.horaSalidaVuelta||"N/A",s.horaLlegadaVuelta||"N/A",s.recordVuelta||"N/A"]);const We=(V-v.left-v.right)/R.length,Qe=V-v.left-v.right,He=12+8*se.length;j+=5,p.rect(v.left,j-5,Qe,He,"S"),p.setFontSize(8),R.forEach((b,w)=>{p.text(b,v.left+w*We,j)}),j+=5,se.forEach((b,w)=>{b.forEach((Y,Oe)=>{p.text(Y,v.left+Oe*We,j+(w+1)*8)})}),j+=He-5;const Ke="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Te=j+10,ea=30;p.setDrawColor(0),p.rect(v.left,Te,V-v.left-v.right,ea),p.setFontSize(12),p.text("OBSERVACIONES:",v.left+2,Te+6),p.setFontSize(10),p.text(Ke,v.left+2,Te+15,{maxWidth:V-v.left-v.right-4});let Ze=6;const Ne=j+50,Le=(g==null?void 0:g.split("\xBF"))||[],aa=6,De=5;let ee=0;Le.forEach(b=>{ee+=p.getTextDimensions(b.trim(),{fontSize:8,maxWidth:V-v.left-v.right-4}).h});const Ve=ee+aa+De+10;p.setDrawColor(0),p.rect(v.left,Ne,V-v.left-v.right,Ve),p.setFontSize(12),p.text("INCLUYE:",v.left+2,Ne+6),p.setFontSize(8);let ge=Ne+aa+De;Le.forEach(b=>{p.text(b.trim(),v.left+2,ge,{maxWidth:V-v.left-v.right-4}),ge+=p.getTextDimensions(b.trim(),{fontSize:8,maxWidth:V-v.left-v.right-4}).h}),p.addPage(),j=v.top;const J=12,k=j+5,Fe=(C||"").split(`
`).flatMap(b=>b.split("\xBF").map(w=>w.trim()));p.setDrawColor(0),p.rect(v.left,k,V-v.left-v.right,0),p.setFont("helvetica"),p.setFontSize(10),p.setTextColor(0),p.text("NO INCLUYE:",v.left+2,k+6),p.setFontSize(8),Ze=3;let X=k+J,Re=!1;Fe.forEach((b,w)=>{if(b==="")return;const Y=Re?Ze/3:Ze,Oe=X+Y;p.text(b,v.left+10,Oe,{maxWidth:V-v.left-v.right-10}),X=Oe+Ze,Re=b.endsWith("\xBF")});const sa=X-k;p.rect(v.left,k,V-v.left-v.right,sa),j=X+15,p.setFontSize(10),p.text("LIQUIDACI\xD3N:",v.left,j),j+=5;const Ue=j+5,te=2,B=6,ie=(V-v.left-v.right)/6;p.setDrawColor(0);let ca=0;p.setFontSize(7);let pe=0;h.forEach(b=>{const w=Ue+pe*B;ke(w);const Y=`Valor adul ${b.acomodacion}`;p.text(Y,v.left+te,w+B/2,{baseline:"middle"});const Oe=Math.round(b.precioComisionableAdulto);p.text(Oe.toString(),v.left+ie+te,w+B/2,{baseline:"middle"});const je=b.adultos;console.log("numAdultos",je),p.text(je.toString(),v.left+2*ie+te,w+B/2,{baseline:"middle"});const $e=Math.round(b.precioComisionableAdulto*b.adultos);if(p.text($e.toString(),v.left+3*ie+te,w+B/2,{baseline:"middle"}),pe===0){p.setFontSize(6);const la=A==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";p.text(la,v.left+4*ie+te,w+B/2,{baseline:"middle"}),p.setFontSize(7)}let da=$e;if(b.ni\u00F1os>0&&(da+=Math.round(b.precioComisionableNino*b.ni\u00F1os)),ca+=da,pe++,b.ni\u00F1os>0){const la=Ue+pe*B;ke(la);const ba=`Valor child ${b.acomodacion}`;p.text(ba,v.left+te,la+B/2,{baseline:"middle"});const ma=Math.round(b.precioComisionableNino);p.text(ma.toString(),v.left+ie+te,la+B/2,{baseline:"middle"});const Za=b.ni\u00F1os;p.text(Za.toString(),v.left+2*ie+te,la+B/2,{baseline:"middle"});const La=Math.round(b.precioComisionableNino*b.ni\u00F1os);p.text(La.toString(),v.left+3*ie+te,la+B/2,{baseline:"middle"}),pe++}}),p.text(ca.toString(),v.left+5*ie+te,Ue+B/2,{baseline:"middle"}),j=Ue+pe*B+10;const Me=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"],$=[],re=[];if(Array.isArray(h)?h.forEach(b=>{Me.forEach(w=>{const Y=b[w];Y!=null&&Y!=null&&Y!==""&&($.push(w),re.push(Y))})}):typeof h=="object"&&h!==null&&Me.forEach(b=>{const w=h[b];w!=null&&w!=null&&w!==""&&($.push(b),re.push(w))}),$.push("TRANSPORTE NO COMISI"),re.push(s.otros),$.push("Q"),re.push(s.combus),$.push("YS"),re.push(s.iva),$.push("CO"),re.push(s.tasa),$.push("TA"),re.push(s.ta),$.push("YS TA"),re.push(s.ivaTa),$.push("TOTAL IMPUESTOS"),re.push(s.precioTrans),s.suplemento>0&&($.push("SUPLEMENTO"),re.push(s.suplemento)),s.suplemento>0&&($.push("SUPLEMENTO"),re.push(s.suplemento)),s.extra1)if(s.extra1.includes("*")){let b=s.extra1.split("*"),w=b[0],Y=b[1];$.push("Valor Extra","Valor Extra2"),re.push(w,Y)}else{let b=s.extra1;$.push("Valor Extra"),re.push(b)}$.forEach((b,w)=>{const Y=j+w*B;ke(Y),p.text(b,v.left+te,Y+B/2,{baseline:"middle"});const Oe=s.totalPasajeros,je=re[w]||0,$e=Oe!==0?Math.trunc(je/Oe):"";p.text($e.toString(),v.left+ie+te,Y+B/2,{baseline:"middle"});const da=Oe!==0?Math.trunc(Oe).toString():"";p.text(da,v.left+2*ie+te,Y+B/2,{baseline:"middle"});const la=je!==0?Math.trunc(je).toString():"";if(p.text(la,v.left+3*ie+te,Y+B/2,{baseline:"middle"}),b==="Q"){p.text("Porcentaje",v.left+4*ie+te,Y+B/2,{baseline:"middle"});const ba=s.clientePorcentaje||0,ma=Math.trunc(ba).toString()+"%";p.text(ma,v.left+5*ie+te,Y+B/2,{baseline:"middle"})}else if(b==="YS"){p.text("Valor Descuento",v.left+4*ie+te,Y+B/2,{baseline:"middle"});const ba=s.valorDescuento||0,ma=Math.trunc(ba).toString();p.text(ma,v.left+5*ie+te,Y+B/2,{baseline:"middle"}),A==="Comisi\xF3n"&&[{label:`IVA(${f.porcentajeIva}%) (-)`,value:s.ivaValor},{label:`RTE FUENTE(${f.rteFuente}%) (+)`,value:s.rteFuente},{label:`RTE ICA(${f.rteIca}%) (+)`,value:s.rteIca},{label:"Total Comisi\xF3n",value:s.totalComision}].forEach((La,dt)=>{const Ha=Y+(dt+1)*B;ke(Ha),p.text(La.label,v.left+4*ie+te,Ha+B/2,{baseline:"middle"}),p.text(La.value.toString(),v.left+5*ie+te,Ha+B/2,{baseline:"middle"})})}}),j+=$.length*B,h.forEach(b=>{if(b.adultos>0){const w=j;ke(w),p.text(`Valor total Adt ${b.acomodacion}`,v.left+te,w+B/2,{baseline:"middle"});const Y=b.precioHabitacionAdulto||0,Oe=Ta(Y).format("$0,0");p.text(Oe,v.left+3*ie+te,w+B/2,{baseline:"middle"}),j+=B}if(b.ni\u00F1os>0){const w=j;ke(w),p.text(`Valor total Chd ${b.acomodacion}`,v.left+te,w+B/2,{baseline:"middle"});const Y=b.precioHabitacionNino||0,Oe=Ta(Y).format("$0,0");p.text(Oe,v.left+3*ie+te,w+B/2,{baseline:"middle"}),j+=B}}),p.setFontSize(8),j+=B,ke(j),p.text("Valor total",v.left+te,j+B/2,{baseline:"middle"});const Be=s.precioBrutoTotal||0,Ie=Ta(Be).format("$0,0");p.text(Ie,v.left+3*ie+te,j+B/2,{baseline:"middle"}),p.text("Precio a pagar",v.left+4*ie+te,j+B/2-2,{baseline:"middle"}),p.text("a Multidestinos",v.left+4*ie+te,j+B/2+2,{baseline:"middle"});const Ge=0,oa=parseFloat(s.totalPrecioCliente)||0,pa=Ge>0?oa+Ge:oa,va=Ta(pa).format("$0,0");p.text(va,v.left+5*ie+te,j+B/2,{baseline:"middle"}),j+=B+10;const ua=v.left;let c=j+5;const i=190;let m=30;p.setFontSize(7),p.setLineWidth(.5),p.setFontSize(6);const S=5,E="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",K=p.splitTextToSize(E,i-10);m=20+K.length*S,c+m>Q-v.bottom&&(p.addPage(),j=v.top),c=j,p.rect(ua,j,i,m),p.text("Deposito y Condiciones de Pago",ua+5,c+3),K.forEach((b,w)=>{p.text(b,ua+5,c+10+w*S)}),j+=m+5;const I=p.output("blob");return p.save(`cotizacion_${e}.pdf`),I}catch(r){console.error("Error al descargar cotizaci\xF3n:",r)}},handleChildrenChange(e){this.rooms[e].numChildren=this.hasChildren[e]?1:0},async fetchCotizacionData(){try{const e=await le.get("https://backmultidestinos.onrender.com/cotizacion");this.cotizacionData=e.data}catch(e){console.error("Error fetching cotizacion data:",e)}},async fetchClientOptions(){try{console.log("Obteniendo opciones de clientes...");const e=await le.get("https://backmultidestinos.onrender.com/cliente");console.log("Opciones de clientes nombre:",e.data.nombre);const a=e.data.map(o=>o.nombre);console.log("Opciones de clientes:",a),this.clientOptions=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptionCorreo(){this.correo="",this.OptionCorreo=[];try{const a=(await le.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`)).data.flatMap(o=>o.correo.split(","));this.OptionCorreo=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptions(){try{if(!this.selectedDeparture||this.selectedDeparture.trim()===""){console.warn("Debe seleccionar una ciudad de salida.");return}console.log("Realizando solicitud HTTP para cargar opciones..."),console.log("Salida seleccionada:",this.selectedDeparture);const e=await le.get(`https://backmultidestinos.onrender.com/planes/porCiudad/${this.selectedDeparture}`);console.log("Respuesta del servidor:",e.data);const a={},o={};e.data.forEach(n=>{const r=n.destino;a[r]||(a[r]={programNameOptions:[],hotelOptions:[],nochesOptions:[],accommodationOptions:[]},o[r]={nochesOptions:[]}),a[r].programNameOptions.push(n.nombrePrograma),a[r].hotelOptions.push(...n.hotel.split("*")),a[r].nochesOptions.push(...n.noches.split("*")),a[r].accommodationOptions.push(...n.acomodacion.split("*")),o[r].nochesOptions.push(...n.noches.split("*"))}),this.optionsByDestination=a,this.originalOptionsByDestination=o;const t=e.data.map(n=>n.destino);this.destinationOptions=[...new Set(t)]}catch(e){console.error("Error al cargar opciones:",e)}},updateOptionsByDestination(e){const a=this.optionsByDestination[e];a?(this.programNameOptions=[...new Set(a.programNameOptions)],this.hotelOptions=[...new Set(a.hotelOptions)],this.accommodationOptions=[...new Set(a.accommodationOptions)],this.nochesOptions=[...new Set(a.nochesOptions)].map(o=>({label:o,value:parseInt(o.split(" ")[0])})),this.programName=null,this.noche=null,this.hotel=null):(this.programNameOptions=[],this.hotelOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.programName=null,this.noche=null,this.hotel=null)},buscarTiposDeHabitacion(){le.post("https://backmultidestinos.onrender.com/hoteles/buscar",this.params).then(e=>{const a=e.data.map(t=>t.tipoDeHabitacion),o=[...new Set(a)];this.tipoDeHabitacionOptions=o}).catch(e=>{console.error("Error al buscar hoteles:",e)})},handleDepartureChange(){this.clearFieldsc(),this.destinationOptions=[],this.programNameOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.OptionCorreo=[],this.hotelOptions=[],this.roomTypeOptions=[],console.log("Cambio en la selecci\xF3n de salida. Cargando opciones..."),this.fetchOptions(),this.fetchClientOptions()},handleSelectionChangeTipo(e){var o;if(e==null||e.value,!this.hotel||!this.programName||!this.destination||!this.selectedDeparture){console.warn("Faltan datos para buscar tipos de habitaci\xF3n");return}const a=(o=this.noche)==null?void 0:o.label;if(!a){console.warn("No se ha seleccionado una noche v\xE1lida.");return}this.paramsN.hotel=this.hotel,this.paramsN.nombrePrograma=this.programName,this.paramsN.destino=this.destination,this.paramsN.noches=a,this.paramsN.pertenece=this.selectedDeparture,console.log("Noche escogida:",a),console.log("Par\xE1metros enviados:",this.paramsN),le.post("https://backmultidestinos.onrender.com/hoteles/buscarN",this.paramsN).then(t=>{console.log("Respuesta del servidor:",t.data);const n=t.data.map(l=>l.tipoHabitacion),r=[...new Set(n)];console.log("Tipos de habitaci\xF3n \xFAnicos:",r),this.roomTypeOptions=r}).catch(t=>{console.error("Error al buscar hoteles:",t),this.$q.notify({message:"Hubo un error al cargar los tipos de habitaci\xF3n",color:"negative"})})},openModalPersonalizado(){this.modalVisiblePersonalizado=!0},openModal(){this.modalVisible=!0},closeModalPersonalizado(){this.modalVisiblePersonalizado=!1,this.clearFieldsPersonalizado()},closeModal(){this.modalVisible=!1,this.clearFields()},resetVariables(){this.aerolineaEscalaIda="",this.vueloEscalaIda="",this.horaLlegadaEscalaIda="",this.horaSalidaEscalaIda="",this.claseEscalaIda="",this.aerolineaEscalaVuelta="",this.vueloEscalaVuelta="",this.horaLlegadaEscalaVuelta="",this.horaSalidaEscalaVuelta="",this.claseEscalaVuelta="",this.aerolineaValue1="",this.vueloValue1="",this.aerolineaValue2="",this.vueloValue2="",this.horaSalidaValue1="",this.horaLlegadaValue1="",this.horaSalidaValue2="",this.horaLlegadaValue2="",this.claseValue1="",this.claseValue2="",this.totalAdultos=0,this.totalNi\u00F1os=0,this.hasChildren=[],this.additionalNightSelected=!1,this.additionalNightCount=0,this.habitacionesDatos=[],this.totalImpuestos=0,this.sumaTotalAcomodacion=0,this.sumaValorBrutohab=0,this.sumaTotalDescuento=0,this.childrenPriceNumber=0,this.cormacarena5a11Total=0,this.cormacarena12a65Total=0,this.cormacarenaExtranjeroTotal=0,this.pqsNaturales5a24Total=0,this.pqsNaturales25a65Total=0,this.pqsNaturalesExtranjeroTotal=0,this.alcaldiaNacionalTotal=0,this.alcaldiaExtranjeroTotal=0,this.defensaCivilTotal=0,this.cormacarena5a11Personas=0,this.cormacarena12a65Personas=0,this.cormacarenaExtranjeroPersonas=0,this.pqsNaturales5a24Personas=0,this.pqsNaturales25a65Personas=0,this.pqsNaturalesExtranjeroPersonas=0,this.alcaldiaNacionalPersonas=0,this.alcaldiaExtranjeroPersonas=0,this.defensaCivilPersonas=0},async obtenerInformacionTiquete(e,a){try{const o=await le.get(`https://backmultidestinos.onrender.com/tiquete/buscar/${e}/${a}`);return console.log("Informaci\xF3n del tiquete:",o.data),o.data}catch(o){throw console.error("Error al obtener la informaci\xF3n del tiquete:",o),o}},async saveFormData(){var x,f,A,G,z,Z;if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,r=0,l=0;const h=(await le.get("https://backmultidestinos.onrender.com/CanoCristal/")).data;console.log("Datos de impuestos obtenidos:",h);try{const L=await le.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",L);let g=null,C=null,p=null,v=null,V=null;L.data.forEach(_=>{_.nombre===this.selectedClient&&(g=this.programName==="Ca\xF1o Cristales"?parseFloat(_.lmc):parseFloat(_.demas),C=_.tipoBase,p=_.rteFuente,v=_.rteIca,V=_.porcentajeIva)}),console.log("clientePorcentaje",g),console.log("clienteTipoBase",C),console.log("rteFuente",p),console.log("rteIca",v),console.log("ivaValor",V);const Q=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",Q);const xe=Q[0].total,ve=parseFloat(xe);console.log("tiquete",xe),console.log("tiqueteNum",ve);let be=0;if(this.supplementValues)for(let _=0;_<this.supplementValues.length;_++)this.supplementValues[_]&&(console.log("persona",[_],this.supplementValues[_]),be+=parseFloat(this.supplementValues[_])-ve),console.log("Total suplemento",[_],be);console.log("Valor del suplemento:",be);const Ae=[];this.rooms.forEach((_,y)=>{const T={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:_.roomType,noches:this.noche.value};Ae.push(T)}),console.log("edades",Ae);try{const _=await Promise.all(Ae.map(R=>le.post("https://backmultidestinos.onrender.com/hoteles/buscarT",R)));console.log("preciosResponseArray",_),console.log("preciosResponseArray data",_.data);const y=[];_.forEach(R=>{R.data.length>0?y.push(...R.data):console.log("No se encontraron datos en esta respuesta")}),console.log(y),this.plan=y[0].plan;const T={pertenece:this.selectedDeparture,destino:this.destination},W=await le.get("https://backmultidestinos.onrender.com/transporte/buscar",{params:T});console.log("transporteResponse",W),console.log("entrando a trans"),W.data.forEach(R=>{console.log("transporte.combus",R.combus),e+=parseFloat(R.combus)||0,console.log("combus",e),a+=parseFloat(R.tasa)||0,o+=parseFloat(R.iva)||0,t+=parseFloat(R.ta)||0,n+=parseFloat(R.ivaTa)||0,r+=parseFloat(R.otros)||0,l+=parseFloat(R.total)||0}),console.log("saliendo de trans trans"),console.log("normalcombus",e),console.log("this.normalcombus",this.combus),console.log("precioTrans",this.precioTrans);let F=0,Ce=[];await Promise.all(this.rooms.map(async(R,se)=>{console.log(`Procesando habitaci\xF3n ${se+1}`);const We=R.accommodation,Qe=R.roomType;console.log(`Tipo de habitaci\xF3n seleccionado: ${Qe}`);const He=y.find(Ne=>Ne.tipoHabitacion===Qe);console.log("Datos de precio encontrados:",He);const Ke=R.accommodation,Te=R.roomType,ea={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:Te,noches:`${this.noche.value} noches`};console.log("noche escogida",this.noche.value),console.log(ea);let Ze;try{const Ne=await le.get("https://backmultidestinos.onrender.com/transporte/por-parametros",{params:ea}),Le=Object.keys(Ne.data[0]||{}).filter(De=>De.toLowerCase().startsWith(We.toLowerCase()+"_"));console.log("Nombres de impuestos por acomodaci\xF3n:",Le),this.impuestosParaBD=Le.reduce((De,ee)=>{const Ve=`${ee.split("_")[0]}_${ee.split("_")[1]}`;return De[Ve]=Ne.data[0][ee],De},{}),console.log("Impuestos para la BD:",Ze);const aa=y.find(De=>De.tipoHabitacion===Qe);console.log("Datos de precio encontrados:",aa)}catch(Ne){console.error("Error al buscar transportes:",Ne)}if(He){const Ne=He[We];console.log(`la acomodacio es: ${We}`),console.log(`Precio de la acomodaci\xF3n: ${Ne}`),R.accommodationPrice=Ne;let Le=0,aa=0;this.hasChildren[se]&&(F=He.ni\u00F1o,console.log("childrenPrice",F),this.childrenPriceNumber=parseFloat(F.replace(/\./g,"")),Le+=F),console.log("childrenPriceNumber1",this.childrenPriceNumber);let De=0,ee=0;if(this.additionalNightSelected&&this.additionalNightCount>0){const $=parseFloat(He[`nocheAdicional${We}`].replace(/\./g,""));console.log("additionalNightPriceAdulto",$);const re=this.additionalNightCount;if(console.log("nochesAdicionales",re),De=$*this.additionalNightCount,console.log("additionalNightTotalPriceAdulto",De),Le+=De,this.hasChildren[se]){const Be=parseFloat(He.nocheAdicionalni\u00F1o.replace(/\./g,""));console.log("additionalNightPriceNi\xF1o",Be),ee=Be*this.additionalNightCount*R.numChildren,console.log("additionalNightTotalPriceNi\xF1o",ee),Le+=ee}}const Ve=parseFloat(Ne.replace(/\./g,""));console.log("accommodationPriceNumber",Ve),console.log("precioTrans",l);const ge=Ve-l+(this.additionalNightSelected?De:0);this.ValorComisionableNi\u00F1os=0;let J=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[se]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+ee,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(g/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",ge),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const k=ge-ge*(g/100);console.log("ValorClienteAdulto",k),console.log("ValorClienteNi\xF1o",J);const Fe=k+J;console.log("ValorCliente",Fe);const X=parseInt(R.adults);console.log("numAdultos",X);const Re=this.hasChildren[se]?R.numChildren:0,sa=Ve*X,Ue=(this.childrenPriceNumber?this.childrenPriceNumber:0)*Re;let te=sa+Ue;console.log("valorBrutoAdulto",sa),console.log("valorBrutoni\xF1o",Ue),console.log("valorBrutoTotal",te),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${se+1}: ${X}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${se+1}: ${Re}`);const B=k*X;console.log("TotalAcomodacionAdulto",B);let ta=this.ValorClienteNi\u00F1o*Re;console.log("TotalAcomodacionNi\xF1o",ta),(ta===null||isNaN(ta))&&(ta=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",ta);let ie=ta+B;console.log("TotalAcomodacion",ie),console.log("totalAdultos",X),this.totalAdultos+=X,console.log("totalAdultos",X),this.totalNi\u00F1os+=Re;const ke=ge*X+this.ValorComisionableNi\u00F1os*Re,ca=ke*(g/100);console.log("descuento",ca),console.log("Valorporcentaje",ke);let pe={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},Me={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",R),R.adultAges.length>0&&this.destination==="La Macarena")for(let $=0;$<R.adultAges.length;$++){const re=R.adultAges[$],Be=R.isForeigner[$];console.log(`Calculando impuestos para la persona ${$+1} (edad: ${re}, extranjero: ${Be})`);for(const Ie of h){const Ge=Ie.IMPUESTO;console.log(`Impuesto actual: ${Ge}`),Ge==="cormacarena"?Be?(pe.cormacarenaExtranjero+=parseFloat(Ie.EXTRANJERO)||0,Me.cormacarenaExtranjero++):re>=5&&re<=11?(pe.cormacarena5a11+=parseFloat(Ie["5 a 11 a\xF1os"])||0,Me.cormacarena5a11++):re>=12&&re<=65&&(pe.cormacarena12a65+=parseFloat(Ie["12 a 65 a\xF1os"])||0,Me.cormacarena12a65++):Ge==="pqsNaturales"?Be?(pe.pqsNaturalesExtranjero+=parseFloat(Ie.EXTRANJERO)||0,Me.pqsNaturalesExtranjero++):re>=5&&re<=24?(pe.pqsNaturales5a24+=parseFloat(Ie["5 a 24 a\xF1os"])||0,Me.pqsNaturales5a24++):re>=25&&re<=65&&(pe.pqsNaturales25a65+=parseFloat(Ie["25 a 65 a\xF1os"])||0,Me.pqsNaturales25a65++):Ge==="alcaldia"?Be?(pe.alcaldiaExtranjero+=parseFloat(Ie.EXTRANJERO)||0,Me.alcaldiaExtranjero++):re>=5&&re<=1e3&&(pe.alcaldiaNacional+=parseFloat(Ie["12 a 65 a\xF1os"])||0,Me.alcaldiaNacional++):Ge==="defensaCivil"&&(pe.defensaCivil+=parseFloat(Ie["5 a 11 a\xF1os"])||0,Me.defensaCivil++),console.log(`   Impuesto ${Ge} (acumulado): ${pe[Ge]}`)}}console.log("Impuestos totales por habitaci\xF3n:",pe);for(const $ in pe)pe[$]===0&&(pe[$]=null);console.log("Impuestos calculados para la habitaci\xF3n:",pe),console.log("N\xFAmero de personas por impuesto:",Me),console.log("        this.impuestosParaBD ",this.impuestosParaBD),this.habitacionesDatos.push({idCotizacion:"",adultos:X,ni\u00F1os:Re,acomodacion:We,tipoHabitacion:Qe,precioFlayerAdulto:Ve,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:Ue,precioHabitacionAdulto:sa,precioHabitacionTotal:te,precioComisionableAdulto:ge,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:k,valorDescuentoCliente:Fe,descuento:ca,TotalAcomodacionAdulto:B,TotalAcomodacionNino:ta,TotalAcomodacion:ie,edadesAdultos:R.adultAges.filter($=>$!==null).join(","),edadNino:R.childAge!==null?R.childAge:null,extranjero:R.isForeigner.map($=>$?"SI":"NO").join(","),...this.impuestosParaBD}),console.log("habitacionesDatos despu\xE9s del push:",this.habitacionesDatos)}else console.log("No se encontraron datos de precio para esta habitaci\xF3n")}))}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),console.log("ENTRANDOOOOO HABITACION COSOTOS"),this.habitacionesDatos.forEach(_=>{console.log("ENTRANDOOOOO222 HABITACION COSOTOS"),console.log("habitacion.TotalAcomodacion;",_.TotalAcomodacion);const y=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"];this.sumaTotalAcomodacion+=_.TotalAcomodacion,console.log("suma total antes de los totales otros",this.sumaTotalAcomodacion);for(const T in _){console.log("propiedad",T);const W=_[T],F=Number(W);if(y.includes(T)){console.log("si paso",F),console.log("suma total antesitos de los totales otros",this.sumaTotalAcomodacion);const Ce=_.adultos*F;_[T]=Ce,console.log("cantidad adultos",_.adultos),console.log("cantidad adultos2",Ce),console.log("valor despues de multiplicaion",F),_.ni\u00F1os&&(console.log("entro a ni\xF1os"),Ce+=_.ni\u00F1os*F,_[T]+=Ce,console.log("entro a ni\xF1os valor:",Ce)),this.sumaTotalAcomodacion+=Ce,this.sumaValorBrutohab+=Ce,console.log("suma total despusito de los totales otros",this.sumaTotalAcomodacion)}}console.log("despues suma total antes de los totales otros",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=_.precioHabitacionTotal,this.sumaTotalDescuento+=_.descuento,this.cormacarena5a11Total+=_.cormacarena5a11||0,this.cormacarena12a65Total+=_.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=_.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=_.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=_.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=_.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=_.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=_.alcaldiaExtranjero||0,this.defensaCivilTotal+=_.defensaCivil||0,this.cormacarena5a11Personas+=_.cormacarena5a11Personas,this.cormacarena12a65Personas+=_.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=_.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=_.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=_.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=_.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=_.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=_.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=_.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=be,this.sumaTotalAcomodacion+=be,console.log("valor de sumaValorBrutohab antes de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion antes de extras",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=(A=(f=(x=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?x:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?f:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?A:0,this.sumaTotalAcomodacion+=(Z=(z=(G=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?G:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?z:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?Z:0,console.log("valor de sumaValorBrutohab despues de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion despues de extras",this.sumaTotalAcomodacion),console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let Pe=null,de=null,ye=null,ae=null;C==="Comisi\xF3n"&&(console.log("si es comison"),this.total,ae=this.sumaTotalDescuento,V!==null&&V!==0&&(de=Math.round(this.sumaTotalDescuento*(V/100)),this.ivaCalculado=de,ae+=de),p!==null&&p!==0&&(Pe=Math.round(this.sumaTotalDescuento*(p/100)),this.rteFuenteCalculado=Pe,ae-=Pe),v!==null&&v!==0&&(ye=Math.round(this.sumaTotalDescuento*(v/100)),this.rteIcaCalculado=ye,ae-=ye)),console.log("this.ivaCalculado",de),console.log("this.rteFuenteCalculado",Pe),console.log("this.rteIcaCalculado",ye),console.log("this.totalComision",ae);const he=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",he),console.log("1combus",this.combus),e*=he,a*=he,console.log("despuescombus2.0",e),o*=he,t*=he,n*=he,r*=he,l*=he,this.sumaTotalAcomodacion+=l,console.log("combus multi",e),console.log("precioTrans",l),C==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-ae);const Xe=new Date;Xe.setHours(0,0,0,0),console.log(Xe.toISOString().split("T")[0]);const Je=pt.getItem("userData");console.log(Je);let q=parseInt(this.noche.value),_e=parseInt(q)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",q),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",_e);const Ye=this.numExtraValues===0?null:[this.extraValue1,this.extraValue2].filter(_=>_!==null&&_!=="").join(this.numExtraValues===2?"*":"");console.log("extraValue1",this.extraValue1),console.log("extraValuesString",Ye),this.programName!=="Ca\xF1o Cristales"?this.tieneImpuestos=!1:this.tieneImpuestos=!0,console.log("llego a formData"),console.log("combus",this.combus);const ne={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:_e,plan:this.plan,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:he,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:o,ta:t,ivaTa:n,otros:r,precioTrans:l,suplemento:be,cliente:this.selectedClient,clientePorcentaje:g,CreadorCotizacion:Je.id,fechaCreacion:Xe.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:Pe,ivaValor:de,rteIca:ye,totalComision:ae,correo:this.correo,transfer:this.transferInOutValue||null,asesorExterno:"this.selectedUser.value || null",extra1:Ye||null,incluye:null,noIncluye:null,status:"pendiente",tieneImpuestos:this.tieneImpuestos};console.log("formData",ne),console.log("formData",ne);const fe=await le.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",ne);fe.data.success&&(console.log("mirar el numero",fe.data.success),console.log("mirar el numero1",fe.data.idCotizacion),this.idCotizacion=fe.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",fe.data),console.log("idCotizacion1",this.idCotizacion);const U={idCotizacion:this.idCotizacion,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas};if(this.programName=="Ca\xF1o Cristales"){const _=await le.post("https://backmultidestinos.onrender.com/ImpuestoCot",U)}const we=this.habitacionesDatos.map(async _=>{_.idCotizacion=this.idCotizacion;const y=await le.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",_);return console.log("Respuesta de la habitaci\xF3n:",y.data),y.data}),j=await Promise.all(we);console.log("Respuestas de todas las habitaciones:",j),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),location.reload(),this.closeModal(),this.resetVariables()}catch(L){console.error("Error al guardar la cotizaci\xF3n:",L),this.closeModal(),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}},async saveFormDataPersonalizado(){if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,r=0,l=0;const h=(await le.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",h);try{const x=await le.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",x);let f=null,A=null,G=null,z=null,Z=null;x.data.forEach(q=>{q.nombre===this.selectedClient&&(f=this.programName==="Ca\xF1o Cristales"?parseFloat(q.lmc):parseFloat(q.demas),A=q.tipoBase,G=q.rteFuente,z=q.rteIca,Z=q.porcentajeIva)}),console.log("clientePorcentaje",f),console.log("clienteTipoBase",A),console.log("rteFuente",G),console.log("rteIca",z),console.log("ivaValor",Z);const L=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",L);const g=L[0].total,C=parseFloat(g);console.log("tiquete",g),console.log("tiqueteNum",C);let p=0;if(this.supplementValues)for(let q=0;q<this.supplementValues.length;q++)this.supplementValues[q]&&(console.log("persona",[q],this.supplementValues[q]),p+=parseFloat(this.supplementValues[q])-C),console.log("Total suplemento",[q],p);console.log("Valor del suplemento:",p);const v=[];try{const q=await Promise.all(v.map(ne=>le.post("https://backmultidestinos.onrender.com/hoteles/buscarT",ne)));console.log("preciosResponseArray",q),console.log("preciosResponseArray data",q.data);const _e=[];q.forEach(ne=>{ne.data.length>0?_e.push(...ne.data):console.log("No se encontraron datos en esta respuesta")}),console.log(_e),e+=parseFloat(this.Combus)||0,a+=parseFloat(this.Tasa)||0,o+=parseFloat(this.Iva)||0,t+=parseFloat(this.Ta)||0,n+=parseFloat(this.IvaTa)||0,r+=parseFloat(this.otros)||0,l+=parseFloat(this.precioTransp)||0,console.log("precioTrans",l);let Ye=0;this.rooms.forEach(async(ne,fe)=>{console.log(`Procesando habitaci\xF3n ${fe+1}`);const U=ne.accommodation,we=ne.roomType,j=parseFloat(ne.valor),_=j+parseFloat(l);if(1){const T=ne.adults,W=this.hasChildren[fe]?ne.numChildren:0,F=_;console.log(`Precio de la acomodaci\xF3n: ${F}`),ne.accommodationPrice=F;let Ce=0,R=0;console.log("precioTrans",l);const se=j;this.ValorComisionableNi\u00F1os=0;let We=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[fe]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+additionalNightTotalPriceNi\u00F1o,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(f/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",se),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Qe=se-se*(f/100);console.log("ValorClienteAdulto",Qe),console.log("ValorClienteNi\xF1o",We);const He=Qe+We;console.log("ValorCliente",He);const Ke=F*T,Te=(this.childrenPriceNumber?this.childrenPriceNumber:0)*W;let ea=Ke+Te;console.log("valorBrutoAdulto",Ke),console.log("valorBrutoni\xF1o",Te),console.log("valorBrutoTotal",ea),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${fe+1}: ${T}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${fe+1}: ${W}`);const Ze=Qe*T;console.log("TotalAcomodacionAdulto",Ze);let Ne=this.ValorClienteNi\u00F1o*W;console.log("TotalAcomodacionNi\xF1o",Ne),(Ne===null||isNaN(Ne))&&(Ne=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",Ne);let Le=Ne+Ze;console.log("TotalAcomodacion",Le),this.totalAdultos+=parseInt(T),this.totalNi\u00F1os+=W;const aa=se*T+this.ValorComisionableNi\u00F1os*W,De=aa*(f/100);console.log("descuento",De),console.log("Valorporcentaje",aa);let ee={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},Ve={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",ne),ne.adultAges.length>0)for(let ge=0;ge<ne.adultAges.length;ge++){const J=ne.adultAges[ge],k=ne.isForeigner[ge];console.log(`Calculando impuestos para la persona ${ge+1} (edad: ${J}, extranjero: ${k})`);for(const Fe of h){const X=Fe.IMPUESTO;console.log(`Impuesto actual: ${X}`),X==="cormacarena"?k?(ee.cormacarenaExtranjero+=parseFloat(Fe.EXTRANJERO)||0,Ve.cormacarenaExtranjero++):J>=5&&J<=11?(ee.cormacarena5a11+=parseFloat(Fe["5 a 11 a\xF1os"])||0,Ve.cormacarena5a11++):J>=12&&J<=65&&(ee.cormacarena12a65+=parseFloat(Fe["12 a 65 a\xF1os"])||0,Ve.cormacarena12a65++):X==="pqsNaturales"?k?(ee.pqsNaturalesExtranjero+=parseFloat(Fe.EXTRANJERO)||0,Ve.pqsNaturalesExtranjero++):J>=5&&J<=24?(ee.pqsNaturales5a24+=parseFloat(Fe["5 a 24 a\xF1os"])||0,Ve.pqsNaturales5a24++):J>=25&&J<=65&&(ee.pqsNaturales25a65+=parseFloat(Fe["25 a 65 a\xF1os"])||0,Ve.pqsNaturales25a65++):X==="alcaldia"?k?(ee.alcaldiaExtranjero+=parseFloat(Fe.EXTRANJERO)||0,Ve.alcaldiaExtranjero++):J>=5&&J<=1e3&&(ee.alcaldiaNacional+=parseFloat(Fe["12 a 65 a\xF1os"])||0,Ve.alcaldiaNacional++):X==="defensaCivil"&&(ee.defensaCivil+=parseFloat(Fe["5 a 11 a\xF1os"])||0,Ve.defensaCivil++),console.log(`   Impuesto ${X} (acumulado): ${ee[X]}`)}}console.log("Impuestos totales por habitaci\xF3n:",ee);for(const ge in ee)ee[ge]===0&&(ee[ge]=null);console.log("Impuestos calculados para la habitaci\xF3n:",ee),console.log("N\xFAmero de personas por impuesto:",Ve),this.habitacionesDatos.push({idCotizacion:"",adultos:T,ni\u00F1os:W,acomodacion:U,tipoHabitacion:we,precioFlayerAdulto:F,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:Te,precioHabitacionAdulto:Ke,precioHabitacionTotal:ea,precioComisionableAdulto:se,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Qe,valorDescuentoCliente:He,descuento:De,TotalAcomodacionAdulto:Ze,TotalAcomodacionNino:Ne,TotalAcomodacion:Le,edadesAdultos:ne.adultAges.filter(ge=>ge!==null).join(","),edadNino:ne.childAge!==null?ne.childAge:null,extranjero:ne.isForeigner.map(ge=>ge?"SI":"NO").join(","),defensaCivil:ee.defensaCivil,defensaCivilPersonas:Ve.defensaCivil,alcaldiaNacional:ee.alcaldiaNacional,alcaldiaNacionalPersonas:Ve.alcaldiaNacional,alcaldiaExtranjero:ee.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:Ve.alcaldiaExtranjero,pqsNaturalesExtranjero:ee.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:Ve.pqsNaturalesExtranjero,pqsNaturales25a65:ee.pqsNaturales25a65,pqsNaturales25a65Personas:Ve.pqsNaturales25a65,pqsNaturales5a24:ee.pqsNaturales5a24,pqsNaturales5a24Personas:Ve.pqsNaturales5a24,cormacarenaExtranjero:ee.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:Ve.cormacarenaExtranjero,cormacarena5a11:ee.cormacarena5a11,cormacarena5a11Personas:Ve.cormacarena5a11,cormacarena12a65:ee.cormacarena12a65,cormacarena12a65Personas:Ve.cormacarena12a65})}})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(q=>{this.sumaTotalAcomodacion+=q.TotalAcomodacion,this.sumaValorBrutohab+=q.precioHabitacionTotal,this.sumaTotalDescuento+=q.descuento,this.cormacarena5a11Total+=q.cormacarena5a11||0,this.cormacarena12a65Total+=q.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=q.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=q.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=q.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=q.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=q.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=q.alcaldiaExtranjero||0,this.defensaCivilTotal+=q.defensaCivil||0,this.cormacarena5a11Personas+=q.cormacarena5a11Personas,this.cormacarena12a65Personas+=q.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=q.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=q.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=q.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=q.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=q.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=q.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=q.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=p,this.sumaTotalAcomodacion+=p,console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let V=null,Q=null,xe=null,ve=null;A==="Comisi\xF3n"&&(console.log("si es comison"),this.total,ve=this.sumaTotalDescuento,Z!==null&&Z!==0&&(Q=Math.round(this.sumaTotalDescuento*(Z/100)),this.ivaCalculado=Q,ve+=Q),G!==null&&G!==0&&(V=Math.round(this.sumaTotalDescuento*(G/100)),this.rteFuenteCalculado=V,ve-=V),z!==null&&z!==0&&(xe=Math.round(this.sumaTotalDescuento*(z/100)),this.rteIcaCalculado=xe,ve-=xe)),console.log("this.ivaCalculado",Q),console.log("this.rteFuenteCalculado",V),console.log("this.rteIcaCalculado",xe),console.log("this.totalComision",ve);const be=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",be),e*=be,a*=be,o*=be,t*=be,n*=be,r*=be,l*=be,this.sumaTotalAcomodacion+=l,console.log("combus",e),console.log("precioTrans",l),A==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-ve);const Ae=new Date;Ae.setHours(0,0,0,0),console.log(Ae.toISOString().split("T")[0]);const Pe=pt.getItem("userData");console.log(Pe);let de=parseInt(this.noche.value),ye=parseInt(de)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",de),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",ye);const ae={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:ye,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:be,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:this.combus,tasa:this.tasa,iva:this.iva,ta:this.ta,ivaTa:this.ivaTa,otros:this.otros,precioTrans:this.precioTrans,suplemento:p,cliente:this.selectedClient,clientePorcentaje:f,CreadorCotizacion:Pe.id,fechaCreacion:Ae.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:V,ivaValor:Q,rteIca:xe,totalComision:ve,correo:this.correo,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas,incluye:this.textoIncluye?this.textoIncluye.replace(/\n/g,"\xBF"):null,noIncluye:this.textoNoIncluye?this.textoNoIncluye.replace(/\n/g,"\xBF"):null,extra1:null,transfer:null};console.log("formData",ae);const he=await le.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",ae);he.data.success&&(console.log("mirar el numero",he.data.success),console.log("mirar el numero1",he.data.idCotizacion),this.idCotizacion=he.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",he.data),console.log("idCotizacion1",this.idCotizacion);const Xe=this.habitacionesDatos.map(async q=>{q.idCotizacion=this.idCotizacion;const _e=await le.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",q);return console.log("Respuesta de la habitaci\xF3n:",_e.data),_e.data}),Je=await Promise.all(Xe);console.log("Respuestas de todas las habitaciones:",Je),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),location.reload(),this.resetVariables(),this.closeModalPersonalizado()}catch(x){console.error("Error al guardar la cotizaci\xF3n:",x),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}}}},as={key:0},ts={padding:""},os={key:1},ls=d("p",null,"Cargando datos del usuario...",-1),ns=[ls],ss={style:{display:"inline-block","margin-right":"10px"}},is={style:{display:"inline-block"}},rs=d("br",null,null,-1),cs={class:"row q-col-gutter-md"},ds={class:"col",style:{"margin-left":"10px"}},us={class:"row items-center justify-end"},ms={class:"col"},hs={class:"row items-center justify-end"},fs={class:"q-gutter-md"},gs={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},ps={class:"row q-col-gutter-md"},vs={class:"col"},bs={class:"col"},ys={class:"row q-col-gutter-md"},Vs={class:"col"},Cs={class:"col"},Ns={class:"row q-col-gutter-md"},Ss={class:"col"},Ts={class:"col"},Es={key:0,class:"row q-col-gutter-md"},xs={class:"col"},ws={class:"col"},As={class:"row q-col-gutter-md"},Ps={class:"col"},_s={class:"col"},Is={class:"row q-col-gutter-md"},qs={class:"col"},Ds={key:0,class:"col"},Os={class:"row q-col-gutter-md"},ks={class:"col"},Ms={key:1,class:"row q-col-gutter-md"},zs={class:"col"},Ls={key:2,class:"row q-col-gutter-md"},Fs={class:"col"},Rs={style:{"text-align":"center"}},js={style:{"margin-left":"10px","font-weight":"bold"}},Hs={class:"row q-col-gutter-md"},Us={class:"col"},Bs={class:"col"},Ys={class:"row q-col-gutter-md"},Ws={class:"col"},Qs={class:"col"},Xs={key:0},Gs={class:"row"},Js=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),Zs={key:0,class:"row"},Ks=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),$s={class:"col-6 col-sm-4 col-md-3"},ei=d("div",null,null,-1),ai=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),ti={class:"row q-col-gutter-md"},oi={class:"col"},li={class:"q-mb-md q-ml-md"},ni={class:"col"},si={class:"row q-col-gutter-md"},ii={class:"col"},ri={class:"q-mb-md q-ml-md"},ci={class:"col"},di={class:"row q-col-gutter-md"},ui={class:"col"},mi={class:"q-mb-md q-ml-md"},hi={class:"col",style:{"margin-left":"10px"}},fi={class:"row items-center justify-end"},gi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),pi={class:"row q-col-gutter-md"},vi={class:"col"},bi={class:"q-mb-md q-ml-md"},yi={class:"col"},Vi={class:"row q-col-gutter-md"},Ci={class:"col"},Ni={class:"q-mb-md q-ml-md"},Si={class:"col"},Ti={class:"row q-col-gutter-md"},Ei={class:"col"},xi={class:"q-mb-md q-ml-md"},wi={class:"col"},Ai={class:"row items-center justify-end"},Pi={class:"row q-col-gutter-md"},_i={class:"col",style:{"margin-left":"10px"}},Ii={key:0},qi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),Di={class:"row q-col-gutter-md"},Oi={class:"col"},ki={class:"col"},Mi={class:"row q-col-gutter-md"},zi={class:"col"},Li={class:"col"},Fi={class:"row q-col-gutter-md"},Ri={class:"col"},ji=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),Hi={class:"row q-col-gutter-md"},Ui={class:"col"},Bi={class:"col"},Yi={class:"row q-col-gutter-md"},Wi={class:"col"},Qi={class:"col"},Xi={class:"row q-col-gutter-md"},Gi={class:"col"},Ji={class:"row q-col-gutter-md"},Zi={class:"col"},Ki={class:"q-mb-md q-ml-md"},$i={key:1},er={class:"row q-mt-md justify-center"},ar={key:0,class:"col"},tr={key:1,class:"col"},or={key:2,class:"col"},lr={key:3,class:"col"},nr={class:"row q-col-gutter-md"},sr={class:"col",style:{"margin-left":"10px"}},ir={class:"row items-center justify-end"},rr={class:"col"},cr={class:"row items-center justify-end"},dr={class:"q-gutter-md"},ur={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},mr={class:"row q-col-gutter-md"},hr={class:"col"},fr={class:"col"},gr={class:"row q-col-gutter-md"},pr={class:"col"},vr={class:"col"},br={key:0,class:"row q-col-gutter-md"},yr={class:"col"},Vr={class:"col"},Cr={class:"row q-col-gutter-md"},Nr={class:"col"},Sr={class:"col"},Tr={style:{"text-align":"center"}},Er={style:{"margin-left":"10px","font-weight":"bold"}},xr={class:"row q-col-gutter-md"},wr={class:"col"},Ar={class:"col"},Pr={class:"row q-col-gutter-md"},_r={class:"col"},Ir={class:"col"},qr={key:0},Dr={class:"row"},Or=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),kr={key:0,class:"row"},Mr=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),zr={class:"col-6 col-sm-4 col-md-3"},Lr=d("div",null,null,-1),Fr=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),Rr={class:"row q-col-gutter-md"},jr={class:"col"},Hr={class:"q-mb-md q-ml-md"},Ur={class:"col"},Br={class:"row q-col-gutter-md"},Yr={class:"col"},Wr={class:"q-mb-md q-ml-md"},Qr={class:"col"},Xr={class:"row q-col-gutter-md"},Gr={class:"col"},Jr={class:"q-mb-md q-ml-md"},Zr={class:"col",style:{"margin-left":"10px"}},Kr={class:"row items-center justify-end"},$r=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),ec={class:"row q-col-gutter-md"},ac={class:"col"},tc={class:"q-mb-md q-ml-md"},oc={class:"col"},lc={class:"row q-col-gutter-md"},nc={class:"col"},sc={class:"q-mb-md q-ml-md"},ic={class:"col"},rc={class:"row q-col-gutter-md"},cc={class:"col"},dc={class:"q-mb-md q-ml-md"},uc={class:"col"},mc={class:"row items-center justify-end"},hc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Impuestos")],-1),fc={class:"row q-col-gutter-md"},gc={class:"col"},pc={class:"q-mb-md q-ml-md"},vc={class:"col"},bc={class:"row q-col-gutter-md"},yc={class:"col"},Vc={class:"q-mb-md q-ml-md"},Cc={class:"col"},Nc={class:"row q-col-gutter-md"},Sc={class:"col"},Tc={class:"q-mb-md q-ml-md"},Ec={class:"col"},xc={class:"row q-col-gutter-md"},wc={class:"col"},Ac={class:"q-mb-md q-ml-md"},Pc={class:"row q-col-gutter-md"},_c={class:"col"},Ic={class:"q-mb-md q-ml-md"},qc={class:"col"},Dc={class:"row q-col-gutter-md"},Oc={class:"col",style:{"margin-left":"10px"}},kc={key:0},Mc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),zc={class:"row q-col-gutter-md"},Lc={class:"col"},Fc={class:"col"},Rc={class:"row q-col-gutter-md"},jc={class:"col"},Hc={class:"col"},Uc={class:"row q-col-gutter-md"},Bc={class:"col"},Yc=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),Wc={class:"row q-col-gutter-md"},Qc={class:"col"},Xc={class:"col"},Gc={class:"row q-col-gutter-md"},Jc={class:"col"},Zc={class:"col"},Kc={class:"row q-col-gutter-md"},$c={class:"col"},ed={class:"row q-col-gutter-md"},ad={class:"col"},td={class:"q-mb-md q-ml-md"},od={key:1},ld={class:"row q-mt-md justify-center"},nd={key:0,class:"col"},sd={key:1,class:"col"},id={key:2,class:"col"},rd={key:3,class:"col"},cd=d("div",{class:"text-h6 q-mb-md"},"Datos de Pasajeros",-1),dd={class:"text-subtitle1 q-mb-sm"},ud={class:"row q-mb-md"},md={class:"col-6 q-pr-sm"},hd={class:"col-6"},fd=d("br",null,null,-1),gd={class:"row"},pd={class:"col-6"},vd={class:"col-6"},bd=d("br",null,null,-1),yd=d("br",null,null,-1),Vd=d("br",null,null,-1),Cd=d("br",null,null,-1),Nd=d("br",null,null,-1),Sd={type:"file",ref:"fileInput",style:{display:"none"}};function Td(e,a,o,t,n,r){return oe(),ft(ml,{padding:""},{default:M(()=>[t.userData?(oe(),ue("div",as,[d("h5",ts,"Bienvenido, "+Wa(t.userData.nombreCompleto),1)])):(oe(),ue("div",os,ns)),d("div",ss,[u(ce,{label:"Crear cotizacion",onClick:r.openModal,color:"primary"},null,8,["onClick"])]),d("div",is,[u(ce,{label:"Crear cotizacion Personalizada",onClick:r.openModalPersonalizado,color:"orange"},null,8,["onClick"])]),rs,u(lt,{modelValue:t.modalVisible,"onUpdate:modelValue":a[48]||(a[48]=l=>t.modalVisible=l),"content-css":"max-width: 600px;"},{default:M(()=>[u(qa,null,{default:M(()=>[u(Na,{class:"q-pa-md"},{default:M(()=>[na(d("div",null,[u(qa,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:M(()=>[u(Na,{class:"q-pa-md"},{default:M(()=>[d("div",cs,[d("div",ds,[u(D,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[1]||(a[1]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[0]||(a[0]=l=>t.dateRange[0]=l)},{default:M(()=>[d("div",us,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",ms,[u(D,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[3]||(a[3]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[2]||(a[2]=l=>t.dateRange[1]=l)},{default:M(()=>[d("div",hs,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",fs,[u(me,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[4]||(a[4]=l=>t.selectedDeparture=l),r.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),u(me,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[5]||(a[5]=l=>t.destination=l),r.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:M(()=>[na(d("div",gs," Ups... no hay informaci\xF3n ",512),[[Fa,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",ps,[d("div",vs,[u(me,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[6]||(a[6]=l=>t.hotel=l),r.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",bs,[u(me,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":a[7]||(a[7]=l=>t.programName=l),label:"Nombre del Programa",options:t.matchingPrograms,"option-label":"nombrePrograma",class:"q-mb-md",error:!t.programName&&!t.autofillingProgramName,"error-message":"UPS... NO HAY TARIFA PARA ESTA TEMPORADA"},null,8,["modelValue","options","error"])])]),d("div",ys,[d("div",Vs,[u(me,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[8]||(a[8]=l=>t.selectedClient=l),r.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Cs,[u(me,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":a[9]||(a[9]=l=>t.noche=l),label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])])]),d("div",Ns,[d("div",Ss,[u(ia,{modelValue:t.asesorExternoCheck,"onUpdate:modelValue":a[10]||(a[10]=l=>t.asesorExternoCheck=l),label:"\xBFAsesor Externo?",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Ts,[u(me,{outlined:"",modelValue:t.selectedUser,"onUpdate:modelValue":a[11]||(a[11]=l=>t.selectedUser=l),options:e.dropdownOptions,label:"Selecciona un usuario",class:"q-mb-md q-ml-md",disable:!t.asesorExternoCheck},null,8,["modelValue","options","disable"])])]),r.shouldHideAdditionalNightSection()?ze("",!0):(oe(),ue("div",Es,[d("div",xs,[u(ia,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[12]||(a[12]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",ws,[u(D,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[13]||(a[13]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",As,[d("div",Ps,[u(me,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[14]||(a[14]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",_s,[u(me,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[15]||(a[15]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",Is,[d("div",qs,[u(me,{outlined:"",modelValue:t.transferInOut,"onUpdate:modelValue":a[16]||(a[16]=l=>t.transferInOut=l),label:"\xBFNecesita agregar alg\xFAn valor correspondiente a 'transfer in-out'?",options:["S\xED","No"],class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),t.transferInOut==="S\xED"?(oe(),ue("div",Ds,[u(D,{outlined:"",modelValue:t.transferInOutValue,"onUpdate:modelValue":a[17]||(a[17]=l=>t.transferInOutValue=l),label:"Valor 'transfer in-out'",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])):ze("",!0)]),d("div",Os,[d("div",ks,[u(me,{outlined:"",modelValue:t.numExtraValues,"onUpdate:modelValue":a[18]||(a[18]=l=>t.numExtraValues=l),label:"\xBFCu\xE1ntos valores extra necesita agregar (m\xE1ximo 2)?",options:[0,1,2],class:"q-mb-md q-ml-md"},null,8,["modelValue"])])]),t.numExtraValues>=1?(oe(),ue("div",Ms,[d("div",zs,[u(D,{outlined:"",modelValue:t.extraValue1,"onUpdate:modelValue":a[19]||(a[19]=l=>t.extraValue1=l),label:"Valor extra 1",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):ze("",!0),t.numExtraValues===2?(oe(),ue("div",Ls,[d("div",Fs,[u(D,{outlined:"",modelValue:t.extraValue2,"onUpdate:modelValue":a[20]||(a[20]=l=>t.extraValue2=l),label:"Valor extra 2",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):ze("",!0),(oe(!0),ue(Oa,null,Da(t.rooms,(l,s)=>(oe(),ue("div",{key:s},[u(qa,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:M(()=>[u(Na,{class:"q-pa-md"},{default:M(()=>[d("p",Rs,[d("span",js," Habitaci\xF3n "+Wa(s+1),1)]),d("div",Hs,[d("div",Us,[u(me,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":h=>l.roomType=h,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",Bs,[u(me,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":h=>l.adults=h,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",Ys,[d("div",Ws,[u(ia,{modelValue:t.hasChildren[s],"onUpdate:modelValue":[h=>t.hasChildren[s]=h,h=>r.handleChildrenChange(s)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",Qs,[u(D,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":h=>l.numChildren=h,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[s]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(s)?(oe(),ue("div",Xs,[d("div",Gs,[Js,(oe(!0),ue(Oa,null,Da(l.adultAges,(h,x)=>(oe(),ue("div",{key:"adult"+x+"-"+s,class:"col-6 col-sm-4 col-md-3"},[u(D,{filled:"",modelValue:l.adultAges[x],"onUpdate:modelValue":f=>l.adultAges[x]=f,label:"Adulto "+(x+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),u(ia,{modelValue:l.isForeigner[x],"onUpdate:modelValue":f=>l.isForeigner[x]=f,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[s]?(oe(),ue("div",Zs,[Ks,d("div",$s,[u(D,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":h=>l.childAge=h,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):ze("",!0)])):ze("",!0),u(me,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":h=>l.accommodation=h,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),ei],512),[[Fa,t.activeTab==="tab1"]]),na(d("div",null,[ai,d("div",ti,[d("div",oi,[d("div",li,[u(me,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[21]||(a[21]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",ni,[u(D,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[22]||(a[22]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",si,[d("div",ii,[d("div",ri,[u(D,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[23]||(a[23]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ci,[u(D,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[24]||(a[24]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",di,[d("div",ui,[d("div",mi,[u(D,{modelValue:t.claseValue1,"onUpdate:modelValue":a[25]||(a[25]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",hi,[u(D,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[27]||(a[27]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[26]||(a[26]=l=>t.dateRange[0]=l)},{default:M(()=>[d("div",fi,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),gi,d("div",pi,[d("div",vi,[d("div",bi,[u(me,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[28]||(a[28]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",yi,[u(D,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[29]||(a[29]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Vi,[d("div",Ci,[d("div",Ni,[u(D,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[30]||(a[30]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Si,[u(D,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[31]||(a[31]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ti,[d("div",Ei,[d("div",xi,[u(D,{modelValue:t.claseValue2,"onUpdate:modelValue":a[32]||(a[32]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",wi,[u(D,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[34]||(a[34]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[33]||(a[33]=l=>t.dateRange[1]=l)},{default:M(()=>[d("div",Ai,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",Pi,[d("div",_i,[u(ia,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[35]||(a[35]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(oe(),ue("div",Ii,[qi,d("div",Di,[d("div",Oi,[u(me,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[36]||(a[36]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",ki,[u(D,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[37]||(a[37]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Mi,[d("div",zi,[u(D,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[38]||(a[38]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Li,[u(D,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[39]||(a[39]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Fi,[d("div",Ri,[u(D,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[40]||(a[40]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),ji,d("div",Hi,[d("div",Ui,[u(me,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[41]||(a[41]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",Bi,[u(D,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[42]||(a[42]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Yi,[d("div",Wi,[u(D,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[43]||(a[43]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Qi,[u(D,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[44]||(a[44]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Xi,[d("div",Gi,[u(D,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[45]||(a[45]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):ze("",!0),d("div",Ji,[d("div",Zi,[d("div",Ki,[u(ia,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[46]||(a[46]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(oe(),ue("div",$i,[u(D,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[47]||(a[47]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(oe(!0),ue(Oa,null,Da(t.peopleArray,l=>(oe(),ue("div",{key:l},[u(D,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":s=>t.supplementValues[l-1]=s,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):ze("",!0)],512),[[Fa,t.activeTab==="tab2"]]),d("div",er,[t.activeTab==="tab2"?(oe(),ue("div",ar,[u(ce,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):ze("",!0),t.activeTab==="tab2"?(oe(),ue("div",tr,[u(ce,{label:"Registrar",onClick:r.saveFormData,color:"primary"},null,8,["onClick"])])):ze("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(oe(),ue("div",or,[u(ce,{label:"Cerrar",onClick:r.closeModal,color:"red"},null,8,["onClick"])])):ze("",!0),t.activeTab==="tab1"?(oe(),ue("div",lr,[u(ce,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):ze("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(lt,{modelValue:t.modalVisiblePersonalizado,"onUpdate:modelValue":a[101]||(a[101]=l=>t.modalVisiblePersonalizado=l),"content-css":"max-width: 600px;"},{default:M(()=>[u(qa,null,{default:M(()=>[u(Na,{class:"q-pa-md"},{default:M(()=>[na(d("div",null,[u(qa,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:M(()=>[u(Na,{class:"q-pa-md"},{default:M(()=>[d("div",nr,[d("div",sr,[u(D,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[50]||(a[50]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[49]||(a[49]=l=>t.dateRange[0]=l)},{default:M(()=>[d("div",ir,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",rr,[u(D,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[52]||(a[52]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[51]||(a[51]=l=>t.dateRange[1]=l)},{default:M(()=>[d("div",cr,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",dr,[u(me,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[53]||(a[53]=l=>t.selectedDeparture=l),r.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),u(me,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[54]||(a[54]=l=>t.destination=l),r.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:M(()=>[na(d("div",ur," Ups... no hay informaci\xF3n ",512),[[Fa,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",mr,[d("div",hr,[u(me,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[55]||(a[55]=l=>t.selectedClient=l),r.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",fr,[u(me,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":[a[56]||(a[56]=l=>t.programName=l),r.handleSelectionChangeTipo],label:"Nombre del Programa",options:t.programNameOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",gr,[d("div",pr,[u(me,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":[a[57]||(a[57]=l=>t.noche=l),r.handleSelectionChangeTipo],label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",vr,[u(me,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[58]||(a[58]=l=>t.hotel=l),r.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),r.shouldHideAdditionalNightSection()?ze("",!0):(oe(),ue("div",br,[d("div",yr,[u(ia,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[59]||(a[59]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",Vr,[u(D,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[60]||(a[60]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",Cr,[d("div",Nr,[u(me,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[61]||(a[61]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",Sr,[u(me,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[62]||(a[62]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(oe(!0),ue(Oa,null,Da(t.rooms,(l,s)=>(oe(),ue("div",{key:s},[u(qa,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:M(()=>[u(Na,{class:"q-pa-md"},{default:M(()=>[d("p",Tr,[d("span",Er," Habitaci\xF3n "+Wa(s+1),1)]),d("div",xr,[d("div",wr,[u(me,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":h=>l.roomType=h,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",Ar,[u(me,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":h=>l.adults=h,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",Pr,[d("div",_r,[u(ia,{modelValue:t.hasChildren[s],"onUpdate:modelValue":[h=>t.hasChildren[s]=h,h=>r.handleChildrenChange(s)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",Ir,[u(D,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":h=>l.numChildren=h,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[s]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(s)?(oe(),ue("div",qr,[d("div",Dr,[Or,(oe(!0),ue(Oa,null,Da(l.adultAges,(h,x)=>(oe(),ue("div",{key:"adult"+x+"-"+s,class:"col-6 col-sm-4 col-md-3"},[u(D,{filled:"",modelValue:l.adultAges[x],"onUpdate:modelValue":f=>l.adultAges[x]=f,label:"Adulto "+(x+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),u(ia,{modelValue:l.isForeigner[x],"onUpdate:modelValue":f=>l.isForeigner[x]=f,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[s]?(oe(),ue("div",kr,[Mr,d("div",zr,[u(D,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":h=>l.childAge=h,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):ze("",!0)])):ze("",!0),u(me,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":h=>l.accommodation=h,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"]),u(D,{filled:"",modelValue:l.valor,"onUpdate:modelValue":h=>l.valor=h,label:"Valor Persona",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),Lr],512),[[Fa,t.activeTab==="tab1"]]),na(d("div",null,[Fr,d("div",Rr,[d("div",jr,[d("div",Hr,[u(me,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[63]||(a[63]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Ur,[u(D,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[64]||(a[64]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Br,[d("div",Yr,[d("div",Wr,[u(D,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[65]||(a[65]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Qr,[u(D,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[66]||(a[66]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Xr,[d("div",Gr,[d("div",Jr,[u(D,{modelValue:t.claseValue1,"onUpdate:modelValue":a[67]||(a[67]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Zr,[u(D,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[69]||(a[69]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[68]||(a[68]=l=>t.dateRange[0]=l)},{default:M(()=>[d("div",Kr,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),$r,d("div",ec,[d("div",ac,[d("div",tc,[u(me,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[70]||(a[70]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",oc,[u(D,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[71]||(a[71]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",lc,[d("div",nc,[d("div",sc,[u(D,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[72]||(a[72]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ic,[u(D,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[73]||(a[73]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",rc,[d("div",cc,[d("div",dc,[u(D,{modelValue:t.claseValue2,"onUpdate:modelValue":a[74]||(a[74]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",uc,[u(D,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[76]||(a[76]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:M(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:M(()=>[u(Aa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:M(()=>[u(wa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[75]||(a[75]=l=>t.dateRange[1]=l)},{default:M(()=>[d("div",mc,[na(u(ce,{label:"Close",color:"primary",flat:""},null,512),[[Sa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),hc,d("div",fc,[d("div",gc,[d("div",pc,[u(D,{modelValue:t.Combus,"onUpdate:modelValue":a[77]||(a[77]=l=>t.Combus=l),label:"Combus",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",vc,[u(D,{modelValue:t.Tasa,"onUpdate:modelValue":a[78]||(a[78]=l=>t.Tasa=l),label:"Tasa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",bc,[d("div",yc,[d("div",Vc,[u(D,{modelValue:t.Iva,"onUpdate:modelValue":a[79]||(a[79]=l=>t.Iva=l),label:"Iva",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Cc,[u(D,{modelValue:t.Ta,"onUpdate:modelValue":a[80]||(a[80]=l=>t.Ta=l),label:"Ta",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Nc,[d("div",Sc,[d("div",Tc,[u(D,{modelValue:t.IvaTa,"onUpdate:modelValue":a[81]||(a[81]=l=>t.IvaTa=l),label:"IvaTa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ec,[u(D,{modelValue:t.Otros,"onUpdate:modelValue":a[82]||(a[82]=l=>t.Otros=l),label:"Otros",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",xc,[d("div",wc,[d("div",Ac,[u(D,{modelValue:t.precioTransp,"onUpdate:modelValue":a[83]||(a[83]=l=>t.precioTransp=l),label:"Precio Transporte",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])]),d("div",Pc,[d("div",_c,[d("div",Ic,[u(D,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[85]||(a[85]=l=>t.textoIncluye=l),label:"Incluye",filled:"",type:"textarea",autogrow:""},{control:M(()=>[u(jt,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[84]||(a[84]=l=>t.textoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",qc,[u(D,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[87]||(a[87]=l=>t.textoNoIncluye=l),label:"No Incluye",filled:"",type:"textarea",autogrow:""},{control:M(()=>[u(jt,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[86]||(a[86]=l=>t.textoNoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Dc,[d("div",Oc,[u(ia,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[88]||(a[88]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(oe(),ue("div",kc,[Mc,d("div",zc,[d("div",Lc,[u(me,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[89]||(a[89]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",Fc,[u(D,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[90]||(a[90]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Rc,[d("div",jc,[u(D,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[91]||(a[91]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Hc,[u(D,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[92]||(a[92]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Uc,[d("div",Bc,[u(D,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[93]||(a[93]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),Yc,d("div",Wc,[d("div",Qc,[u(me,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[94]||(a[94]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",Xc,[u(D,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[95]||(a[95]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Gc,[d("div",Jc,[u(D,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[96]||(a[96]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Zc,[u(D,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[97]||(a[97]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Kc,[d("div",$c,[u(D,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[98]||(a[98]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):ze("",!0),d("div",ed,[d("div",ad,[d("div",td,[u(ia,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[99]||(a[99]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(oe(),ue("div",od,[u(D,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[100]||(a[100]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(oe(!0),ue(Oa,null,Da(t.peopleArray,l=>(oe(),ue("div",{key:l},[u(D,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":s=>t.supplementValues[l-1]=s,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):ze("",!0)],512),[[Fa,t.activeTab==="tab2"]]),d("div",ld,[t.activeTab==="tab2"?(oe(),ue("div",nd,[u(ce,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):ze("",!0),t.activeTab==="tab1"?(oe(),ue("div",sd,[u(ce,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):ze("",!0),t.activeTab==="tab2"?(oe(),ue("div",id,[u(ce,{label:"Registrar",onClick:r.saveFormDataPersonalizado,color:"primary"},null,8,["onClick"])])):ze("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(oe(),ue("div",rd,[u(ce,{label:"Cerrar",onClick:r.closeModalPersonalizado,color:"red"},null,8,["onClick"])])):ze("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(lt,{modelValue:t.mostrarModalPasajeros,"onUpdate:modelValue":a[106]||(a[106]=l=>t.mostrarModalPasajeros=l),persistent:""},{default:M(()=>[u(qa,{style:{"min-width":"500px"}},{default:M(()=>[u(Na,null,{default:M(()=>[cd]),_:1}),u(Na,{class:"q-pt-none"},{default:M(()=>[u(bl,{onSubmit:r.procesarLiquidacion,class:"q-gutter-md"},{default:M(()=>[(oe(!0),ue(Oa,null,Da(t.pasajeros,(l,s)=>(oe(),ue("div",{key:s,class:"q-pa-md q-mb-md bg-grey-2 rounded-borders"},[d("div",dd,"Pasajero "+Wa(s+1),1),u(D,{modelValue:l.nombre,"onUpdate:modelValue":h=>l.nombre=h,label:"Nombre",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),d("div",ud,[d("div",md,[u(me,{modelValue:l.tipoDocumento,"onUpdate:modelValue":h=>l.tipoDocumento=h,options:t.opcionesTipoDocumento,label:"Tipo de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",hd,[u(D,{modelValue:l.numeroDocumento,"onUpdate:modelValue":h=>l.numeroDocumento=h,label:"N\xFAmero de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]),u(D,{modelValue:l.fechaNacimiento,"onUpdate:modelValue":h=>l.fechaNacimiento=h,label:"Fecha de Nacimiento",filled:"",dense:"",type:"date",rules:[h=>h?new Date(h)>new Date?"La fecha no puede ser en el futuro":!0:"La fecha es requerida"],class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue","rules"])]))),128)),u(ia,{modelValue:t.tieneTelefono,"onUpdate:modelValue":a[102]||(a[102]=l=>t.tieneTelefono=l),label:"\xBFTiene tel\xE9fono?"},null,8,["modelValue"]),t.tieneTelefono?(oe(),ft(D,{key:0,modelValue:t.telefono,"onUpdate:modelValue":a[103]||(a[103]=l=>t.telefono=l),label:"Tel\xE9fono",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):ze("",!0),u(ia,{modelValue:t.tieneNumero,"onUpdate:modelValue":a[104]||(a[104]=l=>t.tieneNumero=l),label:"\xBFTiene correo?"},null,8,["modelValue"]),t.tieneNumero?(oe(),ft(D,{key:1,modelValue:t.correoPasajero,"onUpdate:modelValue":a[105]||(a[105]=l=>t.correoPasajero=l),label:"Correo",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):ze("",!0),u(el,{align:"right",class:"bg-white text-teal"},{default:M(()=>[u(ce,{flat:"",label:"Cancelar",onClick:r.cerrarModalPasajeros},null,8,["onClick"]),u(ce,{type:"submit",label:"Guardar",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("div",null,[fd,d("div",gd,[d("div",pd,[u(me,{modelValue:t.selectedFilter,"onUpdate:modelValue":a[107]||(a[107]=l=>t.selectedFilter=l),options:["Todos","Cot","Cot-C"],label:"Filtrar por Tipo",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),d("div",vd,[u(me,{modelValue:t.filterStatus,"onUpdate:modelValue":a[108]||(a[108]=l=>t.filterStatus=l),options:t.statusOptions,label:"Filtrar por Status",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),bd,u(pl,{rows:r.filteredCotizacionData(),columns:t.columns,sortBy:t.sortBy,"onUpdate:sortBy":a[109]||(a[109]=l=>t.sortBy=l),sortOrder:t.sortOrder,"onUpdate:sortOrder":a[110]||(a[110]=l=>t.sortOrder=l)},{"body-cell-status":M(l=>[u(It,{props:l},{default:M(()=>[u(cl,{color:r.getStatusColor(l.row.status),"text-color":"white",square:""},{default:M(()=>[al(Wa(l.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-cotizacion":M(l=>[u(It,{props:l},{default:M(()=>[u(ce,{onClick:s=>r.descargarCotizacionN(l.row),color:"primary",label:"Descargar Cotizaci\xF3n"},null,8,["onClick"]),yd,Vd,u(ce,{onClick:s=>r.enviarCotizacion(l.row),color:"secondary",label:"Enviar Cotizaci\xF3n"},null,8,["onClick"]),Cd,Nd,u(ce,{onClick:s=>r.abrirModalPasajeros(l.row),color:"green",label:"Pasar a Liquidaci\xF3n"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","sortBy","sortOrder"]),d("input",Sd,null,512)])]),_:1})}var Gd=yl(es,[["render",Td]]);export{Gd as default};
