import{a2 as Ot,aA as Pt,a4 as Ct,a5 as Tt,a6 as C,au as zt,a9 as O,a7 as S,ae as ee,ag as Le,av as Oe,ay as It,ax as Ft,aC as Rt,a8 as ut,aw as bt,aY as vt,aX as xt,aa as Dt,aI as wt,aG as Vt,N as qt,aD as Mt,aH as yt}from"./index.be06cc58.js";import{E as Lt,n as te}from"./PDFButton.9395f286.js";import{a as D}from"./axios.37d53be1.js";const Ht={data(){return{mostrarDialogo:!1,facturaOtroNombre:!1,nombreFactura:"",liquidacionSeleccionada:null,filterId:"",filterStatus:null,statusOptions:[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"Pendiente"}],filter:"",rows:[],columns:[{name:"status",label:"Status",field:"status"},{name:"idLiquidacion",label:"ID Liquidaci\xF3n",field:"idLiquidacion",sortable:!0},{name:"idCotizacion",label:"ID Cotizaci\xF3n",field:"idCotizacion",sortable:!0},{name:"salida",label:"Salida",field:"salida"},{name:"destino",label:"Destino",field:"destino"},{name:"nombrePrograma",label:"Nombre del Programa",field:"nombrePrograma"},{name:"hotel",label:"Hotel",field:"hotel"},{name:"totalPasajeros",label:"Total Pasajeros",field:"totalPasajeros"},{name:"precioBrutoTotal",label:"Precio Bruto Total",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Total Precio Cliente",field:"totalPrecioCliente"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",field:g=>new Date(g.fechaCreacion).toLocaleDateString(),sortable:!0},{name:"acciones",label:"Acciones"}]}},computed:{filteredRows(){const g=this.filterId.toLowerCase();return this.rows.filter(T=>{const q=T.idCotizacion.toLowerCase().includes(g),M=this.filterStatus===null||T.status===this.filterStatus;return q&&M})}},methods:{mostrarDialogoFactura(g){this.liquidacionSeleccionada=g,this.mostrarDialogo=!0},async procesarDescarga(){this.mostrarDialogo=!1;try{await D.put(`https://backmultidestinos.onrender.com/liquidacion/${this.liquidacionSeleccionada.idLiquidacion}`,{facturaPara:this.nombreFactura?this.nombreFactura:null})}catch(g){console.error("Error al actualizar la liquidaci\xF3n:",g),Pt.create({message:"Error al actualizar la liquidaci\xF3n.",color:"negative"});return}this.liquidacionSeleccionada.idCotizacion.includes("-C")?this.descargarLiquidacionCano(this.liquidacionSeleccionada.idCotizacion,this.liquidacionSeleccionada.idLiquidacion):this.descargarLiquidacion(this.liquidacionSeleccionada.idCotizacion,this.liquidacionSeleccionada.idLiquidacion),this.nombreFactura=""},chipColor(g){switch(g){case"Aprobado":return"green";case"Rechazado":return"red";case"Pendiente":return"orange";default:return"grey"}},verDetalles(g){this.$router.push({name:"LiquidacionDetalles",params:{idLiquidacion:g.idLiquidacion,liquidacionData:g}})},descargarLiquidacionN(g){g.idCotizacion.includes("-C")?this.descargarLiquidacionCano(g.idCotizacion,g.idLiquidacion):this.descargarLiquidacion(g.idCotizacion,g.idLiquidacion)},async descargarLiquidacion(g,T){var q;try{let M=function(t,n,r,h=10){return n+r>y-h?(t.addPage(),a.top):n},ot=function(t){return t.map(n=>{const r=n.adultos,h=n.ni\u00F1os,x=`1x${r}`;return h>0?`${x} CHD`:x}).join(", ")},v=function(t){for(let n=0;n<=6;n++){const r=a.left+n*N;e.line(r,t,r,t+f)}e.line(a.left,t,A-a.right,t),e.line(a.left,t+f,A-a.right,t+f)};const[L,Q,b,Qe,c]=await Promise.all([D.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${g}`),D.get(`https://backmultidestinos.onrender.com/cotizacion/${g}`),D.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${g}`),D.get(`https://backmultidestinos.onrender.com/liquidacion/${T}`),D.get(`https://backmultidestinos.onrender.com/pasajero/${T}`)]);if(L.status!==200||Q.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const l=Q.data[0],Se=b.data[0];console.log("impuesto",Se);const U=L.data;console.log("habitacion",U);const G=Qe.data;console.log("liquidacion",G);const Ge=G[0].telefono;console.log(Ge);const F=c.data;console.log("pasajero",F);const Pe=await D.get(`https://backmultidestinos.onrender.com/cliente/buscar/${l.cliente}`);console.log("clienteResponse",Pe);const I=Pe.data[0];console.log("clienteData",I);const ft=(q=I==null?void 0:I.tipoBase)!=null?q:"Valor por defecto",Ae=await D.get(`https://backmultidestinos.onrender.com/user/${l.CreadorCotizacion}`),mt=Ae.Data;console.log("vendedor",Ae.data.nombreCompleto);const ht={hotel:l.hotel,nombrePrograma:l.nombrePrograma,destino:l.destino},Xe=await D.post("https://backmultidestinos.onrender.com/hoteles/buscar",ht),o=l.incluye?l.incluye:Xe.data[0].incluye,i=l.noIncluye?l.noIncluye:Xe.data[0].noIncluye,e=new Lt,a={top:10,bottom:10,left:10,right:10},A=e.internal.pageSize.width,y=e.internal.pageSize.height,me=40,$={left:10,right:10,top:5,bottom:5},ze=await new Promise((t,n)=>{const r=new Image;r.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",r.onload=()=>t(r),r.onerror=n}),Ee=ze.width/ze.height,Je=A/4-$.left-$.right,Ne=Math.min(100,Je),Ze=Ne/Ee,Ke=a.top+(me-Ze)/2,gt=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,et=`Numero de cotizaci\xF3n: ${g}`;e.addImage(ze,"PNG",a.left+$.left,Ke,Ne,Ze);const tt=A-a.left-a.right-Ne-$.left-$.right-10;e.setFontSize(10),e.text(e.splitTextToSize(gt,tt),a.left+Ne+$.left+$.right,a.top+10);const Fe=A-a.right-e.getTextWidth(et)-$.right;e.setFontSize(12),e.setFont("Helvetica-Bold",12),e.text(et,Fe,a.top+10),e.setDrawColor(0),e.rect(a.left,a.top,A-a.left-a.right,me,"S"),e.setFontSize(10);const Re=a.top+me+10;e.setFontSize(10),e.text("SOLICITUD DE RESERVA:",a.left,Re-4),e.setFontSize(8);const be=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],ve=[new Date(new Date(l.fechaCreacion).getTime()+new Date(l.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),l.cliente.toString(),I!=null&&I.telefono?I.telefono.toString():"N/A","N/A",I!=null&&I.nit?I.nit.toString():"N/A",Ae.data.nombreCompleto?Ae.data.nombreCompleto.toString():"N/A"],k=6,u=(A-a.left-a.right)/k;let X=a.left,d=Re;for(let t=0;t<be.length;t++){e.text(be[t],X,d);const n=ve[t]!==void 0?ve[t]:"N/A",r=e.splitTextToSize(n,u-2);e.text(r,X,d+5),X+=u,((t+1)%k===0||t===be.length-1)&&(d+=15,X=a.left)}const we=ot(U),at=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],xe=[l.noches?l.noches.toString():"N/A",l.hotel?l.hotel.toString():"N/A",l.plan?l.plan.toString():"N/A",l.destino?l.destino.toString():"N/A",l.direccion?l.direccion.toString():"N/A",we.toString()];console.log("campso2",xe);const it=6,Ve=(A-a.left-a.right)/it;d+=1;for(let t=0;t<at.length;t++){e.text(at[t],X,d);const n=xe[t]!==void 0?xe[t]:"N/A",r=e.splitTextToSize(n,Ve-2);e.text(r,X,d+5),X+=Ve}d+=1,e.setFontSize(10),e.text("PASAJEROS: ",a.left,d+12),d+=20;const qe=["NOMBRE","DOCUMENTO","F. NACIMIENTO","EDAD","TELEFONO RESERVA"],nt=F.map(t=>{const n=new Date(t.fechaNacimiento),r=new Date;let h=r.getFullYear()-n.getFullYear();const x=r.getMonth()-n.getMonth();return(x<0||x===0&&r.getDate()<n.getDate())&&h--,[t.nombre,t.numeroDocumento,n.toLocaleDateString(),h,G[0].telefono?G[0].telefono.toString():"N/A"]}),Me=(A-a.left-a.right)/qe.length,lt=A-a.left-a.right,oe=10+8*nt.length;e.rect(a.left,d,lt,oe,"S"),e.setFontSize(8),qe.forEach((t,n)=>{e.text(t,a.left+5+n*Me,d+5)}),d+=10,nt.forEach((t,n)=>{t.forEach((r,h)=>{e.text(r.toString(),a.left+5+h*Me,d+n*8)})}),d+=oe-15,d+=22,e.setFontSize(10),e.text("ITINERARIO: ",a.left,d-10);const ye=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],he=[[l.aerolineaIda||"N/A",l.vueloIda||"N/A",l.fechaInicio?new Date(new Date(l.fechaInicio).getTime()+new Date(l.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",l.ruta1||"N/A",l.claseIda||"N/A",l.horaSalidaIda||"N/A",l.horaLlegadaIda||"N/A",l.recordIda||"N/A"]];l.aerolineaEscalaIda!=null&&(he.push([l.aerolineaEscalaIda||"N/A",l.vueloEscalaIda||"N/A",l.fechaInicio?new Date(new Date(l.fechaInicio).getTime()+new Date(l.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",l.claseEscalaIda||"N/A",l.horaSalidaEscalaIda||"N/A",l.horaLlegadaEscalaIda||"N/A",""]),he.push([l.aerolineaEscalaVuelta||"N/A",l.vueloEscalaVuelta||"N/A",l.fechaFin?new Date(new Date(l.fechaFin).getTime()+new Date(l.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",l.claseEscalaVuelta||"N/A",l.horaSalidaEscalaVuelta||"N/A",l.horaLlegadaEscalaVuelta||"N/A",""])),he.push([l.aerolineaVuelta||"N/A",l.vueloVuelta||"N/A",l.fechaFin?new Date(new Date(l.fechaFin).getTime()+new Date(l.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",l.ruta2||"N/A",l.claseVuelta||"N/A",l.horaSalidaVuelta||"N/A",l.horaLlegadaVuelta||"N/A",l.recordVuelta||"N/A"]);const He=(A-a.left-a.right)/ye.length,H=A-a.left-a.right,st=12+8*he.length;d+=5,e.rect(a.left,d-5,H,st,"S"),e.setFontSize(8),ye.forEach((t,n)=>{e.text(t,a.left+n*He,d)}),d+=5,he.forEach((t,n)=>{t.forEach((r,h)=>{e.text(r,a.left+h*He,d+(n+1)*8)})}),d+=st-5;let R;const rt="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",J=d,ct=30;e.setDrawColor(0),e.rect(a.left,J,A-a.left-a.right,ct),e.setFontSize(12),e.text("OBSERVACIONES:",a.left+2,J+6),e.setFontSize(10),e.text(rt,a.left+2,J+15,{maxWidth:A-a.left-a.right-4}),d=J+ct;const ge=d+10;e.setFontSize(8);const Ce=`El pago de su plan se realizar\xE1 conforme a las siguientes condiciones:

Planes con inicio dentro de los 30 d\xEDas:  El pago total deber\xE1 efectuarse dentro de un d\xEDa h\xE1bil a partir de la fecha de env\xEDo de este documento.
Planes con inicio posterior a los 30 d\xEDas: El pago se realizar\xE1 en dos cuotas:
  * Primera cuota: 50% del valor total del plan, pagadero dentro de un d\xEDa h\xE1bil a partir de la fecha de env\xEDo de este documento.
  * Segunda cuota: 50% restante del valor total del plan, pagadero 30 d\xEDas antes de la fecha de inicio del plan.`,Be=e.splitTextToSize(Ce,A-a.left-a.right-4);let pe=18;Be.forEach(t=>{pe+=e.getTextDimensions(t,{fontSize:8}).h}),d=M(e,d,pe),e.setDrawColor(0),e.rect(a.left,ge,A-a.left-a.right,pe),e.setFontSize(12),e.text("PLAZO DE PAGO:",a.left+2,ge+6),e.setFontSize(8),R=ge+15,Be.forEach(t=>{e.text(t,a.left+2,R,{maxWidth:A-a.left-a.right-4}),R+=e.getTextDimensions(t,{fontSize:8}).h}),d=ge+pe;let Te=!1;e.setFontSize(8);const ae=o.split("\xBF");let ie=[];ae.forEach(t=>{const n=e.splitTextToSize(t,A-a.left-a.right-4);ie=ie.concat(n)});let ne=18;ae.forEach(t=>{const n=e.splitTextToSize(t,A-a.left-a.right-4);for(let r=0;r<n.length;r++){const h=n[r];ne+=e.getTextDimensions(h,{fontSize:8}).h,!h.endsWith(`
`)&&r<n.length-1&&(ne+=e.getTextDimensions(" ",{fontSize:8}).h)}}),d=M(e,d,ne),d===a.top&&(Te=!0);const le=d+10;e.setDrawColor(0),e.rect(a.left,le,A-a.left-a.right,ne),e.setFontSize(12),e.text("INCLUYE:",a.left+2,le+6),e.setFontSize(8),R=le+15,ie.forEach(t=>{e.text(t,a.left+2,R,{maxWidth:A-a.left-a.right-4}),R+=e.getTextDimensions(t,{fontSize:8}).h}),d=le+ne;const se=i.split("\xBF");let re=[];se.forEach(t=>{const n=e.splitTextToSize(t,A-a.left-a.right-4);re=re.concat(n)});let Y=18;se.forEach(t=>{const n=e.splitTextToSize(t,A-a.left-a.right-4);for(let r=0;r<n.length;r++){const h=n[r];Y+=e.getTextDimensions(h,{fontSize:8}).h,!h.endsWith(`
`)&&r<n.length-1&&(Y+=e.getTextDimensions(" ",{fontSize:8}).h)}}),d=M(e,d,Y),Te||(d=a.top);const p=d+10;e.setDrawColor(0),e.rect(a.left,p,A-a.left-a.right,Y),e.setFontSize(12),e.text("NO INCLUYE:",a.left+2,p+6),e.setFontSize(8),R=p+15,re.forEach(t=>{e.text(t,a.left+2,R,{maxWidth:A-a.left-a.right-4}),R+=e.getTextDimensions(t,{fontSize:8}).h}),d=p+Y,e.addPage(),d=a.top,e.setFontSize(10),e.text("LIQUIDACI\xD3N:",a.left,d),d+=5;const m=d+5,E=2,f=6,N=(A-a.left-a.right)/6;e.setDrawColor(0);let de=0;e.setFontSize(7);let B=0;U.forEach(t=>{const n=m+B*f;v(n);const r=`Valor adul ${t.acomodacion}`;e.text(r,a.left+E,n+f/2,{baseline:"middle"});const h=Math.round(t.precioComisionableAdulto);e.text(h.toString(),a.left+N+E,n+f/2,{baseline:"middle"});const x=t.adultos;e.text(x.toString(),a.left+2*N+E,n+f/2,{baseline:"middle"});const j=Math.round(t.precioComisionableAdulto*t.adultos);if(e.text(j.toString(),a.left+3*N+E,n+f/2,{baseline:"middle"}),B===0){e.setFontSize(6);const P=ft==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE COMISION";e.text(P,a.left+4*N+E,n+f/2,{baseline:"middle"}),e.setFontSize(7)}let w=j;if(t.ni\u00F1os>0&&(w+=Math.round(t.precioComisionableNino*t.ni\u00F1os)),de+=w,B++,t.ni\u00F1os>0){const P=m+B*f;v(P);const K=`Valor child ${t.acomodacion}`;e.text(K,a.left+E,P+f/2,{baseline:"middle"});const z=Math.round(t.precioComisionableNino);e.text(z.toString(),a.left+N+E,P+f/2,{baseline:"middle"});const W=t.ni\u00F1os;e.text(W.toString(),a.left+2*N+E,P+f/2,{baseline:"middle"});const ke=Math.round(t.precioComisionableNino*t.ni\u00F1os);e.text(ke.toString(),a.left+3*N+E,P+f/2,{baseline:"middle"}),B++}}),e.text(de.toString(),a.left+5*N+E,m+f/2,{baseline:"middle"}),d=m+B*f+10;const ue=["TRANSPORTE NO COMISI","Q","YS","CO","TA","YS TA","TOTAL IMPUESTOS"],Ie=[l.otros,l.combus,l.iva,l.tasa,l.ta,l.ivaTa,l.precioTrans];if(l.suplemento>0&&(ue.push("SUPLEMENTO"),Ie.push(l.suplemento)),l.extra1)if(l.extra1.includes("*")){let t=l.extra1.split("*"),n=t[0],r=t[1];ue.push("Valor Extra","Valor Extra2"),Ie.push(n,r)}else{let t=l.extra1;ue.push("Valor Extra"),Ie.push(t)}ue.forEach((t,n)=>{const r=d+n*f;v(r),e.text(t,a.left+E,r+f/2,{baseline:"middle"});const h=l.totalPasajeros,x=Ie[n]||0,j=h!==0?Math.trunc(x/h):"";e.text(j.toString(),a.left+N+E,r+f/2,{baseline:"middle"});const w=h!==0?Math.trunc(h).toString():"";e.text(w,a.left+2*N+E,r+f/2,{baseline:"middle"});const P=x!==0?Math.trunc(x).toString():"";if(e.text(P,a.left+3*N+E,r+f/2,{baseline:"middle"}),t==="Q"){e.text("COMISION",a.left+4*N+E,r+f/2,{baseline:"middle"});const K=l.clientePorcentaje||0,z=Math.trunc(K).toString()+"%";e.text(z,a.left+5*N+E,r+f/2,{baseline:"middle"})}else if(t==="YS"){e.text("Valor Descuento",a.left+4*N+E,r+f/2,{baseline:"middle"});const K=l.valorDescuento||0,z=Math.trunc(K).toString();e.text(z,a.left+5*N+E,r+f/2,{baseline:"middle"}),ft==="Comisi\xF3n"&&[{label:`IVA(${I.porcentajeIva}%) (-)`,value:l.ivaValor},{label:`RTE FUENTE(${I.rteFuente}%) (+)`,value:l.rteFuente},{label:`RTE ICA(${I.rteIca}%) (+)`,value:l.rteIca},{label:"Total Comisi\xF3n",value:l.totalComision}].forEach((ke,dt)=>{const Ye=r+(dt+1)*f;v(Ye),e.text(ke.label,a.left+4*N+E,Ye+f/2,{baseline:"middle"}),e.text(ke.value.toString(),a.left+5*N+E,Ye+f/2,{baseline:"middle"})})}}),d+=ue.length*f,U.forEach(t=>{if(t.adultos>0){const n=d;v(n),e.text(`Valor total Adt ${t.acomodacion}`,a.left+E,n+f/2,{baseline:"middle"});const r=t.precioHabitacionAdulto||0,h=te(r).format("$0,0");e.text(h,a.left+3*N+E,n+f/2,{baseline:"middle"}),d+=f}if(t.ni\u00F1os>0){const n=d;v(n),e.text(`Valor total Chd ${t.acomodacion}`,a.left+E,n+f/2,{baseline:"middle"});const r=t.precioHabitacionNino||0,h=te(r).format("$0,0");e.text(h,a.left+3*N+E,n+f/2,{baseline:"middle"}),d+=f}}),e.setFontSize(8),d+=f,v(d),e.text("Valor total",a.left+E,d+f/2,{baseline:"middle"});const pt=l.precioBrutoTotal||0,St=te(pt).format("$0,0");e.text(St,a.left+3*N+E,d+f/2,{baseline:"middle"}),e.text("Precio a pagar",a.left+4*N+E,d+f/2-2,{baseline:"middle"}),e.text("a Multidestinos",a.left+4*N+E,d+f/2+2,{baseline:"middle"});const _e=0,je=parseFloat(l.totalPrecioCliente)||0,At=_e>0?je+_e:je,Et=te(At).format("$0,0");e.text(Et,a.left+5*N+E,d+f/2,{baseline:"middle"}),d+=f+10;const _=a.left;let V=d+5;const We=190;let Z=30;e.setFontSize(7),e.setLineWidth(.5),e.setFontSize(6);const De=5,Ue="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",fe=e.splitTextToSize(Ue,We-10);Z=20+fe.length*De,V+Z>y-a.bottom&&(e.addPage(),d=a.top),V=d,e.rect(_,d,We,Z),e.text("Deposito y Condiciones de Pago",_+5,V+3),fe.forEach((t,n)=>{e.text(t,_+5,V+10+n*De)}),G[0].facturaPara&&(d=V+10+fe.length*De,e.setFontSize(8),e.text("FACTURA A NOMBRE DE:",_+5,d),d+=De,e.text(G[0].facturaPara,_+5,d)),d+=Z+5;const $e=[];for(const t of U){const n={pertenece:l.salida,destino:l.destino,nombrePrograma:l.nombrePrograma,hotel:l.hotel,noches:l.noches+" noches",tipoHabitacion:t.tipoHabitacion},r=await D.post("https://backmultidestinos.onrender.com/costosHotel/buscar",n);console.log("hola",r),$e.push(r.data)}console.log("costosHotelResponses",$e),e.setFontSize(10),e.text("COSTOS DE HOTEL:",a.left,d),d+=5,e.setFont("helvetica","bold"),e.text(l.hotel,a.left,d),e.setFont("helvetica","normal"),d+=8,$e.forEach((t,n)=>{const r=U[n];e.setFontSize(8),e.text(`\u2022 Tipo de habitaci\xF3n: ${r.tipoHabitacion}`,a.left,d),d+=6;const h=r.acomodacion.toLowerCase();let x=t[0][h]||"N/A";typeof x=="number"&&(x=te(x).format("$0,0")),e.text(`  - Acomodaci\xF3n: ${r.acomodacion}`,a.left+10,d),d+=6,e.text(`  - Valor: ${x}`,a.left+10,d),d+=8});const s=e.output("blob");return e.save(`cotizacion_${g}.pdf`),s}catch(M){console.error("Error al descargar cotizaci\xF3n:",M)}},async descargarLiquidacionCano(g,T){try{let q=function(s,t,n,r=10){return t+n>a-r?(s.addPage(),i.top):t},X=function(s){return s.map(t=>{const n=t.adultos,r=t.ni\u00F1os,h=`1x${n}`;return r>0?`${h} CHD`:h}).join(", ")},ce=function(s){for(let t=0;t<=6;t++){const n=i.left+t*f;o.line(n,s,n,s+m)}o.line(i.left,s,e-i.right,s),o.line(i.left,s+m,e-i.right,s+m)};const[M,L,Q,b,Qe]=await Promise.all([D.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${g}`),D.get(`https://backmultidestinos.onrender.com/cotizacion/${g}`),D.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${g}`),D.get(`https://backmultidestinos.onrender.com/liquidacion/${T}`),D.get(`https://backmultidestinos.onrender.com/pasajero/${T}`)]);if(M.status!==200||L.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const c=L.data[0],l=Q.data[0];console.log("impuesto",l);const Se=M.data;console.log("habitacion",Se);const U=b.data;console.log("liquidacion",U);const G=Qe.data;console.log("pasajero",G);const Ge=await D.get(`https://backmultidestinos.onrender.com/cliente/buscar/${c.cliente}`);console.log("clienteResponse",Ge);const F=Ge.data[0];console.log("clienteData",F);const Pe=F.tipoBase,I=await D.get(`https://backmultidestinos.onrender.com/user/${c.CreadorCotizacion}`),ft=I.Data;console.log("vendedor",I.data.nombreCompleto);const Ae={hotel:c.hotel,nombrePrograma:c.nombrePrograma,destino:c.destino},mt=await D.post("https://backmultidestinos.onrender.com/hoteles/buscar",Ae),ht=mt.data[0].incluye,Xe=mt.data[0].noIncluye,o=new Lt,i={top:10,bottom:10,left:10,right:10},e=o.internal.pageSize.width,a=o.internal.pageSize.height,A=40,y={left:10,right:10,top:5,bottom:5},me=await new Promise((s,t)=>{const n=new Image;n.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",n.onload=()=>s(n),n.onerror=t}),$=me.width/me.height,ze=e/4-y.left-y.right,Ee=Math.min(100,ze),Je=Ee/$,Ne=i.top+(A-Je)/2,Ze=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,Ke=`Numero de Liquidacion: ${T}`;o.addImage(me,"PNG",i.left+y.left,Ne,Ee,Je);const gt=e-i.left-i.right-Ee-y.left-y.right-10;o.setFontSize(10),o.text(o.splitTextToSize(Ze,gt),i.left+Ee+y.left+y.right,i.top+10);const et=e-i.right-o.getTextWidth(Ke)-y.right;o.setFontSize(12),o.setFont("Helvetica-Bold",12),o.text(Ke,et,i.top+10),o.setDrawColor(0),o.rect(i.left,i.top,e-i.left-i.right,A,"S"),o.setFontSize(10);const tt=i.top+A+10;o.setFontSize(10),o.text("SOLICITUD DE RESERVA:",i.left,tt-4),o.setFontSize(8);const Fe=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],Re=[new Date(c.fechaCreacion).toLocaleDateString(),c.cliente.toString(),F.telefono?F.telefono.toString():"N/A",F.nit?F.nit.toString():"N/A",F.nit?F.nit.toString():"N/A",I.data.nombreCompleto?I.data.nombreCompleto.toString():"N/A"],be=6,ve=(e-i.left-i.right)/be;let k=i.left,u=tt;for(let s=0;s<Fe.length;s++){o.text(Fe[s],k,u);const t=Re[s]!==void 0?Re[s]:"N/A",n=o.splitTextToSize(t,ve-2);o.text(n,k,u+5),k+=ve,((s+1)%be===0||s===Fe.length-1)&&(u+=15,k=i.left)}const d=X(Se),ot=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],we=[c.noches?c.noches.toString():"N/A",c.hotel?c.hotel.toString():"N/A",c.plan?c.plan.toString():"N/A",c.destino?c.destino.toString():"N/A",c.direccion?c.direccion.toString():"N/A",d.toString()];console.log("campso2",we);const at=6,xe=(e-i.left-i.right)/at;u+=1;for(let s=0;s<ot.length;s++){o.text(ot[s],k,u);const t=we[s]!==void 0?we[s]:"N/A",n=o.splitTextToSize(t,xe-2);o.text(n,k,u+5),k+=xe}u+=1,o.setFontSize(10),o.text("PASAJEROS: ",i.left,u+12),u+=20;const it=["NOMBRE","DOCUMENTO","F. NACIMIENTO","EDAD"],Ve=G.map(s=>{const t=new Date(s.fechaNacimiento),n=new Date;let r=n.getFullYear()-t.getFullYear();const h=n.getMonth()-t.getMonth();return(h<0||h===0&&n.getDate()<t.getDate())&&r--,[s.nombre,s.numeroDocumento,t.toLocaleDateString(),r]}),qe=(e-i.left-i.right)/it.length,nt=e-i.left-i.right,Me=10+8*Ve.length;o.rect(i.left,u,nt,Me,"S"),o.setFontSize(8),it.forEach((s,t)=>{o.text(s,i.left+5+t*qe,u+5)}),u+=10,Ve.forEach((s,t)=>{s.forEach((n,r)=>{o.text(n.toString(),i.left+5+r*qe,u+t*8)})}),u+=Me-15,u+=1,o.setFontSize(10),o.text("ITINERARIO: ",i.left,u+12),u+=20;const lt=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],oe=[[c.aerolineaIda||"N/A",c.vueloIda||"N/A",c.fechaInicio?new Date(new Date(c.fechaInicio).getTime()+new Date(c.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",c.ruta1||"N/A",c.claseIda||"N/A",c.horaSalidaIda||"N/A",c.horaLlegadaIda||"N/A",c.recordIda||"N/A"]];c.aerolineaEscalaIda!=null&&(oe.push([c.aerolineaEscalaIda||"N/A",c.vueloEscalaIda||"N/A",c.fechaInicio?new Date(new Date(c.fechaInicio).getTime()+new Date(c.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",c.claseEscalaIda||"N/A",c.horaSalidaEscalaIda||"N/A",c.horaLlegadaEscalaIda||"N/A",""]),oe.push([c.aerolineaEscalaVuelta||"N/A",c.vueloEscalaVuelta||"N/A",c.fechaFin?new Date(new Date(c.fechaFin).getTime()+new Date(c.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",c.claseEscalaVuelta||"N/A",c.horaSalidaEscalaVuelta||"N/A",c.horaLlegadaEscalaVuelta||"N/A",""])),oe.push([c.aerolineaVuelta||"N/A",c.vueloVuelta||"N/A",c.fechaFin?new Date(new Date(c.fechaFin).getTime()+new Date(c.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",c.ruta2||"N/A",c.claseVuelta||"N/A",c.horaSalidaVuelta||"N/A",c.horaLlegadaVuelta||"N/A",c.recordVuelta||"N/A"]);const ye=(e-i.left-i.right)/lt.length,he=e-i.left-i.right,He=10+8*oe.length;o.rect(i.left,u,he,He,"S"),o.setFontSize(8),lt.forEach((s,t)=>{o.text(s,i.left+t*ye,u+5)}),u+=10,oe.forEach((s,t)=>{s.forEach((n,r)=>{o.text(n,i.left+r*ye,u+t*8)})}),u+=He-8;let H;const st="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",R=u,rt=30;o.setDrawColor(0),o.rect(i.left,R,e-i.left-i.right,rt),o.setFontSize(12),o.text("OBSERVACIONES:",i.left+2,R+6),o.setFontSize(10),o.text(st,i.left+2,R+15,{maxWidth:e-i.left-i.right-4}),u=R+rt;const J=u+10;o.setFontSize(8);const ct=`El pago de su plan se realizar\xE1 conforme a las siguientes condiciones:

Planes con inicio dentro de los 30 d\xEDas:  El pago total deber\xE1 efectuarse dentro de un d\xEDa h\xE1bil a partir de la fecha de env\xEDo de este documento.
Planes con inicio posterior a los 30 d\xEDas: El pago se realizar\xE1 en dos cuotas:
  * Primera cuota: 50% del valor total del plan, pagadero dentro de un d\xEDa h\xE1bil a partir de la fecha de env\xEDo de este documento.
  * Segunda cuota: 50% restante del valor total del plan, pagadero 30 d\xEDas antes de la fecha de inicio del plan.`,ge=o.splitTextToSize(ct,e-i.left-i.right-4);let Ce=18;ge.forEach(s=>{Ce+=o.getTextDimensions(s,{fontSize:8}).h}),u=q(o,u,Ce),o.setDrawColor(0),o.rect(i.left,J,e-i.left-i.right,Ce),o.setFontSize(12),o.text("PLAZO DE PAGO:",i.left+2,J+6),o.setFontSize(8),H=J+15,ge.forEach(s=>{o.text(s,i.left+2,H,{maxWidth:e-i.left-i.right-4}),H+=o.getTextDimensions(s,{fontSize:8}).h}),u=J+Ce;let Be=!1;o.setFontSize(8);const pe=ht.split("\xBF");let Te=[];pe.forEach(s=>{const t=o.splitTextToSize(s,e-i.left-i.right-4);Te=Te.concat(t)});let ae=18;pe.forEach(s=>{const t=o.splitTextToSize(s,e-i.left-i.right-4);for(let n=0;n<t.length;n++){const r=t[n];ae+=o.getTextDimensions(r,{fontSize:8}).h,!r.endsWith(`
`)&&n<t.length-1&&(ae+=o.getTextDimensions(" ",{fontSize:8}).h)}}),u=q(o,u,ae),u===i.top&&(Be=!0);const ie=u+10;o.setDrawColor(0),o.rect(i.left,ie,e-i.left-i.right,ae),o.setFontSize(12),o.text("INCLUYE:",i.left+2,ie+6),o.setFontSize(8),H=ie+15,Te.forEach(s=>{o.text(s,i.left+2,H,{maxWidth:e-i.left-i.right-4}),H+=o.getTextDimensions(s,{fontSize:8}).h}),u=ie+ae;const ne=Xe.split("\xBF");let le=[];ne.forEach(s=>{const t=o.splitTextToSize(s,e-i.left-i.right-4);le=le.concat(t)});let se=18;ne.forEach(s=>{const t=o.splitTextToSize(s,e-i.left-i.right-4);for(let n=0;n<t.length;n++){const r=t[n];se+=o.getTextDimensions(r,{fontSize:8}).h,!r.endsWith(`
`)&&n<t.length-1&&(se+=o.getTextDimensions(" ",{fontSize:8}).h)}}),u=q(o,u,se),Be||(u=i.top);const re=u+10;o.setDrawColor(0),o.rect(i.left,re,e-i.left-i.right,se),o.setFontSize(12),o.text("NO INCLUYE:",i.left+2,re+6),o.setFontSize(8),H=re+15,le.forEach(s=>{o.text(s,i.left+2,H,{maxWidth:e-i.left-i.right-4}),H+=o.getTextDimensions(s,{fontSize:8}).h}),u=re+se,o.addPage(),u=i.top,o.setFontSize(10),o.text("LIQUIDACI\xD3N:",i.left,u),u+=5;const Y=u+5,p=2,m=6,f=(e-i.left-i.right)/6;o.setDrawColor(0);let N=0;o.setFontSize(7);let v=0;Se.forEach(s=>{const t=Y+v*m;ce(t);const n=`Valor adul ${s.acomodacion}`;o.text(n,i.left+p,t+m/2,{baseline:"middle"});const r=Math.round(s.precioComisionableAdulto);o.text(r.toString(),i.left+f+p,t+m/2,{baseline:"middle"});const h=s.adultos;o.text(h.toString(),i.left+2*f+p,t+m/2,{baseline:"middle"});const x=Math.round(s.precioComisionableAdulto*s.adultos);if(o.text(x.toString(),i.left+3*f+p,t+m/2,{baseline:"middle"}),v===0){o.setFontSize(6);const w=Pe==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE COMISION";o.text(w,i.left+4*f+p,t+m/2,{baseline:"middle"}),o.setFontSize(7)}let j=x;if(s.ni\u00F1os>0&&(j+=Math.round(s.precioComisionableNino*s.ni\u00F1os)),N+=j,v++,s.ni\u00F1os>0){const w=Y+v*m;ce(w);const P=`Valor child ${s.acomodacion}`;o.text(P,i.left+p,w+m/2,{baseline:"middle"});const K=Math.round(s.precioComisionableNino);o.text(K.toString(),i.left+f+p,w+m/2,{baseline:"middle"});const z=s.ni\u00F1os;o.text(z.toString(),i.left+2*f+p,w+m/2,{baseline:"middle"});const W=Math.round(s.precioComisionableNino*s.ni\u00F1os);o.text(W.toString(),i.left+3*f+p,w+m/2,{baseline:"middle"}),v++}}),o.text(N.toString(),i.left+5*f+p,Y+m/2,{baseline:"middle"}),u=Y+v*m+10;const de=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],B=[c.otros,c.combus,c.iva,c.tasa,c.ta,c.ivaTa,l.defensaCivil_Total,l.alcaldiaNacional_Total,l.alcaldiaExtranjero_Total,l.pqsNaturalesExtranjero_Total,l.pqsNaturales25a65_Total,l.pqsNaturales5a24_Total,l.cormacarenaExtranjero_Total,l.cormacarena5a11_Total,l.cormacarena12a65_Total,c.precioTrans],ue=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],Ie={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(c.suplemento>0&&(de.push("SUPLEMENTO"),B.push(c.suplemento)),c.extra1)if(c.extra1.includes("*")){let s=c.extra1.split("*"),t=s[0],n=s[1];de.push("Valor Extra","Valor Extra2"),B.push(t,n)}else{let s=c.extra1;de.push("Valor Extra"),B.push(s)}de.forEach((s,t)=>{const n=u+t*m;ce(n);const r=Ie[s]||s;o.text(r,i.left+p,n+m/2,{baseline:"middle"});const h=c.totalPasajeros,x=B[t]||0;let j="";if(ue.includes(s)){const z=`${s}_numeroPersonas`,W=l[z]||0;j=W!==0?Math.trunc(x/W):""}else j=h!==0?Math.trunc(x/h):"";o.text(j.toString(),i.left+f+p,n+m/2,{baseline:"middle"});const w=h!==0?Math.trunc(h).toString():"";let P="";if(ue.includes(s)){const z=`${s}_numeroPersonas`;P=l[z]||""}else P=w;o.text(P,i.left+2*f+p,n+m/2,{baseline:"middle"});const K=x!==0?Math.trunc(x).toString():"";if(o.text(K,i.left+3*f+p,n+m/2,{baseline:"middle"}),s==="Q"){o.text("Porcentaje",i.left+4*f+p,n+m/2,{baseline:"middle"});const z=c.clientePorcentaje||0,W=Math.trunc(z).toString()+"%";o.text(W,i.left+5*f+p,n+m/2,{baseline:"middle"})}else if(s==="YS"){o.text("Valor Descuento",i.left+4*f+p,n+m/2,{baseline:"middle"});const z=c.valorDescuento||0,W=Math.trunc(z).toString();o.text(W,i.left+5*f+p,n+m/2,{baseline:"middle"}),Pe==="Comisi\xF3n"&&[{label:`IVA(${F.porcentajeIva}%) (-)`,value:c.ivaValor},{label:`RTE FUENTE(${F.rteFuente}%) (+)`,value:c.rteFuente},{label:`RTE ICA(${F.rteIca}%) (+)`,value:c.rteIca},{label:"Total Comisi\xF3n",value:c.totalComision}].forEach((dt,Ye)=>{const Nt=n+(Ye+1)*m;ce(Nt),o.text(dt.label,i.left+4*f+p,Nt+m/2,{baseline:"middle"}),o.text(dt.value.toString(),i.left+5*f+p,Nt+m/2,{baseline:"middle"})})}}),u+=de.length*m,Se.forEach(s=>{if(s.adultos>0){const t=u;ce(t),o.text(`Valor total Adt ${s.acomodacion}`,i.left+p,t+m/2,{baseline:"middle"});const n=s.precioHabitacionAdulto||0,r=te(n).format("$0,0");o.text(r,i.left+3*f+p,t+m/2,{baseline:"middle"}),u+=m}if(s.ni\u00F1os>0){const t=u;ce(t),o.text(`Valor total Chd ${s.acomodacion}`,i.left+p,t+m/2,{baseline:"middle"});const n=s.precioHabitacionNino||0,r=te(n).format("$0,0");o.text(r,i.left+3*f+p,t+m/2,{baseline:"middle"}),u+=m}}),o.setFontSize(8),u+=m,ce(u),o.text("Valor total",i.left+p,u+m/2,{baseline:"middle"});const pt=c.precioBrutoTotal||0,St=te(pt).format("$0,0");o.text(St,i.left+3*f+p,u+m/2,{baseline:"middle"}),o.text("Precio a pagar",i.left+4*f+p,u+m/2-2,{baseline:"middle"}),o.text("a Multidestinos",i.left+4*f+p,u+m/2+2,{baseline:"middle"});const _e=parseFloat(c.suplemento)||0,je=parseFloat(c.totalPrecioCliente)||0,At=_e>0?je+_e:je,Et=te(At).format("$0,0");o.text(Et,i.left+5*f+p,u+m/2,{baseline:"middle"}),u+=m+10;const _=i.left;let V=u+5;const We=190;let Z=30;o.setFontSize(7),o.setLineWidth(.5);const De="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",Ue=o.splitTextToSize(De,We-10);V+Z>a-i.bottom&&(o.addPage(),u=i.top,V=u+5),o.text("Deposito y Condiciones de Pago",_+5,V+3),o.setFontSize(6);const fe=5;Z=20+Ue.length*fe,o.rect(_,V,We,Z),Ue.forEach((s,t)=>{o.text(s,_+5,V+10+t*fe)}),U[0].facturaPara&&(u=V+10+Ue.length*fe,o.setFontSize(8),o.text("FACTURA A NOMBRE DE:",_+5,u),u+=fe,o.text(U[0].facturaPara,_+5,u)),u+=Z+5;const $e=o.output("blob");return o.save(`cotizacion_${g}.pdf`),$e}catch(q){console.error("Error al descargar cotizaci\xF3n:",q)}}},async mounted(){try{const g=await D.get("https://backmultidestinos.onrender.com/liquidacion");this.rows=g.data}catch(g){console.error("Error al obtener las liquidaciones:",g)}}},Bt={class:"row q-pb-md"},_t={class:"col-12"},jt={class:"q-ma-none text-primary"},Wt=O("p",{class:"text-grey-8 q-ma-none"},"Gesti\xF3n de liquidaciones y facturas",-1),Ut={class:"row q-col-gutter-md"},$t={class:"col-12 col-md-4"},kt={class:"text-h6"},Yt={class:"row q-mt-md"},Qt={class:"col-12 col-md-8"},Gt={class:"text-h6"},Xt={class:"full-width row flex-center q-py-lg"},Jt=O("div",{class:"text-h6 text-grey-7"}," No se encontraron liquidaciones ",-1),Zt=O("div",{class:"full-width row flex-center q-py-lg"},[O("div",{class:"text-caption text-grey-7"}," Intenta modificar los filtros de b\xFAsqueda ")],-1),Kt=O("div",{class:"componentes-adicionales-tabla q-mt-md"},null,-1),eo={class:"text-h6"};function to(g,T,q,M,L,Q){return Ct(),Tt(zt,{padding:"",class:"liquidaciones-page bg-grey-1"},{default:C(()=>[O("div",Bt,[O("div",_t,[O("h4",jt,[S(ee,{name:"money",size:"sm",class:"q-mr-sm"}),Le(" Sistema de Liquidaciones ")]),Wt])]),O("div",Ut,[O("div",$t,[S(bt,{class:"filtros-card",flat:"",bordered:""},{default:C(()=>[S(Oe,{class:"bg-primary text-white"},{default:C(()=>[O("div",kt,[S(ee,{name:"filter_list",class:"q-mr-sm"}),Le(" Filtros ")])]),_:1}),S(Oe,null,{default:C(()=>[S(It,{modelValue:L.filterId,"onUpdate:modelValue":T[1]||(T[1]=b=>L.filterId=b),label:"ID de Cotizaci\xF3n",filled:"",dense:"",clearable:"",class:"q-mb-md",debounce:300,placeholder:"Buscar por ID..."},{prepend:C(()=>[S(ee,{name:"search"})]),append:C(()=>[L.filterId?(Ct(),Tt(ee,{key:0,name:"close",onClick:T[0]||(T[0]=b=>L.filterId=""),class:"cursor-pointer"})):Ft("",!0)]),_:1},8,["modelValue"]),S(Rt,{modelValue:L.filterStatus,"onUpdate:modelValue":T[2]||(T[2]=b=>L.filterStatus=b),options:L.statusOptions,label:"Estado",filled:"",dense:"",clearable:"","emit-value":"","map-options":"",class:"q-mb-md",placeholder:"Todos los estados"},{prepend:C(()=>[S(ee,{name:"label"})]),_:1},8,["modelValue","options"]),O("div",Yt,[S(ut,{color:"primary",label:"Aplicar Filtros",icon:"check",class:"q-mr-sm"})])]),_:1})]),_:1})]),O("div",Qt,[S(bt,{flat:"",bordered:""},{default:C(()=>[S(Oe,{class:"bg-primary text-white"},{default:C(()=>[O("div",Gt,[S(ee,{name:"list",class:"q-mr-sm"}),Le(" Lista de Liquidaciones ")])]),_:1}),S(Oe,null,{default:C(()=>[S(vt,{rows:Q.filteredRows,columns:L.columns,"row-key":"id",pagination:g.pagination,"onUpdate:pagination":T[3]||(T[3]=b=>g.pagination=b),loading:g.loading,filter:g.globalFilter,"binary-state-sort":"",flat:"",bordered:"",separator:"cell"},{"body-cell-tieneImpuestos":C(b=>[S(xt,{props:b},{default:C(()=>[Le(Dt(b.row.impuestosLiq==="1"?"S\xED":"No"),1)]),_:2},1032,["props"])]),"body-cell-status":C(b=>[S(xt,{props:b},{default:C(()=>[S(wt,{color:Q.chipColor(b.row.status),"text-color":"white"},{default:C(()=>[Le(Dt(b.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-acciones":C(b=>[S(xt,{props:b},{default:C(()=>[S(ut,{onClick:Qe=>Q.mostrarDialogoFactura(b.row),color:"primary",label:"Descargar Liquidacion"},null,8,["onClick"])]),_:2},1032,["props"])]),"no-data":C(()=>[O("div",Xt,[S(ee,{name:"search_off",size:"lg",color:"grey-7",class:"q-mb-md"}),Jt]),Zt]),_:1},8,["rows","columns","pagination","loading","filter"])]),_:1})]),_:1}),Kt])]),S(Mt,{modelValue:L.mostrarDialogo,"onUpdate:modelValue":T[5]||(T[5]=b=>L.mostrarDialogo=b),persistent:""},{default:C(()=>[S(bt,{style:{"min-width":"350px"}},{default:C(()=>[S(Oe,{class:"bg-primary text-white"},{default:C(()=>[O("div",eo,[S(ee,{name:"receipt",class:"q-mr-sm"}),Le(" Opciones de Facturaci\xF3n ")])]),_:1}),S(Oe,null,{default:C(()=>[S(It,{modelValue:L.nombreFactura,"onUpdate:modelValue":T[4]||(T[4]=b=>L.nombreFactura=b),label:"Nombre para la factura",filled:"",class:"q-mb-sm",ref:"nombreInput"},{prepend:C(()=>[S(ee,{name:"person"})]),_:1},8,["modelValue"])]),_:1}),S(Vt,{align:"right",class:"bg-grey-2 q-py-sm"},{default:C(()=>[qt(S(ut,{flat:"",label:"Cancelar",color:"negative",icon:"close"},null,512),[[yt]]),S(ut,{label:"Aceptar",color:"positive",onClick:Q.procesarDescarga,icon:"download",loading:g.descargando},null,8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var no=Ot(Ht,[["render",to]]);export{no as default};
