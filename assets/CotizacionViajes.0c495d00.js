import{a as L,aJ as Pe,aK as ho,aL as hl,c as Pa,aM as fl,D as Pt,E as At,aN as gl,r as N,aO as pl,w as aa,S as dt,d as w,aP as Ma,U as Aa,g as La,aQ as vl,af as ce,aR as fo,aS as go,aT as bl,aA as rt,aU as po,q as yl,s as Ga,n as vo,t as Vl,u as Ya,v as pt,z as kt,B as $a,C as Tt,A as et,aV as Cl,aW as Nl,aX as bo,aY as yo,aZ as Sl,a_ as El,j as qt,a6 as fa,y as Vo,N as Tl,a$ as Mt,b0 as xl,O as wl,b1 as zt,av as Pl,P as Al,b2 as ql,b3 as Dl,Q as _l,b4 as Ol,o as xt,b5 as Lt,b6 as Il,f as kl,b7 as Ml,as as Co,x as Ft,a4 as jt,a3 as zl,b8 as Ll,b9 as Fl,ba as jl,bb as Rl,bc as Hl,T as Ul,ad as Bl,ab as Yl,ac as vt,a0 as le,a1 as ja,a2 as D,ak as Wl,ax as bt,ao as ge,aj as d,aa as Ja,a5 as m,am as va,al as ha,M as ba,bd as yt,an as k,be as Ra,az as se,bf as la,a7 as Me,aD as _a,aE as Oa,a9 as Ha,bg as Rt,ay as Ql,aB as Ht,aG as Xl,aC as Gl}from"./index.18ac3d70.js";import{g as Ut,s as Bt,Q as Jl,a as Zl}from"./touch.bab87b68.js";import{a as Kl,Q as Yt}from"./QTabs.ddf88ec5.js";import{E as Wt,n as Ca}from"./PDFButton.598c8d62.js";import{a as ne}from"./axios.37d53be1.js";import"./QResizeObserver.8d91247c.js";function No(){let e=Object.create(null);return{getCache:(a,l)=>e[a]===void 0?e[a]=typeof l=="function"?l():l:e[a],setCache(a,l){e[a]=l},hasCache(a){return e.hasOwnProperty(a)},clearCache(a){a!==void 0?delete e[a]:e={}}}}const wa=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function $l(e,a,l){return Object.prototype.toString.call(e)==="[object Date]"&&(l=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),on(Dt(e,a,l))}function Qt(e,a,l){return Eo(tn(e,a,l))}function en(e){return an(e)===0}function ct(e,a){return a<=6?31:a<=11||en(e)?30:29}function an(e){const a=wa.length;let l=wa[0],t,n,s,o,u;if(e<l||e>=wa[a-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<a&&(t=wa[u],n=t-l,!(e<t));u+=1)l=t;return o=e-l,n-o<6&&(o=o-n+Oe(n+4,33)*33),s=na(na(o+1,33)-1,4),s===-1&&(s=4),s}function So(e,a){const l=wa.length,t=e+621;let n=-14,s=wa[0],o,u,h,T,p;if(e<s||e>=wa[l-1])throw new Error("Invalid Jalaali year "+e);for(p=1;p<l&&(o=wa[p],u=o-s,!(e<o));p+=1)n=n+Oe(u,33)*8+Oe(na(u,33),4),s=o;T=e-s,n=n+Oe(T,33)*8+Oe(na(T,33)+3,4),na(u,33)===4&&u-T===4&&(n+=1);const x=Oe(t,4)-Oe((Oe(t,100)+1)*3,4)-150,F=20+n-x;return a||(u-T<6&&(T=T-u+Oe(u+4,33)*33),h=na(na(T+1,33)-1,4),h===-1&&(h=4)),{leap:h,gy:t,march:F}}function tn(e,a,l){const t=So(e,!0);return Dt(t.gy,3,t.march)+(a-1)*31-Oe(a,7)*(a-7)+l-1}function on(e){const a=Eo(e).gy;let l=a-621,t,n,s;const o=So(l,!1),u=Dt(a,3,o.march);if(s=e-u,s>=0){if(s<=185)return n=1+Oe(s,31),t=na(s,31)+1,{jy:l,jm:n,jd:t};s-=186}else l-=1,s+=179,o.leap===1&&(s+=1);return n=7+Oe(s,30),t=na(s,30)+1,{jy:l,jm:n,jd:t}}function Dt(e,a,l){let t=Oe((e+Oe(a-8,6)+100100)*1461,4)+Oe(153*na(a+9,12)+2,5)+l-34840408;return t=t-Oe(Oe(e+100100+Oe(a-8,6),100)*3,4)+752,t}function Eo(e){let a=4*e+139361631;a=a+Oe(Oe(4*e+183187720,146097)*3,4)*4-3908;const l=Oe(na(a,1461),4)*5+308,t=Oe(na(l,153),5)+1,n=na(Oe(l,153),12)+1;return{gy:Oe(a,1461)-100100+Oe(8-n,6),gm:n,gd:t}}function Oe(e,a){return~~(e/a)}function na(e,a){return e-~~(e/a)*a}const ln=["gregorian","persian"],nn={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>ln.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},sn=["update:modelValue"];function Na(e){return e.year+"/"+Pe(e.month)+"/"+Pe(e.day)}function rn(e,a){const l=L(()=>e.disable!==!0&&e.readonly!==!0),t=L(()=>l.value===!0?0:-1),n=L(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function s(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function o(u){const h=new Date,T=u===!0?null:0;if(e.calendar==="persian"){const p=$l(h);return{year:p.jy,month:p.jm,day:p.jd}}return{year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:l,tabindex:t,headerClass:n,getLocale:s,getCurrentDate:o}}const To=864e5,cn=36e5,wt=6e4,xo="YYYY-MM-DDTHH:mm:ss.SSSZ",dn=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,un=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Vt={};function mn(e,a){const l="("+a.days.join("|")+")",t=e+l;if(Vt[t]!==void 0)return Vt[t];const n="("+a.daysShort.join("|")+")",s="("+a.months.join("|")+")",o="("+a.monthsShort.join("|")+")",u={};let h=0;const T=e.replace(un,x=>{switch(h++,x){case"YY":return u.YY=h,"(-?\\d{1,2})";case"YYYY":return u.YYYY=h,"(-?\\d{1,4})";case"M":return u.M=h,"(\\d{1,2})";case"MM":return u.M=h,"(\\d{2})";case"MMM":return u.MMM=h,o;case"MMMM":return u.MMMM=h,s;case"D":return u.D=h,"(\\d{1,2})";case"Do":return u.D=h++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=h,"(\\d{2})";case"H":return u.H=h,"(\\d{1,2})";case"HH":return u.H=h,"(\\d{2})";case"h":return u.h=h,"(\\d{1,2})";case"hh":return u.h=h,"(\\d{2})";case"m":return u.m=h,"(\\d{1,2})";case"mm":return u.m=h,"(\\d{2})";case"s":return u.s=h,"(\\d{1,2})";case"ss":return u.s=h,"(\\d{2})";case"S":return u.S=h,"(\\d{1})";case"SS":return u.S=h,"(\\d{2})";case"SSS":return u.S=h,"(\\d{3})";case"A":return u.A=h,"(AM|PM)";case"a":return u.a=h,"(am|pm)";case"aa":return u.aa=h,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return l;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return u.Z=h,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=h,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=h,"(-?\\d+)";case"x":return u.x=h,"(-?\\d{4,})";default:return h--,x[0]==="["&&(x=x.substring(1,x.length-1)),x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),p={map:u,regex:new RegExp("^"+T)};return Vt[t]=p,p}function wo(e,a){return e!==void 0?e:a!==void 0?a.date:hl.date}function Xt(e,a=""){const l=e>0?"-":"+",t=Math.abs(e),n=Math.floor(t/60),s=t%60;return l+Pe(n)+a+Pe(s)}function hn(e,a,l,t,n){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(s,n),e==null||e===""||typeof e!="string")return s;a===void 0&&(a=xo);const o=wo(l,ho.props),u=o.months,h=o.monthsShort,{regex:T,map:p}=mn(a,o),x=e.match(T);if(x===null)return s;let F="";if(p.X!==void 0||p.x!==void 0){const _=parseInt(x[p.X!==void 0?p.X:p.x],10);if(isNaN(_)===!0||_<0)return s;const v=new Date(_*(p.X!==void 0?1e3:1));s.year=v.getFullYear(),s.month=v.getMonth()+1,s.day=v.getDate(),s.hour=v.getHours(),s.minute=v.getMinutes(),s.second=v.getSeconds(),s.millisecond=v.getMilliseconds()}else{if(p.YYYY!==void 0)s.year=parseInt(x[p.YYYY],10);else if(p.YY!==void 0){const _=parseInt(x[p.YY],10);s.year=_<0?_:2e3+_}if(p.M!==void 0){if(s.month=parseInt(x[p.M],10),s.month<1||s.month>12)return s}else p.MMM!==void 0?s.month=h.indexOf(x[p.MMM])+1:p.MMMM!==void 0&&(s.month=u.indexOf(x[p.MMMM])+1);if(p.D!==void 0){if(s.day=parseInt(x[p.D],10),s.year===null||s.month===null||s.day<1)return s;const _=t!=="persian"?new Date(s.year,s.month,0).getDate():ct(s.year,s.month);if(s.day>_)return s}p.H!==void 0?s.hour=parseInt(x[p.H],10)%24:p.h!==void 0&&(s.hour=parseInt(x[p.h],10)%12,(p.A&&x[p.A]==="PM"||p.a&&x[p.a]==="pm"||p.aa&&x[p.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),p.m!==void 0&&(s.minute=parseInt(x[p.m],10)%60),p.s!==void 0&&(s.second=parseInt(x[p.s],10)%60),p.S!==void 0&&(s.millisecond=parseInt(x[p.S],10)*10**(3-x[p.S].length)),(p.Z!==void 0||p.ZZ!==void 0)&&(F=p.Z!==void 0?x[p.Z].replace(":",""):x[p.ZZ],s.timezoneOffset=(F[0]==="+"?-1:1)*(60*F.slice(1,3)+1*F.slice(3,5)))}return s.dateHash=Pe(s.year,6)+"/"+Pe(s.month)+"/"+Pe(s.day),s.timeHash=Pe(s.hour)+":"+Pe(s.minute)+":"+Pe(s.second)+F,s}function Gt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const l=new Date(a.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const t=a.getTimezoneOffset()-l.getTimezoneOffset();a.setHours(a.getHours()-t);const n=(a-l)/(To*7);return 1+Math.floor(n)}function ya(e,a,l){const t=new Date(e),n=`set${l===!0?"UTC":""}`;switch(a){case"year":case"years":t[`${n}Month`](0);case"month":case"months":t[`${n}Date`](1);case"day":case"days":case"date":t[`${n}Hours`](0);case"hour":case"hours":t[`${n}Minutes`](0);case"minute":case"minutes":t[`${n}Seconds`](0);case"second":case"seconds":t[`${n}Milliseconds`](0)}return t}function it(e,a,l){return(e.getTime()-e.getTimezoneOffset()*wt-(a.getTime()-a.getTimezoneOffset()*wt))/l}function Po(e,a,l="days"){const t=new Date(e),n=new Date(a);switch(l){case"years":case"year":return t.getFullYear()-n.getFullYear();case"months":case"month":return(t.getFullYear()-n.getFullYear())*12+t.getMonth()-n.getMonth();case"days":case"day":case"date":return it(ya(t,"day"),ya(n,"day"),To);case"hours":case"hour":return it(ya(t,"hour"),ya(n,"hour"),cn);case"minutes":case"minute":return it(ya(t,"minute"),ya(n,"minute"),wt);case"seconds":case"second":return it(ya(t,"second"),ya(n,"second"),1e3)}}function Jt(e){return Po(e,ya(e,"year"),"days")+1}function Zt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Kt={YY(e,a,l){const t=this.YYYY(e,a,l)%100;return t>=0?Pe(t):"-"+Pe(Math.abs(t))},YYYY(e,a,l){return l!=null?l:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Pe(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Zt(this.Q(e))},D(e){return e.getDate()},Do(e){return Zt(e.getDate())},DD(e){return Pe(e.getDate())},DDD(e){return Jt(e)},DDDD(e){return Pe(Jt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Gt(e)},ww(e){return Pe(Gt(e))},H(e){return e.getHours()},HH(e){return Pe(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Pe(this.h(e))},m(e){return e.getMinutes()},mm(e){return Pe(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Pe(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Pe(Math.floor(e.getMilliseconds()/10))},SSS(e){return Pe(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,l,t){const n=t==null?e.getTimezoneOffset():t;return Xt(n,":")},ZZ(e,a,l,t){const n=t==null?e.getTimezoneOffset():t;return Xt(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function fn(e,a,l,t,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;a===void 0&&(a=xo);const o=wo(l,ho.props);return a.replace(dn,(u,h)=>u in Kt?Kt[u](s,o,t,n):h===void 0?u:h.split("\\]").join("]"))}const Ia=20,gn=["Calendar","Years","Months"],$t=e=>gn.includes(e),Ct=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ua=" \u2014 ";function Sa(e){return e.year+"/"+Pe(e.month)}var Ea=Pa({name:"QDate",props:{...nn,...fl,...Pt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Ct},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Ct},navigationMaxYearMonth:{type:String,validator:Ct},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:$t}},emits:[...sn,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:l}){const{proxy:t}=La(),{$q:n}=t,s=At(e,n),{getCache:o}=No(),{tabindex:u,headerClass:h,getLocale:T,getCurrentDate:p}=rn(e,n);let x;const F=gl(e),_=vl(F),v=N(null),g=N(B()),f=N(T()),C=L(()=>B()),X=L(()=>T()),K=L(()=>p()),S=N(M(g.value,f.value)),j=N(e.defaultView),Ee=n.lang.rtl===!0?"right":"left",ee=N(Ee.value),ie=N(Ee.value),Ve=S.value.year,Se=N(Ve-Ve%Ia-(Ve<0?Ia:0)),ae=N(null),de=L(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(s.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),A=L(()=>e.color||"primary"),U=L(()=>e.textColor||"white"),pe=L(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Te=L(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),O=L(()=>Te.value.filter(r=>typeof r=="string").map(r=>_e(r,g.value,f.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),we=L(()=>{const r=i=>_e(i,g.value,f.value);return Te.value.filter(i=>pl(i)===!0&&i.from!==void 0&&i.to!==void 0).map(i=>({from:r(i.from),to:r(i.to)})).filter(i=>i.from.dateHash!==null&&i.to.dateHash!==null&&i.from.dateHash<i.to.dateHash)}),Ae=L(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const i=Qt(r.year,r.month,r.day);return new Date(i.gy,i.gm-1,i.gd)}),P=L(()=>e.calendar==="persian"?Na:(r,i,c)=>fn(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),i===void 0?g.value:i,c===void 0?f.value:c,r.year,r.timezoneOffset)),he=L(()=>O.value.length+we.value.reduce((r,i)=>r+1+Po(Ae.value(i.to),Ae.value(i.from)),0)),W=L(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(ae.value!==null){const c=ae.value.init,b=Ae.value(c);return f.value.daysShort[b.getDay()]+", "+f.value.monthsShort[c.month-1]+" "+c.day+Ua+"?"}if(he.value===0)return Ua;if(he.value>1)return`${he.value} ${f.value.pluralDay}`;const r=O.value[0],i=Ae.value(r);return isNaN(i.valueOf())===!0?Ua:f.value.headerTitle!==void 0?f.value.headerTitle(i,r):f.value.daysShort[i.getDay()]+", "+f.value.monthsShort[r.month-1]+" "+r.day}),ue=L(()=>O.value.concat(we.value.map(i=>i.from)).sort((i,c)=>i.year-c.year||i.month-c.month)[0]),ze=L(()=>O.value.concat(we.value.map(i=>i.to)).sort((i,c)=>c.year-i.year||c.month-i.month)[0]),I=L(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(he.value===0)return Ua;if(he.value>1){const r=ue.value,i=ze.value,c=f.value.monthsShort;return c[r.month-1]+(r.year!==i.year?" "+r.year+Ua+c[i.month-1]+" ":r.month!==i.month?Ua+c[i.month-1]:"")+" "+i.year}return O.value[0].year}),y=L(()=>{const r=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?r.reverse():r}),E=L(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):f.value.firstDayOfWeek),G=L(()=>{const r=f.value.daysShort,i=E.value;return i>0?r.slice(i,7).concat(r.slice(0,i)):r}),Q=L(()=>{const r=S.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():ct(r.year,r.month)}),Z=L(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),fe=L(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),Ce=L(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),Be=L(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return fe.value!==null&&fe.value.year>=S.value.year&&(r.year.prev=!1,fe.value.year===S.value.year&&fe.value.month>=S.value.month&&(r.month.prev=!1)),Ce.value!==null&&Ce.value.year<=S.value.year&&(r.year.next=!1,Ce.value.year===S.value.year&&Ce.value.month<=S.value.month&&(r.month.next=!1)),r}),Le=L(()=>{const r={};return O.value.forEach(i=>{const c=Sa(i);r[c]===void 0&&(r[c]=[]),r[c].push(i.day)}),r}),Fe=L(()=>{const r={};return we.value.forEach(i=>{const c=Sa(i.from),b=Sa(i.to);if(r[c]===void 0&&(r[c]=[]),r[c].push({from:i.from.day,to:c===b?i.to.day:void 0,range:i}),c<b){let V;const{year:H,month:q}=i.from,Y=q<12?{year:H,month:q+1}:{year:H+1,month:1};for(;(V=Sa(Y))<=b;)r[V]===void 0&&(r[V]=[]),r[V].push({from:void 0,to:V===b?i.to.day:void 0,range:i}),Y.month++,Y.month>12&&(Y.year++,Y.month=1)}}),r}),je=L(()=>{if(ae.value===null)return;const{init:r,initHash:i,final:c,finalHash:b}=ae.value,[V,H]=i<=b?[r,c]:[c,r],q=Sa(V),Y=Sa(H);if(q!==qe.value&&Y!==qe.value)return;const $={};return q===qe.value?($.from=V.day,$.includeFrom=!0):$.from=1,Y===qe.value?($.to=H.day,$.includeTo=!0):$.to=Q.value,$}),qe=L(()=>Sa(S.value)),Ye=L(()=>{const r={};if(e.options===void 0){for(let c=1;c<=Q.value;c++)r[c]=!0;return r}const i=typeof e.options=="function"?e.options:c=>e.options.includes(c);for(let c=1;c<=Q.value;c++){const b=qe.value+"/"+Pe(c);r[c]=i(b)}return r}),We=L(()=>{const r={};if(e.events===void 0)for(let i=1;i<=Q.value;i++)r[i]=!1;else{const i=typeof e.events=="function"?e.events:c=>e.events.includes(c);for(let c=1;c<=Q.value;c++){const b=qe.value+"/"+Pe(c);r[c]=i(b)===!0&&Z.value(b)}}return r}),De=L(()=>{let r,i;const{year:c,month:b}=S.value;if(e.calendar!=="persian")r=new Date(c,b-1,1),i=new Date(c,b-1,0).getDate();else{const V=Qt(c,b,1);r=new Date(V.gy,V.gm-1,V.gd);let H=b-1,q=c;H===0&&(H=12,q--),i=ct(q,H)}return{days:r.getDay()-E.value-1,endDay:i}}),Re=L(()=>{const r=[],{days:i,endDay:c}=De.value,b=i<0?i+7:i;if(b<6)for(let q=c-b;q<=c;q++)r.push({i:q,fill:!0});const V=r.length;for(let q=1;q<=Q.value;q++){const Y={i:q,event:We.value[q],classes:[]};Ye.value[q]===!0&&(Y.in=!0,Y.flat=!0),r.push(Y)}if(Le.value[qe.value]!==void 0&&Le.value[qe.value].forEach(q=>{const Y=V+q-1;Object.assign(r[Y],{selected:!0,unelevated:!0,flat:!1,color:A.value,textColor:U.value})}),Fe.value[qe.value]!==void 0&&Fe.value[qe.value].forEach(q=>{if(q.from!==void 0){const Y=V+q.from-1,$=V+(q.to||Q.value)-1;for(let ke=Y;ke<=$;ke++)Object.assign(r[ke],{range:q.range,unelevated:!0,color:A.value,textColor:U.value});Object.assign(r[Y],{rangeFrom:!0,flat:!1}),q.to!==void 0&&Object.assign(r[$],{rangeTo:!0,flat:!1})}else if(q.to!==void 0){const Y=V+q.to-1;for(let $=V;$<=Y;$++)Object.assign(r[$],{range:q.range,unelevated:!0,color:A.value,textColor:U.value});Object.assign(r[Y],{flat:!1,rangeTo:!0})}else{const Y=V+Q.value-1;for(let $=V;$<=Y;$++)Object.assign(r[$],{range:q.range,unelevated:!0,color:A.value,textColor:U.value})}}),je.value!==void 0){const q=V+je.value.from-1,Y=V+je.value.to-1;for(let $=q;$<=Y;$++)r[$].color=A.value,r[$].editRange=!0;je.value.includeFrom===!0&&(r[q].editRangeFrom=!0),je.value.includeTo===!0&&(r[Y].editRangeTo=!0)}S.value.year===K.value.year&&S.value.month===K.value.month&&(r[V+K.value.day-1].today=!0);const H=r.length%7;if(H>0){const q=7-H;for(let Y=1;Y<=q;Y++)r.push({i:Y,fill:!0})}return r.forEach(q=>{let Y="q-date__calendar-item ";q.fill===!0?Y+="q-date__calendar-item--fill":(Y+=`q-date__calendar-item--${q.in===!0?"in":"out"}`,q.range!==void 0&&(Y+=` q-date__range${q.rangeTo===!0?"-to":q.rangeFrom===!0?"-from":""}`),q.editRange===!0&&(Y+=` q-date__edit-range${q.editRangeFrom===!0?"-from":""}${q.editRangeTo===!0?"-to":""}`),(q.range!==void 0||q.editRange===!0)&&(Y+=` text-${q.color}`)),q.classes=Y}),r}),Ze=L(()=>e.disable===!0?{"aria-disabled":"true"}:{});aa(()=>e.modelValue,r=>{if(x===r)x=0;else{const i=M(g.value,f.value);Ne(i.year,i.month,i)}}),aa(j,()=>{v.value!==null&&t.$el.contains(document.activeElement)===!0&&v.value.focus()}),aa(()=>S.value.year+"|"+S.value.month,()=>{l("navigation",{year:S.value.year,month:S.value.month})}),aa(C,r=>{Je(r,f.value,"mask"),g.value=r}),aa(X,r=>{Je(g.value,r,"locale"),f.value=r});function Xe(){const{year:r,month:i,day:c}=K.value,b={...S.value,year:r,month:i,day:c},V=Le.value[Sa(b)];(V===void 0||V.includes(b.day)===!1)&&da(b),re(b.year,b.month)}function te(r){$t(r)===!0&&(j.value=r)}function ve(r,i){["month","year"].includes(r)&&(r==="month"?ca:oe)(i===!0?-1:1)}function re(r,i){j.value="Calendar",Ne(r,i)}function J(r,i){if(e.range===!1||!r){ae.value=null;return}const c=Object.assign({...S.value},r),b=i!==void 0?Object.assign({...S.value},i):c;ae.value={init:c,initHash:Na(c),final:b,finalHash:Na(b)},re(c.year,c.month)}function B(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function _e(r,i,c){return hn(r,i,c,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function M(r,i){const c=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(c.length===0)return R();const b=c[c.length-1],V=_e(b.from!==void 0?b.from:b,r,i);return V.dateHash===null?R():V}function R(){let r,i;if(e.defaultYearMonth!==void 0){const c=e.defaultYearMonth.split("/");r=parseInt(c[0],10),i=parseInt(c[1],10)}else{const c=K.value!==void 0?K.value:p();r=c.year,i=c.month}return{year:r,month:i,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+Pe(i)+"/01"}}function ca(r){let i=S.value.year,c=Number(S.value.month)+r;c===13?(c=1,i++):c===0&&(c=12,i--),Ne(i,c),pe.value===!0&&Ie("month")}function oe(r){const i=Number(S.value.year)+r;Ne(i,S.value.month),pe.value===!0&&Ie("year")}function He(r){Ne(r,S.value.month),j.value=e.defaultView==="Years"?"Months":"Calendar",pe.value===!0&&Ie("year")}function me(r){Ne(S.value.year,r),j.value="Calendar",pe.value===!0&&Ie("month")}function be(r,i){const c=Le.value[i];(c!==void 0&&c.includes(r.day)===!0?ta:da)(r)}function ye(r){return{year:r.year,month:r.month,day:r.day}}function Ne(r,i,c){if(fe.value!==null&&r<=fe.value.year&&((i<fe.value.month||r<fe.value.year)&&(i=fe.value.month),r=fe.value.year),Ce.value!==null&&r>=Ce.value.year&&((i>Ce.value.month||r>Ce.value.year)&&(i=Ce.value.month),r=Ce.value.year),c!==void 0){const{hour:V,minute:H,second:q,millisecond:Y,timezoneOffset:$,timeHash:ke}=c;Object.assign(S.value,{hour:V,minute:H,second:q,millisecond:Y,timezoneOffset:$,timeHash:ke})}const b=r+"/"+Pe(i)+"/01";b!==S.value.dateHash&&(ee.value=S.value.dateHash<b==(n.lang.rtl!==!0)?"left":"right",r!==S.value.year&&(ie.value=ee.value),dt(()=>{Se.value=r-r%Ia-(r<0?Ia:0),Object.assign(S.value,{year:r,month:i,day:1,dateHash:b})}))}function Ge(r,i,c){const b=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;x=b;const{reason:V,details:H}=Ue(i,c);l("update:modelValue",b,V,H)}function Ie(r){const i=O.value[0]!==void 0&&O.value[0].dateHash!==null?{...O.value[0]}:{...S.value};dt(()=>{i.year=S.value.year,i.month=S.value.month;const c=e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():ct(i.year,i.month);i.day=Math.min(Math.max(1,i.day),c);const b=Ke(i);x=b;const{details:V}=Ue("",i);l("update:modelValue",b,r,V)})}function Ue(r,i){return i.from!==void 0?{reason:`${r}-range`,details:{...ye(i.target),from:ye(i.from),to:ye(i.to)}}:{reason:`${r}-day`,details:ye(i)}}function Ke(r,i,c){return r.from!==void 0?{from:P.value(r.from,i,c),to:P.value(r.to,i,c)}:P.value(r,i,c)}function da(r){let i;if(e.multiple===!0)if(r.from!==void 0){const c=Na(r.from),b=Na(r.to),V=O.value.filter(q=>q.dateHash<c||q.dateHash>b),H=we.value.filter(({from:q,to:Y})=>Y.dateHash<c||q.dateHash>b);i=V.concat(H).concat(r).map(q=>Ke(q))}else{const c=Te.value.slice();c.push(Ke(r)),i=c}else i=Ke(r);Ge(i,"add",r)}function ta(r){if(e.noUnset===!0)return;let i=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const c=Ke(r);r.from!==void 0?i=e.modelValue.filter(b=>b.from!==void 0?b.from!==c.from&&b.to!==c.to:!0):i=e.modelValue.filter(b=>b!==c),i.length===0&&(i=null)}Ge(i,"remove",r)}function Je(r,i,c){const b=O.value.concat(we.value).map(V=>Ke(V,r,i)).filter(V=>V.from!==void 0?V.from.dateHash!==null&&V.to.dateHash!==null:V.dateHash!==null);l("update:modelValue",(e.multiple===!0?b:b[0])||null,c)}function oa(){if(e.minimal!==!0)return w("div",{class:"q-date__header "+h.value},[w("div",{class:"relative-position"},[w(Ma,{name:"q-transition--fade"},()=>w("div",{key:"h-yr-"+I.value,class:"q-date__header-subtitle q-date__header-link "+(j.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...o("vY",{onClick(){j.value="Years"},onKeyup(r){r.keyCode===13&&(j.value="Years")}})},[I.value]))]),w("div",{class:"q-date__header-title relative-position flex no-wrap"},[w("div",{class:"relative-position col"},[w(Ma,{name:"q-transition--fade"},()=>w("div",{key:"h-sub"+W.value,class:"q-date__header-title-label q-date__header-link "+(j.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...o("vC",{onClick(){j.value="Calendar"},onKeyup(r){r.keyCode===13&&(j.value="Calendar")}})},[W.value]))]),e.todayBtn===!0?w(ce,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Xe}):null])])}function $e({label:r,type:i,key:c,dir:b,goTo:V,boundaries:H,cls:q}){return[w("div",{class:"row items-center q-date__arrow"},[w(ce,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[0],tabindex:u.value,disable:H.prev===!1,...o("go-#"+i,{onClick(){V(-1)}})})]),w("div",{class:"relative-position overflow-hidden flex flex-center"+q},[w(Ma,{name:"q-transition--jump-"+b},()=>w("div",{key:c},[w(ce,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:u.value,...o("view#"+i,{onClick:()=>{j.value=i}})})]))]),w("div",{class:"row items-center q-date__arrow"},[w(ce,{round:!0,dense:!0,size:"sm",flat:!0,icon:y.value[1],tabindex:u.value,disable:H.next===!1,...o("go+#"+i,{onClick(){V(1)}})})])]}const sa={Calendar:()=>[w("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[w("div",{class:"q-date__navigation row items-center no-wrap"},$e({label:f.value.months[S.value.month-1],type:"Months",key:S.value.month,dir:ee.value,goTo:ca,boundaries:Be.value.month,cls:" col"}).concat($e({label:S.value.year,type:"Years",key:S.value.year,dir:ie.value,goTo:oe,boundaries:Be.value.year,cls:""}))),w("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},G.value.map(r=>w("div",{class:"q-date__calendar-item"},[w("div",r)]))),w("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[w(Ma,{name:"q-transition--slide-"+ee.value},()=>w("div",{key:qe.value,class:"q-date__calendar-days fit"},Re.value.map(r=>w("div",{class:r.classes},[r.in===!0?w(ce,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:u.value,...o("day#"+r.i,{onClick:()=>{ma(r.i)},onMouseover:()=>{ga(r.i)}})},r.event!==!1?()=>w("div",{class:"q-date__event bg-"+r.event}):null):w("div",""+r.i)]))))])])],Months(){const r=S.value.year===K.value.year,i=b=>fe.value!==null&&S.value.year===fe.value.year&&fe.value.month>b||Ce.value!==null&&S.value.year===Ce.value.year&&Ce.value.month<b,c=f.value.monthsShort.map((b,V)=>{const H=S.value.month===V+1;return w("div",{class:"q-date__months-item flex flex-center"},[w(ce,{class:r===!0&&K.value.month===V+1?"q-date__today":null,flat:H!==!0,label:b,unelevated:H,color:H===!0?A.value:null,textColor:H===!0?U.value:null,tabindex:u.value,disable:i(V+1),...o("month#"+V,{onClick:()=>{me(V+1)}})})])});return e.yearsInMonthView===!0&&c.unshift(w("div",{class:"row no-wrap full-width"},[$e({label:S.value.year,type:"Years",key:S.value.year,dir:ie.value,goTo:oe,boundaries:Be.value.year,cls:" col"})])),w("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},c)},Years(){const r=Se.value,i=r+Ia,c=[],b=V=>fe.value!==null&&fe.value.year>V||Ce.value!==null&&Ce.value.year<V;for(let V=r;V<=i;V++){const H=S.value.year===V;c.push(w("div",{class:"q-date__years-item flex flex-center"},[w(ce,{key:"yr"+V,class:K.value.year===V?"q-date__today":null,flat:!H,label:V,dense:!0,unelevated:H,color:H===!0?A.value:null,textColor:H===!0?U.value:null,tabindex:u.value,disable:b(V),...o("yr#"+V,{onClick:()=>{He(V)}})})]))}return w("div",{class:"q-date__view q-date__years flex flex-center"},[w("div",{class:"col-auto"},[w(ce,{round:!0,dense:!0,flat:!0,icon:y.value[0],tabindex:u.value,disable:b(r),...o("y-",{onClick:()=>{Se.value-=Ia}})})]),w("div",{class:"q-date__years-content col self-stretch row items-center"},c),w("div",{class:"col-auto"},[w(ce,{round:!0,dense:!0,flat:!0,icon:y.value[1],tabindex:u.value,disable:b(i),...o("y+",{onClick:()=>{Se.value+=Ia}})})])])}};function ma(r){const i={...S.value,day:r};if(e.range===!1){be(i,qe.value);return}if(ae.value===null){const c=Re.value.find(V=>V.fill!==!0&&V.i===r);if(e.noUnset!==!0&&c.range!==void 0){ta({target:i,from:c.range.from,to:c.range.to});return}if(c.selected===!0){ta(i);return}const b=Na(i);ae.value={init:i,initHash:b,final:i,finalHash:b},l("rangeStart",ye(i))}else{const c=ae.value.initHash,b=Na(i),V=c<=b?{from:ae.value.init,to:i}:{from:i,to:ae.value.init};ae.value=null,da(c===b?i:{target:i,...V}),l("rangeEnd",{from:ye(V.from),to:ye(V.to)})}}function ga(r){if(ae.value!==null){const i={...S.value,day:r};Object.assign(ae.value,{final:i,finalHash:Na(i)})}}return Object.assign(t,{setToday:Xe,setView:te,offsetCalendar:ve,setCalendarTo:re,setEditingRange:J}),()=>{const r=[w("div",{class:"q-date__content col relative-position"},[w(Ma,{name:"q-transition--fade"},sa[j.value])])],i=Aa(a.default);return i!==void 0&&r.push(w("div",{class:"q-date__actions"},i)),e.name!==void 0&&e.disable!==!0&&_(r,"push"),w("div",{class:de.value,...Ze.value},[oa(),w("div",{ref:v,class:"q-date__main col column",tabindex:-1},r)])}}}),Ta=Pa({name:"QPopupProxy",props:{...fo,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:l,attrs:t}){const{proxy:n}=La(),{$q:s}=n,o=N(!1),u=N(null),h=L(()=>parseInt(e.breakpoint,10)),{canShow:T}=go({showing:o});function p(){return s.screen.width<h.value||s.screen.height<h.value?"dialog":"menu"}const x=N(p()),F=L(()=>x.value==="menu"?{maxHeight:"99vh"}:{});aa(()=>p(),g=>{o.value!==!0&&(x.value=g)});function _(g){o.value=!0,l("show",g)}function v(g){o.value=!1,x.value=p(),l("hide",g)}return Object.assign(n,{show(g){T(g)===!0&&u.value.show(g)},hide(g){u.value.hide(g)},toggle(g){u.value.toggle(g)}}),bl(n,"currentComponent",()=>({type:x.value,ref:u.value})),()=>{const g={ref:u,...F.value,...t,onShow:_,onHide:v};let f;return x.value==="dialog"?f=rt:(f=po,Object.assign(g,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),w(f,g,a.default)}}});function pn(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((l,t)=>{const n=parseFloat(l);n&&(a[t]=n)}),a}var vn=yl({name:"touch-swipe",beforeMount(e,{value:a,arg:l,modifiers:t}){if(t.mouse!==!0&&Ga.has.touch!==!0)return;const n=t.mouseCapture===!0?"Capture":"",s={handler:a,sensitivity:pn(l),direction:Ut(t),noop:vo,mouseStart(o){Bt(o,s)&&Vl(o)&&(Ya(s,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(o,!0))},touchStart(o){if(Bt(o,s)){const u=o.target;Ya(s,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),s.start(o)}},start(o,u){Ga.is.firefox===!0&&pt(e,!0);const h=kt(o);s.event={x:h.left,y:h.top,time:Date.now(),mouse:u===!0,dir:!1}},move(o){if(s.event===void 0)return;if(s.event.dir!==!1){$a(o);return}const u=Date.now()-s.event.time;if(u===0)return;const h=kt(o),T=h.left-s.event.x,p=Math.abs(T),x=h.top-s.event.y,F=Math.abs(x);if(s.event.mouse!==!0){if(p<s.sensitivity[1]&&F<s.sensitivity[1]){s.end(o);return}}else if(window.getSelection().toString()!==""){s.end(o);return}else if(p<s.sensitivity[2]&&F<s.sensitivity[2])return;const _=p/u,v=F/u;s.direction.vertical===!0&&p<F&&p<100&&v>s.sensitivity[0]&&(s.event.dir=x<0?"up":"down"),s.direction.horizontal===!0&&p>F&&F<100&&_>s.sensitivity[0]&&(s.event.dir=T<0?"left":"right"),s.direction.up===!0&&p<F&&x<0&&p<100&&v>s.sensitivity[0]&&(s.event.dir="up"),s.direction.down===!0&&p<F&&x>0&&p<100&&v>s.sensitivity[0]&&(s.event.dir="down"),s.direction.left===!0&&p>F&&T<0&&F<100&&_>s.sensitivity[0]&&(s.event.dir="left"),s.direction.right===!0&&p>F&&T>0&&F<100&&_>s.sensitivity[0]&&(s.event.dir="right"),s.event.dir!==!1?($a(o),s.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Tt(),s.styleCleanup=g=>{s.styleCleanup=void 0,document.body.classList.remove("non-selectable");const f=()=>{document.body.classList.remove("no-pointer-events--children")};g===!0?setTimeout(f,50):f()}),s.handler({evt:o,touch:s.event.mouse!==!0,mouse:s.event.mouse,direction:s.event.dir,duration:u,distance:{x:p,y:F}})):s.end(o)},end(o){s.event!==void 0&&(et(s,"temp"),Ga.is.firefox===!0&&pt(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(!0),o!==void 0&&s.event.dir!==!1&&$a(o),s.event=void 0)}};if(e.__qtouchswipe=s,t.mouse===!0){const o=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";Ya(s,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}Ga.has.touch===!0&&Ya(s,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const l=e.__qtouchswipe;l!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&l.end(),l.handler=a.value),l.direction=Ut(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(et(a,"main"),et(a,"temp"),Ga.is.firefox===!0&&pt(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});const bn={name:{required:!0},disable:Boolean},eo={setup(e,{slots:a}){return()=>w("div",{class:"q-panel scroll",role:"tabpanel"},Aa(a.default))}},yn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Vn=["update:modelValue","beforeTransition","transition"];function Cn(){const{props:e,emit:a,proxy:l}=La(),{getCache:t}=No();let n,s;const o=N(null),u=N(null);function h(A){const U=e.vertical===!0?"up":"left";ee((l.$q.lang.rtl===!0?-1:1)*(A.direction===U?1:-1))}const T=L(()=>[[vn,h,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=L(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),x=L(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),F=L(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=L(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),v=L(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),g=L(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);aa(()=>e.modelValue,(A,U)=>{const pe=K(A)===!0?S(A):-1;s!==!0&&Ee(pe===-1?0:pe<S(U)?-1:1),o.value!==pe&&(o.value=pe,a("beforeTransition",A,U),dt(()=>{a("transition",A,U)}))});function f(){ee(1)}function C(){ee(-1)}function X(A){a("update:modelValue",A)}function K(A){return A!=null&&A!==""}function S(A){return n.findIndex(U=>U.props.name===A&&U.props.disable!==""&&U.props.disable!==!0)}function j(){return n.filter(A=>A.props.disable!==""&&A.props.disable!==!0)}function Ee(A){const U=A!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(A===-1?p.value:x.value):null;u.value!==U&&(u.value=U)}function ee(A,U=o.value){let pe=U+A;for(;pe!==-1&&pe<n.length;){const Te=n[pe];if(Te!==void 0&&Te.props.disable!==""&&Te.props.disable!==!0){Ee(A),s=!0,a("update:modelValue",Te.props.name),setTimeout(()=>{s=!1});return}pe+=A}e.infinite===!0&&n.length!==0&&U!==-1&&U!==n.length&&ee(A,A===-1?n.length:-1)}function ie(){const A=S(e.modelValue);return o.value!==A&&(o.value=A),!0}function Ve(){const A=K(e.modelValue)===!0&&ie()&&n[o.value];return e.keepAlive===!0?[w(Nl,v.value,[w(g.value===!0?t(_.value,()=>({...eo,name:_.value})):eo,{key:_.value,style:F.value},()=>A)])]:[w("div",{class:"q-panel scroll",style:F.value,key:_.value,role:"tabpanel"},[A])]}function Se(){if(n.length!==0)return e.animated===!0?[w(Ma,{name:u.value},Ve)]:Ve()}function ae(A){return n=Cl(Aa(A.default,[])).filter(U=>U.props!==null&&U.props.slot===void 0&&K(U.props.name)===!0),n.length}function de(){return n}return Object.assign(l,{next:f,previous:C,goTo:X}),{panelIndex:o,panelDirectives:T,updatePanelsList:ae,updatePanelIndex:ie,getPanelContent:Se,getEnabledPanels:j,getPanels:de,isValidPanelName:K,keepAliveProps:v,needsUniqueKeepAliveWrapper:g,goToPanelByOffset:ee,goToPanel:X,nextPanel:f,previousPanel:C}}var ao=Pa({name:"QTabPanel",props:bn,setup(e,{slots:a}){return()=>w("div",{class:"q-tab-panel",role:"tabpanel"},Aa(a.default))}});function Ao(e,a){if(a&&e===a)return null;const l=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(l)===!0)return e;const t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=t.display;return n==="block"||n==="table"?e:Ao(e.parentNode)}function Nt(e,a,l){return!e||e===document.body?!1:l===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function qo(e,a,l){if(l||(l=document.createRange(),l.selectNode(e),l.setStart(e,0)),a.count===0)l.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(l.setEnd(e,a.count),a.count=0);else for(let t=0;a.count!==0&&t<e.childNodes.length;t++)l=qo(e.childNodes[t],a,l);return l}const Nn=/^https?:\/\//;class Sn{constructor(a,l){this.el=a,this.eVm=l,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(Nt(a.anchorNode,this.el,!0)&&Nt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!==null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const l=a.startContainer;return l.nodeType===document.ELEMENT_NODE?l:l.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?Ao(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const l=document.createRange(),t=document.getSelection();a!==null?(l.setStart(a.startContainer,a.startOffset),l.setEnd(a.endContainer,a.endOffset),t.removeAllRanges(),t.addRange(l)):(t.selectAllChildren(this.el),t.collapseToEnd())}savePosition(){let a=-1,l;const t=document.getSelection(),n=this.el.parentNode;if(t.focusNode&&Nt(t.focusNode,n))for(l=t.focusNode,a=t.focusOffset;l&&l!==n;)l!==this.el&&l.previousSibling?(l=l.previousSibling,a+=l.textContent.length):l=l.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const l=window.getSelection(),t=qo(this.el,{count:this.savedPos});t&&(t.collapse(!1),l.removeAllRanges(),l.addRange(t))}}hasParent(a,l){const t=l?this.parent:this.blockParent;return t!==null?t.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,l,t=this.parent){return t===null?!1:a.includes(t.nodeName.toLowerCase())===!0?!0:l===!0?this.hasParents(a,l,t.parentNode):!1}is(a,l){if(this.selection===null)return!1;switch(a){case"formatBlock":return l==="DIV"&&this.parent===this.el||this.hasParent(l,l==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===l;case"fontName":const t=document.queryCommandValue(a);return t===`"${l}"`||t===l;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const n=document.queryCommandState(a);return l!==void 0?n===l:n}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,l,t=vo){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(l)&&this.is(a,l)&&(a="outdent",l=null),l==="PRE"&&this.is(a,"PRE")&&(l="P");else if(a==="print"){t();const n=window.open();n.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),n.print(),n.close();return}else if(a==="link"){const n=this.getParentAttribute("href");if(n===null){const s=this.selectWord(this.selection),o=s?s.toString():"";if(!o.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Nn.test(o)?o:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(s.getRangeAt(0))}else this.eVm.editLinkUrl.value=n,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),t();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),t();return}document.execCommand(a,!1,l),t()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const l=document.createRange();l.setStart(a.anchorNode,a.anchorOffset),l.setEnd(a.focusNode,a.focusOffset);const t=l.collapsed?["backward","forward"]:["forward","backward"];l.detach();const n=a.focusNode,s=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",t[0],"character"),a.modify("move",t[1],"word"),a.extend(n,s),a.modify("extend",t[1],"character"),a.modify("extend",t[0],"word"),a}}var En=Pa({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const l=L(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>w("div",{class:l.value},Aa(a.default))}});const Tn=Object.keys(bo),xn=e=>Tn.reduce((a,l)=>{const t=e[l];return t!==void 0&&(a[l]=t),a},{});var wn=Pa({name:"QBtnDropdown",props:{...bo,...yo,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:l}){const{proxy:t}=La(),n=N(e.modelValue),s=N(null),o=Sl(),u=L(()=>{const S={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o.value,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(S["aria-disabled"]="true"),S}),h=L(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),T=L(()=>El(e)),p=L(()=>xn(e));aa(()=>e.modelValue,S=>{s.value!==null&&s.value[S?"show":"hide"]()}),aa(()=>e.split,K);function x(S){n.value=!0,l("beforeShow",S)}function F(S){l("show",S),l("update:modelValue",!0)}function _(S){n.value=!1,l("beforeHide",S)}function v(S){l("hide",S),l("update:modelValue",!1)}function g(S){l("click",S)}function f(S){Vo(S),K(),l("click",S)}function C(S){s.value!==null&&s.value.toggle(S)}function X(S){s.value!==null&&s.value.show(S)}function K(S){s.value!==null&&s.value.hide(S)}return Object.assign(t,{show:X,hide:K,toggle:C}),qt(()=>{e.modelValue===!0&&X()}),()=>{const S=[w(fa,{class:h.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&S.push(w(po,{ref:s,id:o.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:x,onShow:F,onBeforeHide:_,onHide:v},a.default)),e.split===!1?w(ce,{class:"q-btn-dropdown q-btn-dropdown--simple",...p.value,...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:g},{default:()=>Aa(a.label,[]).concat(S),loading:a.loading}):w(En,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...T.value,glossy:e.glossy,stretch:e.stretch},()=>[w(ce,{class:"q-btn-dropdown--current",...p.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:f},{default:a.label,loading:a.loading}),w(ce,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...u.value,...T.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>S)])}}}),Pn=Pa({name:"QTooltip",inheritAttrs:!1,props:{...fo,...Tl,...yo,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Mt},self:{type:String,default:"top middle",validator:Mt},offset:{type:Array,default:()=>[14,14],validator:xl},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...wl],setup(e,{slots:a,emit:l,attrs:t}){let n,s;const o=La(),{proxy:{$q:u}}=o,h=N(null),T=N(!1),p=L(()=>zt(e.anchor,u.lang.rtl)),x=L(()=>zt(e.self,u.lang.rtl)),F=L(()=>e.persistent!==!0),{registerTick:_,removeTick:v}=Pl(),{registerTimeout:g}=Al(),{transitionProps:f,transitionStyle:C}=ql(e),{localScrollTarget:X,changeScrollEvent:K,unconfigureScrollTarget:S}=Dl(e,P),{anchorEl:j,canShow:Ee,anchorEvents:ee}=go({showing:T,configureAnchorEl:Ae}),{show:ie,hide:Ve}=_l({showing:T,canShow:Ee,handleShow:A,handleHide:U,hideOnRouteChange:F,processOnMount:!0});Object.assign(ee,{delayShow:O,delayHide:we});const{showPortal:Se,hidePortal:ae,renderPortal:de}=Ol(o,h,W,"tooltip");if(u.platform.is.mobile===!0){const ue={anchorEl:j,innerRef:h,onClickOutside(I){return Ve(I),I.target.classList.contains("q-dialog__backdrop")&&$a(I),!0}},ze=L(()=>e.modelValue===null&&e.persistent!==!0&&T.value===!0);aa(ze,I=>{(I===!0?Ml:Lt)(ue)}),xt(()=>{Lt(ue)})}function A(ue){Se(),_(()=>{s=new MutationObserver(()=>Te()),s.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Te(),P()}),n===void 0&&(n=aa(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,Te)),g(()=>{Se(!0),l("show",ue)},e.transitionDuration)}function U(ue){v(),ae(),pe(),g(()=>{ae(!0),l("hide",ue)},e.transitionDuration)}function pe(){s!==void 0&&(s.disconnect(),s=void 0),n!==void 0&&(n(),n=void 0),S(),et(ee,"tooltipTemp")}function Te(){Il({targetEl:h.value,offset:e.offset,anchorEl:j.value,anchorOrigin:p.value,selfOrigin:x.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function O(ue){if(u.platform.is.mobile===!0){Tt(),document.body.classList.add("non-selectable");const ze=j.value,I=["touchmove","touchcancel","touchend","click"].map(y=>[ze,y,"delayHide","passiveCapture"]);Ya(ee,"tooltipTemp",I)}g(()=>{ie(ue)},e.delay)}function we(ue){u.platform.is.mobile===!0&&(et(ee,"tooltipTemp"),Tt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{Ve(ue)},e.hideDelay)}function Ae(){if(e.noParentEvent===!0||j.value===null)return;const ue=u.platform.is.mobile===!0?[[j.value,"touchstart","delayShow","passive"]]:[[j.value,"mouseenter","delayShow","passive"],[j.value,"mouseleave","delayHide","passive"]];Ya(ee,"anchor",ue)}function P(){if(j.value!==null||e.scrollTarget!==void 0){X.value=kl(j.value,e.scrollTarget);const ue=e.noParentEvent===!0?Te:Ve;K(X.value,ue)}}function he(){return T.value===!0?w("div",{...t,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,C.value],role:"tooltip"},Aa(a.default)):null}function W(){return w(Ma,f.value,he)}return xt(pe),Object.assign(o.proxy,{updatePosition:Te}),de}});function Do(e,a,l){a.handler?a.handler(e,l,l.caret):l.runCmd(a.cmd,a.param)}function _t(e){return w("div",{class:"q-editor__toolbar-group"},e)}function _o(e,a,l,t=!1){const n=t||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),s=[];if(a.tip&&e.$q.platform.is.desktop){const o=a.key?w("div",[w("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;s.push(w(Pn,{delay:1e3},()=>[w("div",{innerHTML:a.tip}),o]))}return w(ce,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:n?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:n&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(o){l&&l(),Do(o,a,e)}},()=>s)}function An(e,a){const l=a.list==="only-icons";let t=a.label,n=a.icon!==null?a.icon:void 0,s,o;function u(){T.component.proxy.hide()}if(l)o=a.options.map(p=>{const x=p.type===void 0?e.caret.is(p.cmd,p.param):!1;return x&&(t=p.tip,n=p.icon!==null?p.icon:void 0),_o(e,p,u,x)}),s=e.toolbarBackgroundClass.value,o=[_t(o)];else{const p=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,x=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,F=a.list==="no-icons";o=a.options.map(_=>{const v=_.disable?_.disable(e):!1,g=_.type===void 0?e.caret.is(_.cmd,_.param):!1;g&&(t=_.tip,n=_.icon!==null?_.icon:void 0);const f=_.htmlTip;return w(zl,{active:g,activeClass:p,clickable:!0,disable:v,dense:!0,onClick(C){u(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),Do(C,_,e)}},()=>[F===!0?null:w(jt,{class:g?p:x,side:!0},()=>w(fa,{name:_.icon!==null?_.icon:void 0})),w(jt,f?()=>w("div",{class:"text-no-wrap",innerHTML:_.htmlTip}):_.tip?()=>w("div",{class:"text-no-wrap"},_.tip):void 0)])}),s=[e.toolbarBackgroundClass.value,x]}const h=a.highlight&&t!==a.label,T=w(wn,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:h?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:h&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:t,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:n,contentClass:s,onShow:p=>e.emit("dropdownShow",p),onHide:p=>e.emit("dropdownHide",p),onBeforeShow:p=>e.emit("dropdownBeforeShow",p),onBeforeHide:p=>e.emit("dropdownBeforeHide",p)},()=>o);return T}function qn(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(l=>l.cmd==="viewsource")).map(a=>_t(a.map(l=>e.isViewingSource.value&&l.cmd!=="viewsource"?!1:l.type==="slot"?Aa(e.slots[l.slot]):l.type==="dropdown"?An(e,l):_o(e,l))))}function Dn(e,a,l,t={}){const n=Object.keys(t);if(n.length===0)return{};const s={default_font:{cmd:"fontName",param:e,icon:l,tip:a}};return n.forEach(o=>{const u=t[o];s[o]={cmd:"fontName",param:u,icon:l,tip:u,htmlTip:`<font face="${u}">${u}</font>`}}),s}function _n(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let l=e.editLinkUrl.value;const t=()=>{e.caret.restore(),l!==e.editLinkUrl.value&&document.execCommand("createLink",!1,l===""?" ":l),e.editLinkUrl.value=null};return[w("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),w("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:l,onInput:n=>{Vo(n),l=n.target.value},onKeydown:n=>{if(Co(n)!==!0)switch(n.keyCode){case 13:return Ft(n),t();case 27:Ft(n),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),_t([w(ce,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),w(ce,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:t})])]}}const On=Object.prototype.toString,St=Object.prototype.hasOwnProperty,In=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function to(e){if(e!==Object(e)||In.has(On.call(e))===!0||e.constructor&&St.call(e,"constructor")===!1&&St.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||St.call(e,a)}function Oo(){let e,a,l,t,n,s,o=arguments[0]||{},u=1,h=!1;const T=arguments.length;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},u=2),Object(o)!==o&&typeof o!="function"&&(o={}),T===u&&(o=this,u--);u<T;u++)if((e=arguments[u])!==null)for(a in e)l=o[a],t=e[a],o!==t&&(h===!0&&t&&((n=Array.isArray(t))||to(t)===!0)?(n===!0?s=Array.isArray(l)===!0?l:[]:s=to(l)===!0?l:{},o[a]=Oo(h,s,t)):t!==void 0&&(o[a]=t));return o}var oo=Pa({name:"QEditor",props:{...Pt,...Ll,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Fl,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:l}){const{proxy:t}=La(),{$q:n}=t,s=At(e,n),{inFullscreen:o,toggleFullscreen:u}=jl(),h=Rl(),T=N(null),p=N(null),x=N(null),F=N(!1),_=L(()=>!e.readonly&&!e.disable);let v,g,f=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),v=window.getComputedStyle(document.body).fontFamily;const C=L(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),X=L(()=>{const y=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:y,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!_.value,size:"sm"}}),K=L(()=>{const y=n.lang.editor,E=n.iconSet.editor;return{bold:{cmd:"bold",icon:E.bold,tip:y.bold,key:66},italic:{cmd:"italic",icon:E.italic,tip:y.italic,key:73},strike:{cmd:"strikeThrough",icon:E.strikethrough,tip:y.strikethrough,key:83},underline:{cmd:"underline",icon:E.underline,tip:y.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:E.unorderedList,tip:y.unorderedList},ordered:{cmd:"insertOrderedList",icon:E.orderedList,tip:y.orderedList},subscript:{cmd:"subscript",icon:E.subscript,tip:y.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:E.superscript,tip:y.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:G=>G.caret&&!G.caret.can("link"),icon:E.hyperlink,tip:y.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:E.toggleFullscreen,tip:y.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:E.viewSource,tip:y.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:E.quote,tip:y.quote,key:81},left:{cmd:"justifyLeft",icon:E.left,tip:y.left},center:{cmd:"justifyCenter",icon:E.center,tip:y.center},right:{cmd:"justifyRight",icon:E.right,tip:y.right},justify:{cmd:"justifyFull",icon:E.justify,tip:y.justify},print:{type:"no-state",cmd:"print",icon:E.print,tip:y.print,key:80},outdent:{type:"no-state",disable:G=>G.caret&&!G.caret.can("outdent"),cmd:"outdent",icon:E.outdent,tip:y.outdent},indent:{type:"no-state",disable:G=>G.caret&&!G.caret.can("indent"),cmd:"indent",icon:E.indent,tip:y.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:E.removeFormat,tip:y.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:E.hr,tip:y.hr},undo:{type:"no-state",cmd:"undo",icon:E.undo,tip:y.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:E.redo,tip:y.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:E.heading1||E.heading,tip:y.heading1,htmlTip:`<h1 class="q-ma-none">${y.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:E.heading2||E.heading,tip:y.heading2,htmlTip:`<h2 class="q-ma-none">${y.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:E.heading3||E.heading,tip:y.heading3,htmlTip:`<h3 class="q-ma-none">${y.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:E.heading4||E.heading,tip:y.heading4,htmlTip:`<h4 class="q-ma-none">${y.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:E.heading5||E.heading,tip:y.heading5,htmlTip:`<h5 class="q-ma-none">${y.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:E.heading6||E.heading,tip:y.heading6,htmlTip:`<h6 class="q-ma-none">${y.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:E.heading,tip:y.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:E.code,htmlTip:`<code>${y.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:E.size1||E.size,tip:y.size1,htmlTip:`<font size="1">${y.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:E.size2||E.size,tip:y.size2,htmlTip:`<font size="2">${y.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:E.size3||E.size,tip:y.size3,htmlTip:`<font size="3">${y.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:E.size4||E.size,tip:y.size4,htmlTip:`<font size="4">${y.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:E.size5||E.size,tip:y.size5,htmlTip:`<font size="5">${y.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:E.size6||E.size,tip:y.size6,htmlTip:`<font size="6">${y.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:E.size7||E.size,tip:y.size7,htmlTip:`<font size="7">${y.size7}</font>`}}}),S=L(()=>{const y=e.definitions||{},E=e.definitions||e.fonts?Oo(!0,{},K.value,y,Dn(v,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):K.value;return e.toolbar.map(G=>G.map(Q=>{if(Q.options)return{type:"dropdown",icon:Q.icon,label:Q.label,size:"sm",dense:!0,fixedLabel:Q.fixedLabel,fixedIcon:Q.fixedIcon,highlight:Q.highlight,list:Q.list,options:Q.options.map(fe=>E[fe])};const Z=E[Q];return Z?Z.type==="no-state"||y[Q]&&(Z.cmd===void 0||K.value[Z.cmd]&&K.value[Z.cmd].type==="no-state")?Z:Object.assign({type:"toggle"},Z):{type:"slot",slot:Q}}))}),j={$q:n,props:e,slots:a,emit:l,inFullscreen:o,toggleFullscreen:u,runCmd:W,isViewingSource:F,editLinkUrl:x,toolbarBackgroundClass:C,buttonProps:X,contentRef:p,buttons:S,setContent:he};aa(()=>e.modelValue,y=>{f!==y&&(f=y,he(y,!0))}),aa(x,y=>{l(`link${y?"Show":"Hide"}`)});const Ee=L(()=>e.toolbar&&e.toolbar.length!==0),ee=L(()=>{const y={},E=G=>{G.key&&(y[G.key]={cmd:G.cmd,param:G.param})};return S.value.forEach(G=>{G.forEach(Q=>{Q.options?Q.options.forEach(E):E(Q)})}),y}),ie=L(()=>o.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Ve=L(()=>`q-editor q-editor--${F.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(o.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(s.value===!0?" q-editor--dark q-dark":"")),Se=L(()=>[e.contentClass,"q-editor__content",{col:o.value,"overflow-auto":o.value||e.maxHeight}]),ae=L(()=>e.disable===!0?{"aria-disabled":"true"}:{});function de(){if(p.value!==null){const y=`inner${F.value===!0?"Text":"HTML"}`,E=p.value[y];E!==e.modelValue&&(f=E,l("update:modelValue",E))}}function A(y){if(l("keydown",y),y.ctrlKey!==!0||Co(y)===!0){ue();return}const E=y.keyCode,G=ee.value[E];if(G!==void 0){const{cmd:Q,param:Z}=G;$a(y),W(Q,Z,!1)}}function U(y){ue(),l("click",y)}function pe(y){if(p.value!==null){const{scrollTop:E,scrollHeight:G}=p.value;g=G-E}j.caret.save(),l("blur",y)}function Te(y){dt(()=>{p.value!==null&&g!==void 0&&(p.value.scrollTop=p.value.scrollHeight-g)}),l("focus",y)}function O(y){const E=T.value;if(E!==null&&E.contains(y.target)===!0&&(y.relatedTarget===null||E.contains(y.relatedTarget)!==!0)){const G=`inner${F.value===!0?"Text":"HTML"}`;j.caret.restorePosition(p.value[G].length),ue()}}function we(y){const E=T.value;E!==null&&E.contains(y.target)===!0&&(y.relatedTarget===null||E.contains(y.relatedTarget)!==!0)&&(j.caret.savePosition(),ue())}function Ae(){g=void 0}function P(y){j.caret.save()}function he(y,E){if(p.value!==null){E===!0&&j.caret.savePosition();const G=`inner${F.value===!0?"Text":"HTML"}`;p.value[G]=y,E===!0&&(j.caret.restorePosition(p.value[G].length),ue())}}function W(y,E,G=!0){ze(),j.caret.restore(),j.caret.apply(y,E,()=>{ze(),j.caret.save(),G&&ue()})}function ue(){setTimeout(()=>{x.value=null,t.$forceUpdate()},1)}function ze(){Hl(()=>{p.value!==null&&p.value.focus({preventScroll:!0})})}function I(){return p.value}return qt(()=>{j.caret=t.caret=new Sn(p.value,j),he(e.modelValue),ue(),document.addEventListener("selectionchange",P)}),xt(()=>{document.removeEventListener("selectionchange",P)}),Object.assign(t,{runCmd:W,refreshToolbar:ue,focus:ze,getContentEl:I}),()=>{let y;if(Ee.value){const E=[w("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+C.value},qn(j))];x.value!==null&&E.push(w("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+C.value},_n(j))),y=w("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},E)}return w("div",{ref:T,class:Ve.value,style:{height:o.value===!0?"100%":null},...ae.value,onFocusin:O,onFocusout:we},[y,w("div",{ref:p,style:ie.value,class:Se.value,contenteditable:_.value,placeholder:e.placeholder,...h.listeners.value,onInput:de,onKeydown:A,onClick:U,onBlur:pe,onFocus:Te,onMousedown:Ae,onTouchstartPassive:Ae})])}}}),kn=Pa({name:"QTabPanels",props:{...yn,...Pt},emits:Vn,setup(e,{slots:a}){const l=La(),t=At(e,l.proxy.$q),{updatePanelsList:n,getPanelContent:s,panelDirectives:o}=Cn(),u=L(()=>"q-tab-panels q-panel-parent"+(t.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(a),Ul("div",{class:u.value},s(),"pan",e.swipeable,()=>o.value))}});function ua(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function za(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const Io=6048e5,Mn=864e5;let zn={};function mt(){return zn}function at(e,a){var u,h,T,p,x,F,_,v;const l=mt(),t=(v=(_=(p=(T=a==null?void 0:a.weekStartsOn)!=null?T:(h=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)!=null?p:l.weekStartsOn)!=null?_:(F=(x=l.locale)==null?void 0:x.options)==null?void 0:F.weekStartsOn)!=null?v:0,n=ua(e),s=n.getDay(),o=(s<t?7:0)+s-t;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ut(e){return at(e,{weekStartsOn:1})}function ko(e){const a=ua(e),l=a.getFullYear(),t=za(e,0);t.setFullYear(l+1,0,4),t.setHours(0,0,0,0);const n=ut(t),s=za(e,0);s.setFullYear(l,0,4),s.setHours(0,0,0,0);const o=ut(s);return a.getTime()>=n.getTime()?l+1:a.getTime()>=o.getTime()?l:l-1}function lo(e){const a=ua(e);return a.setHours(0,0,0,0),a}function no(e){const a=ua(e),l=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return l.setUTCFullYear(a.getFullYear()),+e-+l}function Ln(e,a){const l=lo(e),t=lo(a),n=+l-no(l),s=+t-no(t);return Math.round((n-s)/Mn)}function Fn(e){const a=ko(e),l=za(e,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),ut(l)}function jn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rn(e){if(!jn(e)&&typeof e!="number")return!1;const a=ua(e);return!isNaN(Number(a))}function Hn(e){const a=ua(e),l=za(e,0);return l.setFullYear(a.getFullYear(),0,1),l.setHours(0,0,0,0),l}const Un={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bn=(e,a,l)=>{let t;const n=Un[e];return typeof n=="string"?t=n:a===1?t=n.one:t=n.other.replace("{{count}}",a.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+t:t+" ago":t};function Et(e){return(a={})=>{const l=a.width?String(a.width):e.defaultWidth;return e.formats[l]||e.formats[e.defaultWidth]}}const Yn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xn={date:Et({formats:Yn,defaultWidth:"full"}),time:Et({formats:Wn,defaultWidth:"full"}),dateTime:Et({formats:Qn,defaultWidth:"full"})},Gn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jn=(e,a,l,t)=>Gn[e];function Za(e){return(a,l)=>{const t=l!=null&&l.context?String(l.context):"standalone";let n;if(t==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=l!=null&&l.width?String(l.width):o;n=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=l!=null&&l.width?String(l.width):e.defaultWidth;n=e.values[u]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(a):a;return n[s]}}const Zn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$n={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},es={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},as={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ts={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},os=(e,a)=>{const l=Number(e),t=l%100;if(t>20||t<10)switch(t%10){case 1:return l+"st";case 2:return l+"nd";case 3:return l+"rd"}return l+"th"},ls={ordinalNumber:os,era:Za({values:Zn,defaultWidth:"wide"}),quarter:Za({values:Kn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Za({values:$n,defaultWidth:"wide"}),day:Za({values:es,defaultWidth:"wide"}),dayPeriod:Za({values:as,defaultWidth:"wide",formattingValues:ts,defaultFormattingWidth:"wide"})};function Ka(e){return(a,l={})=>{const t=l.width,n=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],s=a.match(n);if(!s)return null;const o=s[0],u=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?ss(u,x=>x.test(o)):ns(u,x=>x.test(o));let T;T=e.valueCallback?e.valueCallback(h):h,T=l.valueCallback?l.valueCallback(T):T;const p=a.slice(o.length);return{value:T,rest:p}}}function ns(e,a){for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&a(e[l]))return l}function ss(e,a){for(let l=0;l<e.length;l++)if(a(e[l]))return l}function is(e){return(a,l={})=>{const t=a.match(e.matchPattern);if(!t)return null;const n=t[0],s=a.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=l.valueCallback?l.valueCallback(o):o;const u=a.slice(n.length);return{value:o,rest:u}}}const rs=/^(\d+)(th|st|nd|rd)?/i,cs=/\d+/i,ds={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},us={any:[/^b/i,/^(a|c)/i]},ms={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hs={any:[/1/i,/2/i,/3/i,/4/i]},fs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ps={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vs={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bs={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ys={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vs={ordinalNumber:is({matchPattern:rs,parsePattern:cs,valueCallback:e=>parseInt(e,10)}),era:Ka({matchPatterns:ds,defaultMatchWidth:"wide",parsePatterns:us,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:ms,defaultMatchWidth:"wide",parsePatterns:hs,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ka({matchPatterns:fs,defaultMatchWidth:"wide",parsePatterns:gs,defaultParseWidth:"any"}),day:Ka({matchPatterns:ps,defaultMatchWidth:"wide",parsePatterns:vs,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:bs,defaultMatchWidth:"any",parsePatterns:ys,defaultParseWidth:"any"})},Cs={code:"en-US",formatDistance:Bn,formatLong:Xn,formatRelative:Jn,localize:ls,match:Vs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ns(e){const a=ua(e);return Ln(a,Hn(a))+1}function Ss(e){const a=ua(e),l=+ut(a)-+Fn(a);return Math.round(l/Io)+1}function Mo(e,a){var p,x,F,_,v,g,f,C;const l=ua(e),t=l.getFullYear(),n=mt(),s=(C=(f=(_=(F=a==null?void 0:a.firstWeekContainsDate)!=null?F:(x=(p=a==null?void 0:a.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)!=null?_:n.firstWeekContainsDate)!=null?f:(g=(v=n.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)!=null?C:1,o=za(e,0);o.setFullYear(t+1,0,s),o.setHours(0,0,0,0);const u=at(o,a),h=za(e,0);h.setFullYear(t,0,s),h.setHours(0,0,0,0);const T=at(h,a);return l.getTime()>=u.getTime()?t+1:l.getTime()>=T.getTime()?t:t-1}function Es(e,a){var u,h,T,p,x,F,_,v;const l=mt(),t=(v=(_=(p=(T=a==null?void 0:a.firstWeekContainsDate)!=null?T:(h=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)!=null?p:l.firstWeekContainsDate)!=null?_:(F=(x=l.locale)==null?void 0:x.options)==null?void 0:F.firstWeekContainsDate)!=null?v:1,n=Mo(e,a),s=za(e,0);return s.setFullYear(n,0,t),s.setHours(0,0,0,0),at(s,a)}function Ts(e,a){const l=ua(e),t=+at(l,a)-+Es(l,a);return Math.round(t/Io)+1}function xe(e,a){const l=e<0?"-":"",t=Math.abs(e).toString().padStart(a,"0");return l+t}const xa={y(e,a){const l=e.getFullYear(),t=l>0?l:1-l;return xe(a==="yy"?t%100:t,a.length)},M(e,a){const l=e.getMonth();return a==="M"?String(l+1):xe(l+1,2)},d(e,a){return xe(e.getDate(),a.length)},a(e,a){const l=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return l.toUpperCase();case"aaa":return l;case"aaaaa":return l[0];case"aaaa":default:return l==="am"?"a.m.":"p.m."}},h(e,a){return xe(e.getHours()%12||12,a.length)},H(e,a){return xe(e.getHours(),a.length)},m(e,a){return xe(e.getMinutes(),a.length)},s(e,a){return xe(e.getSeconds(),a.length)},S(e,a){const l=a.length,t=e.getMilliseconds(),n=Math.trunc(t*Math.pow(10,l-3));return xe(n,a.length)}},Ba={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},so={G:function(e,a,l){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return l.era(t,{width:"abbreviated"});case"GGGGG":return l.era(t,{width:"narrow"});case"GGGG":default:return l.era(t,{width:"wide"})}},y:function(e,a,l){if(a==="yo"){const t=e.getFullYear(),n=t>0?t:1-t;return l.ordinalNumber(n,{unit:"year"})}return xa.y(e,a)},Y:function(e,a,l,t){const n=Mo(e,t),s=n>0?n:1-n;if(a==="YY"){const o=s%100;return xe(o,2)}return a==="Yo"?l.ordinalNumber(s,{unit:"year"}):xe(s,a.length)},R:function(e,a){const l=ko(e);return xe(l,a.length)},u:function(e,a){const l=e.getFullYear();return xe(l,a.length)},Q:function(e,a,l){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return xe(t,2);case"Qo":return l.ordinalNumber(t,{unit:"quarter"});case"QQQ":return l.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return l.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return l.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,l){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return xe(t,2);case"qo":return l.ordinalNumber(t,{unit:"quarter"});case"qqq":return l.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return l.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return l.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,l){const t=e.getMonth();switch(a){case"M":case"MM":return xa.M(e,a);case"Mo":return l.ordinalNumber(t+1,{unit:"month"});case"MMM":return l.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return l.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return l.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,l){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return xe(t+1,2);case"Lo":return l.ordinalNumber(t+1,{unit:"month"});case"LLL":return l.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return l.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return l.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,l,t){const n=Ts(e,t);return a==="wo"?l.ordinalNumber(n,{unit:"week"}):xe(n,a.length)},I:function(e,a,l){const t=Ss(e);return a==="Io"?l.ordinalNumber(t,{unit:"week"}):xe(t,a.length)},d:function(e,a,l){return a==="do"?l.ordinalNumber(e.getDate(),{unit:"date"}):xa.d(e,a)},D:function(e,a,l){const t=Ns(e);return a==="Do"?l.ordinalNumber(t,{unit:"dayOfYear"}):xe(t,a.length)},E:function(e,a,l){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return l.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return l.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(t,{width:"short",context:"formatting"});case"EEEE":default:return l.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,l,t){const n=e.getDay(),s=(n-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(s);case"ee":return xe(s,2);case"eo":return l.ordinalNumber(s,{unit:"day"});case"eee":return l.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return l.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(n,{width:"short",context:"formatting"});case"eeee":default:return l.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,l,t){const n=e.getDay(),s=(n-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(s);case"cc":return xe(s,a.length);case"co":return l.ordinalNumber(s,{unit:"day"});case"ccc":return l.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return l.day(n,{width:"narrow",context:"standalone"});case"cccccc":return l.day(n,{width:"short",context:"standalone"});case"cccc":default:return l.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,l){const t=e.getDay(),n=t===0?7:t;switch(a){case"i":return String(n);case"ii":return xe(n,a.length);case"io":return l.ordinalNumber(n,{unit:"day"});case"iii":return l.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return l.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return l.day(t,{width:"short",context:"formatting"});case"iiii":default:return l.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,l){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return l.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return l.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return l.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return l.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,l){const t=e.getHours();let n;switch(t===12?n=Ba.noon:t===0?n=Ba.midnight:n=t/12>=1?"pm":"am",a){case"b":case"bb":return l.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return l.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return l.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return l.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,l){const t=e.getHours();let n;switch(t>=17?n=Ba.evening:t>=12?n=Ba.afternoon:t>=4?n=Ba.morning:n=Ba.night,a){case"B":case"BB":case"BBB":return l.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return l.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return l.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,l){if(a==="ho"){let t=e.getHours()%12;return t===0&&(t=12),l.ordinalNumber(t,{unit:"hour"})}return xa.h(e,a)},H:function(e,a,l){return a==="Ho"?l.ordinalNumber(e.getHours(),{unit:"hour"}):xa.H(e,a)},K:function(e,a,l){const t=e.getHours()%12;return a==="Ko"?l.ordinalNumber(t,{unit:"hour"}):xe(t,a.length)},k:function(e,a,l){let t=e.getHours();return t===0&&(t=24),a==="ko"?l.ordinalNumber(t,{unit:"hour"}):xe(t,a.length)},m:function(e,a,l){return a==="mo"?l.ordinalNumber(e.getMinutes(),{unit:"minute"}):xa.m(e,a)},s:function(e,a,l){return a==="so"?l.ordinalNumber(e.getSeconds(),{unit:"second"}):xa.s(e,a)},S:function(e,a){return xa.S(e,a)},X:function(e,a,l){const t=e.getTimezoneOffset();if(t===0)return"Z";switch(a){case"X":return ro(t);case"XXXX":case"XX":return ka(t);case"XXXXX":case"XXX":default:return ka(t,":")}},x:function(e,a,l){const t=e.getTimezoneOffset();switch(a){case"x":return ro(t);case"xxxx":case"xx":return ka(t);case"xxxxx":case"xxx":default:return ka(t,":")}},O:function(e,a,l){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+io(t,":");case"OOOO":default:return"GMT"+ka(t,":")}},z:function(e,a,l){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+io(t,":");case"zzzz":default:return"GMT"+ka(t,":")}},t:function(e,a,l){const t=Math.trunc(e.getTime()/1e3);return xe(t,a.length)},T:function(e,a,l){const t=e.getTime();return xe(t,a.length)}};function io(e,a=""){const l=e>0?"-":"+",t=Math.abs(e),n=Math.trunc(t/60),s=t%60;return s===0?l+String(n):l+String(n)+a+xe(s,2)}function ro(e,a){return e%60===0?(e>0?"-":"+")+xe(Math.abs(e)/60,2):ka(e,a)}function ka(e,a=""){const l=e>0?"-":"+",t=Math.abs(e),n=xe(Math.trunc(t/60),2),s=xe(t%60,2);return l+n+a+s}const co=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},zo=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},xs=(e,a)=>{const l=e.match(/(P+)(p+)?/)||[],t=l[1],n=l[2];if(!n)return co(e,a);let s;switch(t){case"P":s=a.dateTime({width:"short"});break;case"PP":s=a.dateTime({width:"medium"});break;case"PPP":s=a.dateTime({width:"long"});break;case"PPPP":default:s=a.dateTime({width:"full"});break}return s.replace("{{date}}",co(t,a)).replace("{{time}}",zo(n,a))},ws={p:zo,P:xs},Ps=/^D+$/,As=/^Y+$/,qs=["D","DD","YY","YYYY"];function Ds(e){return Ps.test(e)}function _s(e){return As.test(e)}function Os(e,a,l){const t=Is(e,a,l);if(console.warn(t),qs.includes(e))throw new RangeError(t)}function Is(e,a,l){const t=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${l}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ks=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ms=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zs=/^'([^]*?)'?$/,Ls=/''/g,Fs=/[a-zA-Z]/;function uo(e,a,l){var p,x,F,_,v,g,f,C,X,K,S,j,Ee,ee,ie,Ve,Se,ae;const t=mt(),n=(x=(p=l==null?void 0:l.locale)!=null?p:t.locale)!=null?x:Cs,s=(K=(X=(g=(v=l==null?void 0:l.firstWeekContainsDate)!=null?v:(_=(F=l==null?void 0:l.locale)==null?void 0:F.options)==null?void 0:_.firstWeekContainsDate)!=null?g:t.firstWeekContainsDate)!=null?X:(C=(f=t.locale)==null?void 0:f.options)==null?void 0:C.firstWeekContainsDate)!=null?K:1,o=(ae=(Se=(ee=(Ee=l==null?void 0:l.weekStartsOn)!=null?Ee:(j=(S=l==null?void 0:l.locale)==null?void 0:S.options)==null?void 0:j.weekStartsOn)!=null?ee:t.weekStartsOn)!=null?Se:(Ve=(ie=t.locale)==null?void 0:ie.options)==null?void 0:Ve.weekStartsOn)!=null?ae:0,u=ua(e);if(!Rn(u))throw new RangeError("Invalid time value");let h=a.match(Ms).map(de=>{const A=de[0];if(A==="p"||A==="P"){const U=ws[A];return U(de,n.formatLong)}return de}).join("").match(ks).map(de=>{if(de==="''")return{isToken:!1,value:"'"};const A=de[0];if(A==="'")return{isToken:!1,value:js(de)};if(so[A])return{isToken:!0,value:de};if(A.match(Fs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:de}});n.localize.preprocessor&&(h=n.localize.preprocessor(u,h));const T={firstWeekContainsDate:s,weekStartsOn:o,locale:n};return h.map(de=>{if(!de.isToken)return de.value;const A=de.value;(!(l!=null&&l.useAdditionalWeekYearTokens)&&_s(A)||!(l!=null&&l.useAdditionalDayOfYearTokens)&&Ds(A))&&Os(A,a,String(e));const U=so[A[0]];return U(u,A,n.localize,T)}).join("")}function js(e){const a=e.match(zs);return a?a[1].replace(Ls,"'"):e}const mo=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Rs={setup(){let e=N(null),a=N(0),l=N(!0),t=N(0),n=N(0),s=N(null),o=N(0),u=0,h=0,T=0,p=0,x=0,F=0,_=0,v=0,g=0,f=0,C=0,X=0,K=0,S=0,j=0,Ee=0,ee=0,ie=0,Ve=0,Se=0,ae=0,de=0,A=N([]);const U=N("idCotizacion"),pe=N("desc"),Te=L(()=>Array.from({length:It.value},(z,pa)=>pa+1)),O=N(0),we=N(!1),Ae=N(!1),P=N(null),he=Array.from({length:10},(z,pa)=>pa+1),W=N(!1),ue=N(0),ze=N([]),I=N(null),y=N([]),E=N([]),G=N(1),Q=N([]),Z=N([]),fe=N("Todos"),Ce=N(null),Be=[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"Pendiente"}],Le=z=>Da.value==="La Macarena"&&(Va.value==="Ca\xF1o Cristales"||Va.value==="Ca\xF1o Cristales Semana Receso"),Fe=()=>{Q.value.push({index:Q.value.length,accommodation:"",adults:1,adultAges:[null],childAge:null,isForeigner:[!1],valor:[null]}),E.value.push(!1)};aa(()=>Q.value.map(z=>z.adults),z=>{Q.value.forEach((pa,Xa)=>{const ul=Array.from({length:z[Xa]},()=>null),ml=Array.from({length:z[Xa]},()=>!1);pa.adultAges.splice(0,pa.adultAges.length,...ul),pa.isForeigner.splice(0,pa.isForeigner.length,...ml)})},{deep:!0});const je=z=>z?[...z.adultAges]:[],qe=()=>{Q.value=[];for(let z=0;z<G.value;z++)Q.value.push({index:z,accommodation:null,adultAges:[null],childAge:null,isForeigner:[!1]})},Ye=z=>Da.value==="La Macarena"&&(Va.value==="Ca\xF1o Cristales"||Va.value==="Ca\xF1o Cristales Semana Receso");qe();const We=()=>{console.log("N\xFAmero de habitaciones cambiado:",G.value),qe()},De=N([]),Re=N({}),Ze=async()=>{try{const z=await ne.get("https://backmultidestinos.onrender.com/cotizacion");De.value=z.data,await Xe(),te(),ve()}catch(z){console.error("Error fetching cotizacion data:",z)}},Xe=async()=>{try{(await ne.get("https://backmultidestinos.onrender.com/user/")).data.forEach(Xa=>{Re.value[Xa.id]=Xa.nombreCompleto})}catch(z){console.error("Error fetching user data:",z)}},te=()=>{De.value.forEach(z=>{z.CreadorCotizacion=Re.value[z.CreadorCotizacion],z.fechaCreacion=re(z.fechaCreacion),z.fechaInicio=re(z.fechaInicio),z.fechaFin=re(z.fechaFin)})},ve=()=>{De.value.forEach(z=>{z.precioBrutoTotal=mo(Number(z.precioBrutoTotal)),z.totalPrecioCliente=mo(Number(z.totalPrecioCliente))})},re=z=>uo(new Date(z),"yyyy-MM-dd"),J=N(!1),B=N(null),_e=N(null),M=N(null),R=N(null),ca=N(null),oe=N(null),He=N(null),me=N(null),be=N(null),ye=N(null),Ne=N(""),Ge=N(""),Ie=N(""),Ue=N(""),Ke=N(""),da=N(""),ta=N(""),Je=N(""),oa=N(""),$e=N(""),sa=N(""),ma=N(""),ga=N(""),r=N(""),i=N(""),c=N(""),b=N(""),V=N(""),H=N(""),q=N(""),Y=N("tab1"),$=()=>{if(Y.value==="tab1"){if(!ra.value[0]||!ra.value[1]){bt.create({message:"Por favor ingrese una fecha de inicio y una fecha de fin.",color:"negative"});return}if(!Da.value||!Qa.value){bt.create({message:"Por favor seleccione un destino y un cliente.",color:"negative"});return}if(Q.value.length===0||Q.value.some(z=>!z.roomType||!z.adults||!z.accommodation)){bt.create({message:"Por favor complete la informaci\xF3n de al menos una habitaci\xF3n.",color:"negative"});return}Y.value="tab2"}},ke=()=>{Y.value==="tab2"&&(Y.value="tab1")},ia=new Date,Qe=N(""),ea=ia.toISOString().split("T")[0],ra=N([ea,ea]),Fa=z=>{ra.value[1]<z&&(ra.value[1]=z)},qa=[z=>ia<=new Date(z)||"La fecha de inicio no puede ser anterior a hoy"],Wa=[z=>z>=ra.value[0]||"La fecha de fin no puede ser anterior a la fecha de inicio"],Lo=N(!1),Fo=N(""),jo=N(!1),Ro=N(""),Ot=N(null),Ho=Yl(),Uo=N(!1),Bo=N(!1),Yo=N(["C.C","T.I","Pasaporte"]),Wo=N(["Bogota","Cali","Medellin","Porcion Terrestre","San Andres"]),Qo=N([]),Xo=N([]),Go=N([]),Jo=N([]),Zo=N([]),Ko=N(["1","2","3","4","5","6","7","8","9","10","11","12","13"]);let $o=[],el=null;const al=N(["1","2","3","4","5","6","7","8","9"]),tl=N([]),ol=N([]),ll=N([]),nl=N([]),sl=N(["Satena","Avianca","Latam","JetSmart","Clic"]),ht=N(""),Da=N(""),Va=N(""),tt=N(""),ot=N(""),il=N(""),lt=N(""),nt=N(""),st=N(""),Qa=N(""),ft=N(!1),gt=N(null),It=N(null),rl=N([]),cl=N(!1),dl=N(null);return qt(()=>{console.log("Intentando recuperar los datos del usuario del almacenamiento local..."),Ze(),qe();const z=vt.getItem("userData");console.log("Datos del usuario recuperados:",z),z?Ot.value=z:(console.log("No se encontraron datos de usuario en el almacenamiento local. Redirigiendo a la p\xE1gina de inicio de sesi\xF3n..."),Ho.push("/login"))}),{tieneTelefono:Lo,telefono:Fo,tieneNumero:jo,correoPasajero:Ro,filterStatus:Ce,statusOptions:Be,selectedUser:e,matchingPrograms:A,autofillingProgramName:l,transferInOut:s,transferInOutValue:o,numExtraValues:a,extraValue1:t,extraValue2:n,opcionesTipoDocumento:Yo,mostrarModalPasajeros:W,totalPasajero:ue,pasajeros:ze,cotizacionSeleccionada:I,sortBy:U,sortOrder:pe,selectedFilter:fe,cormacarena5a11Personas:h,cormacarena12a65Personas:p,cormacarenaExtranjeroPersonas:F,pqsNaturales5a24Personas:v,pqsNaturales25a65Personas:f,pqsNaturalesExtranjeroPersonas:X,alcaldiaNacionalPersonas:S,alcaldiaExtranjeroPersonas:Ee,defensaCivilPersonas:ie,cormacarena5a11Total:u,cormacarena12a65Total:T,cormacarenaExtranjeroTotal:x,pqsNaturales5a24Total:_,pqsNaturales25a65Total:g,pqsNaturalesExtranjeroTotal:C,alcaldiaNacionalTotal:K,alcaldiaExtranjeroTotal:j,defensaCivilTotal:ee,totalImpuestos:Se,adultAgesComputed:je,mostrarCamposEdad:Ye,showAgeInputs:Le,nochesOptionsRaw:Z,peopleArray:Te,numberOfPeople:It,supplementValues:rl,idCotizacion:Ge,archivoSeleccionado:dl,mostrarDialogo:cl,ultimaCotizacionDescargada:el,correo:Qe,OptionCorreo:nl,cotizacionCounter:O,sumaTotalDescuento:de,sumaTotalAcomodacion:Ve,sumaValorBrutohab:ae,habitacionesDatos:$o,additionalNightSelected:we,asesorExternoCheck:Ae,additionalNightCount:P,handleNumRoomsChange:We,roomOptions:he,addRoom:Fe,hasChildren:E,numRooms:G,rooms:Q,updateAccommodationOptions:qe,cotizacionData:De,usersMap:Re,formatDate:z=>uo(new Date(z),"yyyy-MM-dd"),columns:[{name:"status",label:"Status",align:"left",field:"status"},{name:"idCotizacion",label:"Id-cotizaci\xF3n",align:"left",field:"idCotizacion"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",align:"left",field:"fechaCreacion"},{name:"CreadorCotizacion",label:"Usuario que la Cre\xF3",align:"left",field:"CreadorCotizacion"},{name:"cliente",label:"Cliente",align:"left",field:"cliente"},{name:"precioBrutoTotal",label:"precio Bruto",align:"left",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Valor Total con Descuento",align:"left",field:"totalPrecioCliente"},{name:"totalAdultos",label:"Adultos",align:"left",field:"totalAdultos"},{name:"totalNinos",label:"Ni\xF1os",align:"left",field:"totalNinos"},{name:"fechaInicio",label:"Fecha de Inicio",align:"left",field:"fechaInicio"},{name:"fechaFin",label:"Fecha de Fin",align:"left",field:"fechaFin"},{name:"salida",label:"Salida",align:"left",field:"salida"},{name:"destino",label:"Destino",align:"left",field:"destino"},{name:"hotel",label:"Hotel",align:"left",field:"hotel"},{name:"cotizacion",label:"Cotizacion",align:"left",field:"cotizacion",format:z=>""}],mostrarEscalas:J,aerolineaEscalaIda:B,vueloEscalaIda:_e,horaLlegadaEscalaIda:M,horaSalidaEscalaIda:R,claseEscalaIda:ca,aerolineaEscalaVuelta:oe,vueloEscalaVuelta:He,horaLlegadaEscalaVuelta:me,horaSalidaEscalaVuelta:be,claseEscalaVuelta:ye,aerolineaValue1:Ne,vueloValue1:Ie,horaLlegadaValue1:Ue,horaSalidaValue1:Ke,claseValue1:da,aerolineaValue2:ta,vueloValue2:Je,horaLlegadaValue2:oa,horaSalidaValue2:$e,claseValue2:sa,Combus:ma,Tasa:ga,Iva:r,Ta:i,IvaTa:c,Otros:b,precioTransp:V,textoIncluye:H,textoNoIncluye:q,startDateRules:qa,activeTab:Y,goNext:$,goBack:ke,params:{hotel:"",nombrePrograma:"",destino:""},paramsH:{hotel:"",destino:"",noches:"",pertenece:""},paramsN:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:""},userData:Ot,modalVisible:Uo,modalVisiblePersonalizado:Bo,departureOptions:Wo,destinationOptions:Qo,programNameOptions:Xo,hotelOptions:Go,nochesOptions:Jo,planOptions:Zo,adultsOptions:Ko,childrenOptions:al,aerolineaOptions:sl,accommodationOptions:tl,roomTypeOptions:ol,selectedDeparture:ht,destination:Da,programName:Va,hotel:tt,noche:ot,plan:il,adults:lt,children:y,accommodation:nt,roomType:st,clientOptions:ll,selectedClient:Qa,clearFields:()=>{ht.value="",Da.value="",Va.value="",tt.value="",ot.value="",lt.value="",y.value="",nt.value="",st.value="",Qa.value="",s.value="",o.value="",t.value="",n.value="",a.value=0,Q.value.forEach(z=>{z.roomType="",z.adults="",z.hasChildren=!1,z.numChildren="",z.accommodation=""}),Ne.value="",Ie.value="",Ke.value="",Ue.value="",da.value="",ta.value="",Je.value="",$e.value="",oa.value="",sa.value="",ft.value=!1,gt.value=""},clearFieldsc:()=>{Da.value="",Va.value="",tt.value="",ot.value="",lt.value="",y.value="",nt.value="",st.value="",Qa.value="",Qe.value=""},clearFieldsPersonalizado:()=>{ht.value="",Da.value="",Va.value="",tt.value="",ot.value="",lt.value="",y.value="",nt.value="",st.value="",Qa.value="",Q.value.forEach(z=>{z.roomType="",z.adults="",z.hasChildren=!1,z.numChildren="",z.accommodation="",z.valor=""}),Ne.value="",Ie.value="",Ke.value="",Ue.value="",da.value="",ta.value="",Je.value="",$e.value="",oa.value="",sa.value="",ft.value=!1,gt.value="",ma.value="",ga.value="",r.value="",i.value="",c.value="",b.value="",V.value="",H.value="",q.value=""},supplementChecked:ft,supplementValue:gt,dateRange:ra,adjustEndDate:Fa,endDateRules:Wa,totalAdultos:0,totalNi\u00F1os:0}},watch:{selectedDeparture:"fetchProgramName",destination:"fetchProgramName",noche:"fetchProgramName",hotel:"fetchProgramName",dateRange:"fetchProgramName",hotel(){this.fetchOptions()},horaLlegadaValue1(e){this.validarHora(e,this.horaSalidaValue1)},horaLlegadaValue2(e){this.validarHora(e,this.horaSalidaValue2)}},mounted(){this.dataUsuario()},methods:{async dataUsuario(){const e="https://backmultidestinos.onrender.com/user/";ne.get(e).then(a=>{const t=a.data.filter(n=>n.rol==="Asesor");this.dropdownOptions=t.map(n=>({label:n.nombreCompleto,value:n.id}))}).catch(a=>{console.error("Error al obtener los datos de usuario:",a)})},getStatusColor(e){switch(e){case"Pendiente":return"orange";case"Aprobado":return"green";case"Finalizado":return"red";default:return"grey"}},async fetchProgramName(){console.log("Iniciando fetchProgramName..."),this.autofillingProgramName=!0;try{this.paramsH.hotel=this.hotel,this.paramsH.destino=this.destination,this.paramsH.noches=this.noche.label,this.paramsH.pertenece=this.selectedDeparture,console.log("Enviando datos al servidor:",this.paramsH);const e=await ne.post("https://backmultidestinos.onrender.com/hoteles/buscarH",this.paramsH);console.log("Respuesta del servidor sobre el programa:",e),this.programNameOptions=e.data,console.log("Opciones de nombre de programa:",this.programNameOptions);let a=this.programNameOptions.filter(o=>{const u=o.FechaInicio!==null&&o.FechaFin!==null;return console.log(`Programa ${o.nombrePrograma} tiene fechas v\xE1lidas: ${u}`),u});console.log("Programas con fechas v\xE1lidas:",a);let l=new Date(this.dateRange[0]),t=new Date(this.dateRange[1]);if(console.log("Fecha de inicio seleccionada:",l),console.log("Fecha de fin seleccionada:",t),isNaN(l)||isNaN(t)){console.error("Error: Fecha inv\xE1lida en dateRange."),this.$q.notify({message:"Error: Fecha inv\xE1lida seleccionada.",color:"negative"});return}l.setHours(0,0,0,0),t.setHours(0,0,0,0),a=a.filter(o=>{let u=new Date(o.FechaInicio),h=new Date(o.FechaFin);if(isNaN(u)||isNaN(h))return console.error(`Error: Fecha inv\xE1lida en el programa ${o.nombrePrograma}.`),!1;u.setHours(0,0,0,0),h.setHours(0,0,0,0),console.log("Fecha de inicio del programa:",u),console.log("Fecha de fin del programa:",h);const T=u<=t&&h>=l;return console.log(`Programa ${o.nombrePrograma} coincide con las fechas: ${T}`),T}),console.log("Programas que coinciden con las fechas:",a),a=a.filter((o,u,h)=>u===h.findIndex(T=>T.nombrePrograma===o.nombrePrograma)),console.log("Programas coincidentes (sin duplicados y con fechas v\xE1lidas):",a),this.matchingPrograms=a,this.matchingPrograms.length===1?(this.programName=this.matchingPrograms[0].nombrePrograma,console.log("Nombre del programa seleccionado:",this.programName)):this.matchingPrograms.length>1?(this.matchingProgramOptions=this.matchingPrograms.map(o=>o.nombrePrograma),console.log("Opciones de programas coincidentes:",this.matchingProgramOptions)):(this.programName=null,console.log("No hay programas coincidentes."));const n=e.data.map(o=>o.tipoHabitacion),s=[...new Set(n)];console.log("Tipos de habitaci\xF3n \xFAnicos:",s),this.roomTypeOptions=s}catch(e){console.error("Error al obtener nombres de programa:",e)}finally{this.autofillingProgramName=!1}},validarHora(e,a){e&&a&&e<a&&this.$q.notify({message:"La hora de llegada no puede ser anterior a la hora de salida.",color:"negative",position:"top",timeout:2e3})},procesarLiquidacion(){this.cerrarModalPasajeros();const e=this.cotizacionSeleccionada.idCotizacion;ne.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`).then(a=>{const l=a.data;console.log("Datos de la cotizaci\xF3n desde la API:",l);const t={idCotizacion:this.cotizacionSeleccionada.idCotizacion,salida:this.cotizacionSeleccionada.salida,destino:this.cotizacionSeleccionada.destino,nombrePrograma:this.cotizacionSeleccionada.nombrePrograma,plan:this.cotizacionSeleccionada.plan,hotel:this.cotizacionSeleccionada.hotel,totalAdultos:this.cotizacionSeleccionada.totalAdultos,totalNinos:this.cotizacionSeleccionada.totalNinos,totalPasajeros:this.cotizacionSeleccionada.totalPasajeros,precioBrutoTotal:this.cotizacionSeleccionada.precioBrutoTotal.replace(/[^\d.-]/g,""),valorDescuento:this.cotizacionSeleccionada.valorDescuento,ivaValor:this.cotizacionSeleccionada.ivaValor,rteFuente:this.cotizacionSeleccionada.rteFuente,rteIca:this.cotizacionSeleccionada.rteIca,totalComision:this.cotizacionSeleccionada.totalComision,totalPrecioCliente:this.cotizacionSeleccionada.totalPrecioCliente.replace(/[^\d.-]/g,""),combus:this.cotizacionSeleccionada.combus,tasa:this.cotizacionSeleccionada.tasa,iva:this.cotizacionSeleccionada.iva,ta:this.cotizacionSeleccionada.ta,ivaTa:this.cotizacionSeleccionada.ivaTa,otros:this.cotizacionSeleccionada.otros,suplemento:this.cotizacionSeleccionada.suplemento,precioTrans:this.cotizacionSeleccionada.precioTrans,noches:this.cotizacionSeleccionada.noches,notas:this.cotizacionSeleccionada.notas,cliente:this.cotizacionSeleccionada.cliente,clientePorcentaje:this.cotizacionSeleccionada.clientePorcentaje,nochesAdicionales:this.cotizacionSeleccionada.nochesAdicionales,CreadorCotizacion:this.cotizacionSeleccionada.CreadorCotizacion,fechaCreacion:this.cotizacionSeleccionada.fechaCreacion,aerolineaIda:this.cotizacionSeleccionada.aerolineaIda,vueloIda:this.cotizacionSeleccionada.vueloIda,horaLlegadaIda:this.cotizacionSeleccionada.horaLlegadaIda,horaSalidaIda:this.cotizacionSeleccionada.horaSalidaIda,claseIda:this.cotizacionSeleccionada.claseIda,fechaInicio:this.cotizacionSeleccionada.fechaInicio,aerolineaVuelta:this.cotizacionSeleccionada.aerolineaVuelta,vueloVuelta:this.cotizacionSeleccionada.vueloVuelta,horaLlegadaVuelta:this.cotizacionSeleccionada.horaLlegadaVuelta,horaSalidaVuelta:this.cotizacionSeleccionada.horaSalidaVuelta,claseVuelta:this.cotizacionSeleccionada.claseVuelta,fechaFin:this.cotizacionSeleccionada.fechaFin,correo:this.cotizacionSeleccionada.correo,impuestosLiq:l[0].tieneImpuestos,extra:this.cotizacionSeleccionada.extra,transfer:this.cotizacionSeleccionada.transfer,incluye:this.cotizacionSeleccionada.incluye,noIncluye:this.cotizacionSeleccionada.noIncluye,status:"Pendiente",telefono:this.telefono||null,correoPasajero:this.correoPasajero||null};ne.post("https://backmultidestinos.onrender.com/liquidacion",t).then(n=>{const s=n.data.idLiquidacion;if(l[0].tieneImpuestos){const u={idLiquidacion:s,defensaCivil:l[0].defensaCivil_Total,cormacarena5a11:l[0].cormacarena5a11_Total,cormacarena12a65:l[0].cormacarena12a65_Total,cormacarenaExtranjero:l[0].cormacarenaExtranjero_Total,pqsNaturales5a24:l[0].pqsNaturales5a24_Total,pqsNaturales25a65:l[0].pqsNaturales25a65_Total,pqsNaturalesExtranjero:l[0].pqsNaturalesExtranjero_Total,alcaldiaNacional:l[0].alcaldiaNacional_Total,alcaldiaExtranjero:l[0].alcaldiaExtranjero_Total,cormacarena5a11Personas:l[0].cormacarena5a11_numeroPersonas,cormacarena12a65Personas:l[0].cormacarena12a65_numeroPersonas,cormacarenaExtranjeroPersonas:l[0].cormacarenaExtranjero_numeroPersonas,pqsNaturales5a24Personas:l[0].pqsNaturales5a24_numeroPersonas,pqsNaturales25a65Personas:l[0].pqsNaturales25a65_numeroPersonas,pqsNaturalesExtranjeroPersonas:l[0].pqsNaturalesExtranjero_numeroPersonas,alcaldiaNacionalPersonas:l[0].alcaldiaNacional_numeroPersonas,alcaldiaExtranjeroPersonas:l[0].alcaldiaExtranjero_numeroPersonas,defensaCivilPersonas:l[0].defensaCivil_numeroPersonas};ne.post("https://backmultidestinos.onrender.com/impuestosLiq",u).then(()=>{console.log("Impuestos creados exitosamente")}).catch(h=>{console.error("Error al crear los impuestos:",h)})}const o=this.pasajeros.map(u=>(u.idLiquidacion=s,ne.post("https://backmultidestinos.onrender.com/pasajero",u)));Promise.all(o).then(()=>{console.log("Liquidaci\xF3n y pasajeros creados exitosamente"),ne.post(`https://backmultidestinos.onrender.com/cotizacion/${e}`,{status:"Aprobado"}).then(()=>{console.log("Cotizaci\xF3n actualizada a 'Aprobado'")}).catch(u=>{console.error("Error al actualizar la cotizaci\xF3n:",u)})}).catch(u=>{console.error("Error al crear los pasajeros:",u)})}).catch(n=>{console.error("Error al crear la liquidaci\xF3n:",n)})}).catch(a=>{console.error("Error al obtener datos de la cotizaci\xF3n:",a)})},abrirModalPasajeros(e){this.cotizacionSeleccionada=e,this.totalPasajeros=e.totalPasajeros,this.pasajeros=[];for(let a=0;a<this.totalPasajeros;a++)this.pasajeros.push({nombre:"",tipoDocumento:"",numeroDocumento:"",fechaNacimiento:""});this.tieneTelefono=!1,this.telefono="",this.tieneNumero=!1,this.correoPasajero="",this.mostrarModalPasajeros=!0},cerrarModalPasajeros(){this.mostrarModalPasajeros=!1},async pasarALiquidacion(){console.log("Pasando cotizaci\xF3n a liquidaci\xF3n:",cotizacion)},filteredCotizacionData(){const e=this.selectedFilter,a=[...this.cotizacionData];return a.sort((l,t)=>{const n=l.idCotizacion,s=t.idCotizacion;if(n.includes("-C")&&!s.includes("-C"))return-1;if(!n.includes("-C")&&s.includes("-C"))return 1;const o=n.startsWith("COT-C")?parseInt(n.split("-C")[1],10):0,u=s.startsWith("COT-C")?parseInt(s.split("-C")[1],10):0;if(n.startsWith("COT-C")&&s.startsWith("COT-C"))return u-o;if(n.startsWith("COT-")&&s.startsWith("COT-")){const h=parseInt(n.split("-")[1],10);return parseInt(s.split("-")[1],10)-h}return 0}),a.filter(l=>{const t=e==="Todos"||e==="Cot-C"&&l.idCotizacion.includes("-C")||e==="Cot"&&!l.idCotizacion.includes("-C"),n=this.filterStatus===null||l.status===this.filterStatus;return t&&n})},customSort(e,a,l){const t=[...e];return a==="idCotizacion"?t.sort((n,s)=>{const[o,u]=n[a].split("-"),[h,T]=s[a].split("-");return o==="COT-"&&h==="COT-"?l?T-u:u-T:0}):a==="fechaCreacion"?t.sort((n,s)=>{const o=new Date(n[a]),u=new Date(s[a]);return l?u-o:o-u}):t.sort((n,s)=>{const o=l?s:n,u=l?n:s;return o[a]>u[a]?1:o[a]<u[a]?-1:0}),t},descargarCotizacionN(e){e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)},shouldHideAdditionalNightSection(){return this.destination==="Bah\xEDa Solano"&&this.programName==="Temporada Baja"&&this.hotel==="El Almejal Ecolodge"},mostrarDialogoSeleccionArchivo(){this.mostrarDialogo=!0},seleccionarArchivo(e){this.archivoSeleccionado=e.target.files[0]},async enviarCotizacion(e){try{const a=await(e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)),l=document.createElement("a");l.href=URL.createObjectURL(a),l.download=`cotizacion_${e.cliente}.pdf`,l.style.display="none",document.body.appendChild(l),l.click(),await new Promise(n=>setTimeout(n,1e3));const t=`mailto:${e.correo}?subject=Cotizaci\xF3n para ${e.cliente}&body=Estimado(a) ${e.cliente},%0D%0A%0D%0AAdjuntamos su cotizaci\xF3n (reci\xE9n descargada).%0D%0A%0D%0ASaludos cordiales,`;window.location.href=t,setTimeout(()=>{document.body.removeChild(l),URL.revokeObjectURL(l.href)},1e3),this.$q.notify({message:"Abriendo cliente de correo...",color:"info"})}catch(a){console.error(a),this.$q.notify({message:"Error al enviar la cotizaci\xF3n",color:"negative"})}},checkPageOverflow(e,a,l,t=10){const n=e.internal.pageSize.height;return a+l>n-t?(e.addPage(),margins.top):a},async descargarCotizacionCano(e){try{let ue=function(i){return i.map(c=>{const b=c.adultos,V=c.ni\u00F1os,H=`1x${b}`;return V>0?`${H} CHD`:H}).join(", ")},R=function(i){for(let c=0;c<=6;c++){const b=C.left+c*M;f.line(b,i,b,i+B)}f.line(C.left,i,X-C.right,i),f.line(C.left,i+B,X-C.right,i+B)};const[a,l,t]=await Promise.all([ne.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),ne.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`),ne.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${e}`)]);if(a.status!==200||l.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const n=l.data[0],s=t.data[0];console.log("impuesto",s);const o=a.data;console.log("habitacion",o);const u=await ne.get(`https://backmultidestinos.onrender.com/cliente/buscar/${n.cliente}`);console.log("clienteResponse",u);const h=u.data[0];console.log("clienteData",h);const T=h.tipoBase,p=await ne.get(`https://backmultidestinos.onrender.com/user/${n.CreadorCotizacion}`),x=p.Data;console.log("vendedor",p.data.nombreCompleto);const F={hotel:n.hotel,nombrePrograma:n.nombrePrograma,destino:n.destino},_=await ne.post("https://backmultidestinos.onrender.com/hoteles/buscar",F),v=_.data[0].incluye,g=_.data[0].noIncluye,f=new Wt,C={top:15,bottom:10,left:15,right:15},X=f.internal.pageSize.width,K=f.internal.pageSize.height,S=50,j={left:15,right:15,top:10,bottom:10},Ee=await new Promise((i,c)=>{const b=new Image;b.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",b.onload=()=>i(b),b.onerror=c}),ee=Ee.width/Ee.height,ie=X/4-j.left-j.right,Ve=Math.min(120,ie),Se=Ve/ee,ae=C.top+(S-Se)/2,de=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,A=`Numero de cotizaci\xF3n: ${e}`;f.addImage(Ee,"PNG",C.left+j.left,ae,Ve,Se);const U=X-C.left-C.right-Ve-j.left-j.right-20;f.setFontSize(10),f.setFont("Helvetica","normal"),f.text(f.splitTextToSize(de,U),C.left+Ve+j.left+j.right,C.top+15);const pe=X-C.right-f.getTextWidth(A)-j.right;f.setFontSize(14),f.setFont("Helvetica-Bold"),f.text(A,pe,C.top+15),f.setDrawColor(0),f.setLineWidth(.5),f.roundedRect(C.left,C.top,X-C.left-C.right,S,10,10,"S"),f.setFillColor(51,102,204),f.rect(C.left,C.top,X-C.left-C.right,S,"F"),f.setFontSize(10);const Te=C.top+S+10;f.setFontSize(10),f.text("SOLICITUD DE RESERVA:",C.left,Te-4),f.setFontSize(8);const O=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],we=[new Date(n.fechaCreacion).toLocaleDateString(),n.cliente.toString(),h.telefono?h.telefono.toString():"N/A",h.nit?h.nit.toString():"N/A",h.nit?h.nit.toString():"N/A",p.data.nombreCompleto?p.data.nombreCompleto.toString():"N/A"],Ae=6,P=(X-C.left-C.right)/Ae;let he=C.left,W=Te;for(let i=0;i<O.length;i++){f.text(O[i],he,W);const c=we[i]!==void 0?we[i]:"N/A",b=f.splitTextToSize(c,P-2);f.text(b,he,W+5),he+=P,((i+1)%Ae===0||i===O.length-1)&&(W+=15,he=C.left)}const ze=ue(o),I=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],y=[n.noches?n.noches.toString():"N/A",n.hotel?n.hotel.toString():"N/A",n.plan?n.plan.toString():"N/A",n.destino?n.destino.toString():"N/A",n.direccion?n.direccion.toString():"N/A",ze.toString()];console.log("campso2",y);const E=6,G=(X-C.left-C.right)/E;W+=1;for(let i=0;i<I.length;i++){f.text(I[i],he,W);const c=y[i]!==void 0?y[i]:"N/A",b=f.splitTextToSize(c,G-2);f.text(b,he,W+5),he+=G}W+=1,f.setFontSize(10),f.text("ITINERARIO: ",C.left,W+12),W+=20;const Q=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],Z=[[n.aerolineaIda||"N/A",n.vueloIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta1||"N/A",n.claseIda||"N/A",n.horaSalidaIda||"N/A",n.horaLlegadaIda||"N/A",n.recordIda||"N/A"]];n.aerolineaEscalaIda!=null&&(Z.push([n.aerolineaEscalaIda||"N/A",n.vueloEscalaIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",n.claseEscalaIda||"N/A",n.horaSalidaEscalaIda||"N/A",n.horaLlegadaEscalaIda||"N/A",""]),Z.push([n.aerolineaEscalaVuelta||"N/A",n.vueloEscalaVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",n.claseEscalaVuelta||"N/A",n.horaSalidaEscalaVuelta||"N/A",n.horaLlegadaEscalaVuelta||"N/A",""])),Z.push([n.aerolineaVuelta||"N/A",n.vueloVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta2||"N/A",n.claseVuelta||"N/A",n.horaSalidaVuelta||"N/A",n.horaLlegadaVuelta||"N/A",n.recordVuelta||"N/A"]);const fe=(X-C.left-C.right)/Q.length,Ce=X-C.left-C.right,Be=10+8*Z.length;f.rect(C.left,W,Ce,Be,"S"),f.setFontSize(8),Q.forEach((i,c)=>{f.text(i,C.left+c*fe,W+5)}),W+=10,Z.forEach((i,c)=>{i.forEach((b,V)=>{f.text(b,C.left+V*fe,W+c*8)})}),W+=Be+5;const Le="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Fe=W-10,je=30;f.setDrawColor(0),f.rect(C.left,Fe,X-C.left-C.right,je),f.setFontSize(12),f.text("OBSERVACIONES:",C.left+2,Fe+6),f.setFontSize(10),f.text(Le,C.left+2,Fe+15,{maxWidth:X-C.left-C.right-4});let qe=6;const Ye=W+25,We=v.split("\xBF"),De=6,Re=5;let Ze=0;We.forEach(i=>{Ze+=f.getTextDimensions(i.trim(),{fontSize:8,maxWidth:X-C.left-C.right-4}).h});const Xe=Ze+De+Re+10;f.setDrawColor(0),f.rect(C.left,Ye,X-C.left-C.right,Xe),f.setFontSize(12),f.text("INCLUYE:",C.left+2,Ye+6),f.setFontSize(8);let te=Ye+De+Re;We.forEach(i=>{f.text(i.trim(),C.left+2,te,{maxWidth:X-C.left-C.right-4}),te+=f.getTextDimensions(i.trim(),{fontSize:8,maxWidth:X-C.left-C.right-4}).h}),f.addPage(),W=C.top;const ve=12;f.setFontSize(10),f.text("LIQUIDACI\xD3N:",C.left,W),W+=5;const re=W+5,J=2,B=6,M=(X-C.left-C.right)/6;f.setDrawColor(0);let ca=0;f.setFontSize(7);let oe=0;o.forEach(i=>{const c=re+oe*B;R(c);const b=`Valor adul ${i.acomodacion}`;f.text(b,C.left+J,c+B/2,{baseline:"middle"});const V=Math.round(i.precioComisionableAdulto);f.text(V.toString(),C.left+M+J,c+B/2,{baseline:"middle"});const H=i.adultos;f.text(H.toString(),C.left+2*M+J,c+B/2,{baseline:"middle"});const q=Math.round(i.precioComisionableAdulto*i.adultos);if(f.text(q.toString(),C.left+3*M+J,c+B/2,{baseline:"middle"}),oe===0){f.setFontSize(6);const $=T==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";f.text($,C.left+4*M+J,c+B/2,{baseline:"middle"}),f.setFontSize(7)}let Y=q;if(i.ni\u00F1os>0&&(Y+=Math.round(i.precioComisionableNino*i.ni\u00F1os)),ca+=Y,oe++,i.ni\u00F1os>0){const $=re+oe*B;R($);const ke=`Valor child ${i.acomodacion}`;f.text(ke,C.left+J,$+B/2,{baseline:"middle"});const ia=Math.round(i.precioComisionableNino);f.text(ia.toString(),C.left+M+J,$+B/2,{baseline:"middle"});const Qe=i.ni\u00F1os;f.text(Qe.toString(),C.left+2*M+J,$+B/2,{baseline:"middle"});const ea=Math.round(i.precioComisionableNino*i.ni\u00F1os);f.text(ea.toString(),C.left+3*M+J,$+B/2,{baseline:"middle"}),oe++}}),f.text(ca.toString(),C.left+5*M+J,re+B/2,{baseline:"middle"}),W=re+oe*B+10;const He=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],me=[n.otros,n.combus,n.iva,n.tasa,n.ta,n.ivaTa,s.defensaCivil_Total,s.alcaldiaNacional_Total,s.alcaldiaExtranjero_Total,s.pqsNaturalesExtranjero_Total,s.pqsNaturales25a65_Total,s.pqsNaturales5a24_Total,s.cormacarenaExtranjero_Total,s.cormacarena5a11_Total,s.cormacarena12a65_Total,n.precioTrans],be=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],ye={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(n.suplemento>0&&(He.push("SUPLEMENTO"),me.push(n.suplemento)),n.extra1)if(n.extra1.includes("*")){let i=n.extra1.split("*"),c=i[0],b=i[1];He.push("Valor Extra","Valor Extra2"),me.push(c,b)}else{let i=n.extra1;He.push("Valor Extra"),me.push(i)}He.forEach((i,c)=>{const b=W+c*B;R(b);const V=ye[i]||i;f.text(V,C.left+J,b+B/2,{baseline:"middle"});const H=n.totalPasajeros,q=me[c]||0;let Y="";if(be.includes(i)){const Qe=`${i}_numeroPersonas`,ea=s[Qe]||0;Y=ea!==0?Math.trunc(q/ea):""}else Y=H!==0?Math.trunc(q/H):"";f.text(Y.toString(),C.left+M+J,b+B/2,{baseline:"middle"});const $=H!==0?Math.trunc(H).toString():"";let ke="";if(be.includes(i)){const Qe=`${i}_numeroPersonas`;ke=s[Qe]||""}else ke=$;f.text(ke,C.left+2*M+J,b+B/2,{baseline:"middle"});const ia=q!==0?Math.trunc(q).toString():"";if(f.text(ia,C.left+3*M+J,b+B/2,{baseline:"middle"}),i==="Q"){f.text("Porcentaje",C.left+4*M+J,b+B/2,{baseline:"middle"});const Qe=n.clientePorcentaje||0,ea=Math.trunc(Qe).toString()+"%";f.text(ea,C.left+5*M+J,b+B/2,{baseline:"middle"})}else if(i==="YS"){f.text("Valor Descuento",C.left+4*M+J,b+B/2,{baseline:"middle"});const Qe=n.valorDescuento||0,ea=Math.trunc(Qe).toString();f.text(ea,C.left+5*M+J,b+B/2,{baseline:"middle"}),T==="Comisi\xF3n"&&[{label:`IVA(${h.porcentajeIva}%) (-)`,value:n.ivaValor},{label:`RTE FUENTE(${h.rteFuente}%) (+)`,value:n.rteFuente},{label:`RTE ICA(${h.rteIca}%) (+)`,value:n.rteIca},{label:"Total Comisi\xF3n",value:n.totalComision}].forEach((Fa,qa)=>{const Wa=b+(qa+1)*B;R(Wa),f.text(Fa.label,C.left+4*M+J,Wa+B/2,{baseline:"middle"}),f.text(Fa.value.toString(),C.left+5*M+J,Wa+B/2,{baseline:"middle"})})}}),W+=He.length*B,o.forEach(i=>{if(i.adultos>0){const c=W;R(c),f.text(`Valor total Adt ${i.acomodacion}`,C.left+J,c+B/2,{baseline:"middle"});const b=i.precioHabitacionAdulto||0,V=Ca(b).format("$0,0");f.text(V,C.left+3*M+J,c+B/2,{baseline:"middle"}),W+=B}if(i.ni\u00F1os>0){const c=W;R(c),f.text(`Valor total Chd ${i.acomodacion}`,C.left+J,c+B/2,{baseline:"middle"});const b=i.precioHabitacionNino||0,V=Ca(b).format("$0,0");f.text(V,C.left+3*M+J,c+B/2,{baseline:"middle"}),W+=B}}),f.setFontSize(8),W+=B,R(W),f.text("Valor total",C.left+J,W+B/2,{baseline:"middle"});const Ne=n.precioBrutoTotal||0,Ge=Ca(Ne).format("$0,0");f.text(Ge,C.left+3*M+J,W+B/2,{baseline:"middle"}),f.text("Precio a pagar",C.left+4*M+J,W+B/2-2,{baseline:"middle"}),f.text("a Multidestinos",C.left+4*M+J,W+B/2+2,{baseline:"middle"});const Ie=parseFloat(n.suplemento)||0,Ue=parseFloat(n.totalPrecioCliente)||0,Ke=Ie>0?Ue+Ie:Ue,da=Ca(Ke).format("$0,0");f.text(da,C.left+5*M+J,W+B/2,{baseline:"middle"}),W+=B+10;const ta=C.left;let Je=W+5;const oa=190;let $e=30;f.setFontSize(7),f.setLineWidth(.5);const sa="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",ma=f.splitTextToSize(sa,oa-10);Je+$e>K-C.bottom&&(f.addPage(),W=C.top,Je=W+5),f.text("Deposito y Condiciones de Pago",ta+5,Je+3),f.setFontSize(6);const ga=5;$e=20+ma.length*ga,f.rect(ta,Je,oa,$e),ma.forEach((i,c)=>{f.text(i,ta+5,Je+10+c*ga)}),W+=$e+5;const r=f.output("blob");return f.save(`cotizacion_${e}.pdf`),r}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},async descargarCotizacion(e){try{let he=function(c){return c.map(b=>{const V=b.adultos,H=b.ni\u00F1os,q=`1x${V}`;return H>0?`${q} CHD`:q}).join(", ")},He=function(c){for(let b=0;b<=6;b++){const V=g.left+b*oe;v.line(V,c,V,c+R)}v.line(g.left,c,f-g.right,c),v.line(g.left,c+R,f-g.right,c+R)};const[a,l]=await Promise.all([ne.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),ne.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`)]);if(a.status!==200||l.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const t=l.data[0];console.log("cotizacion",t);const n=a.data;console.log("habitacion",n);const s=await ne.get(`https://backmultidestinos.onrender.com/cliente/buscar/${t.cliente}`);console.log("clienteResponse",s);const o=s.data[0];console.log("clienteData",o);const u=o.tipoBase,h=await ne.get(`https://backmultidestinos.onrender.com/user/${t.CreadorCotizacion}`),T=h.Data;console.log("vendedor",h.data.nombreCompleto);const p={hotel:t.hotel,nombrePrograma:t.nombrePrograma,destino:t.destino},x=await ne.post("https://backmultidestinos.onrender.com/hoteles/buscar",p),F=t.incluye?t.incluye:x.data[0].incluye,_=t.noIncluye?t.noIncluye:x.data[0].noIncluye,v=new Wt,g={top:10,bottom:10,left:10,right:10},f=v.internal.pageSize.width,C=v.internal.pageSize.height,X=40,K={left:10,right:10,top:5,bottom:5},S=await new Promise((c,b)=>{const V=new Image;V.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",V.onload=()=>c(V),V.onerror=b}),j=S.width/S.height,Ee=f/4-K.left-K.right,ee=Math.min(100,Ee),ie=ee/j,Ve=g.top+(X-ie)/2,Se=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,ae=`Numero de cotizaci\xF3n: ${e}`;v.addImage(S,"PNG",g.left+K.left,Ve,ee,ie);const de=f-g.left-g.right-ee-K.left-K.right-10;v.setFontSize(10),v.text(v.splitTextToSize(Se,de),g.left+ee+K.left+K.right,g.top+10);const A=f-g.right-v.getTextWidth(ae)-K.right;v.setFontSize(12),v.setFont("Helvetica-Bold",12),v.text(ae,A,g.top+10),v.setDrawColor(0),v.rect(g.left,g.top,f-g.left-g.right,X,"S"),v.setFontSize(10);const U=g.top+X+10;v.setFontSize(10),v.text("SOLICITUD DE RESERVA:",g.left,U-4),v.setFontSize(8);const pe=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],Te=[new Date(new Date(t.fechaCreacion).getTime()+new Date(t.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),t.cliente.toString(),o.telefono?o.telefono.toString():"N/A","N/A",o.nit?o.nit.toString():"N/A",h.data.nombreCompleto?h.data.nombreCompleto.toString():"N/A"],O=6,we=(f-g.left-g.right)/O;let Ae=g.left,P=U;for(let c=0;c<pe.length;c++){v.text(pe[c],Ae,P);const b=Te[c]!==void 0?Te[c]:"N/A",V=v.splitTextToSize(b,we-2);v.text(V,Ae,P+5),Ae+=we,((c+1)%O===0||c===pe.length-1)&&(P+=15,Ae=g.left)}const W=he(n),ue=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],ze=[t.noches?t.noches.toString():"N/A",t.hotel?t.hotel.toString():"N/A",t.plan?t.plan.toString():"N/A",t.destino?t.destino.toString():"N/A",t.direccion?t.direccion.toString():"N/A",W.toString()];console.log("campso2",ze);const I=6,y=(f-g.left-g.right)/I;P+=1;for(let c=0;c<ue.length;c++){v.text(ue[c],Ae,P);const b=ze[c]!==void 0?ze[c]:"N/A",V=v.splitTextToSize(b,y-2);v.text(V,Ae,P+5),Ae+=y}P+=22,v.setFontSize(10),v.text("ITINERARIO: ",g.left,P-10);const E=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],G=[[t.aerolineaIda||"N/A",t.vueloIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta1||"N/A",t.claseIda||"N/A",t.horaSalidaIda||"N/A",t.horaLlegadaIda||"N/A",t.recordIda||"N/A"]];t.aerolineaEscalaIda!=null&&(G.push([t.aerolineaEscalaIda||"N/A",t.vueloEscalaIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",t.claseEscalaIda||"N/A",t.horaSalidaEscalaIda||"N/A",t.horaLlegadaEscalaIda||"N/A",""]),G.push([t.aerolineaEscalaVuelta||"N/A",t.vueloEscalaVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",t.claseEscalaVuelta||"N/A",t.horaSalidaEscalaVuelta||"N/A",t.horaLlegadaEscalaVuelta||"N/A",""])),G.push([t.aerolineaVuelta||"N/A",t.vueloVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta2||"N/A",t.claseVuelta||"N/A",t.horaSalidaVuelta||"N/A",t.horaLlegadaVuelta||"N/A",t.recordVuelta||"N/A"]);const Q=(f-g.left-g.right)/E.length,Z=f-g.left-g.right,fe=12+8*G.length;P+=5,v.rect(g.left,P-5,Z,fe,"S"),v.setFontSize(8),E.forEach((c,b)=>{v.text(c,g.left+b*Q,P)}),P+=5,G.forEach((c,b)=>{c.forEach((V,H)=>{v.text(V,g.left+H*Q,P+(b+1)*8)})}),P+=fe-5;const Ce="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Be=P+10,Le=30;v.setDrawColor(0),v.rect(g.left,Be,f-g.left-g.right,Le),v.setFontSize(12),v.text("OBSERVACIONES:",g.left+2,Be+6),v.setFontSize(10),v.text(Ce,g.left+2,Be+15,{maxWidth:f-g.left-g.right-4});let Fe=6;const je=P+50,qe=F.split("\xBF"),Ye=6,We=5;let De=0;qe.forEach(c=>{De+=v.getTextDimensions(c.trim(),{fontSize:8,maxWidth:f-g.left-g.right-4}).h});const Re=De+Ye+We+10;v.setDrawColor(0),v.rect(g.left,je,f-g.left-g.right,Re),v.setFontSize(12),v.text("INCLUYE:",g.left+2,je+6),v.setFontSize(8);let Ze=je+Ye+We;qe.forEach(c=>{v.text(c.trim(),g.left+2,Ze,{maxWidth:f-g.left-g.right-4}),Ze+=v.getTextDimensions(c.trim(),{fontSize:8,maxWidth:f-g.left-g.right-4}).h}),v.addPage(),P=g.top;const Xe=12,te=P+5,ve=_.split(`
`).flatMap(c=>c.split("\xBF").map(b=>b.trim()));v.setDrawColor(0),v.rect(g.left,te,f-g.left-g.right,0),v.setFont("helvetica"),v.setFontSize(10),v.setTextColor(0),v.text("NO INCLUYE:",g.left+2,te+6),v.setFontSize(8),Fe=3;let re=te+Xe,J=!1;ve.forEach((c,b)=>{if(c==="")return;const V=J?Fe/3:Fe,H=re+V;v.text(c,g.left+10,H,{maxWidth:f-g.left-g.right-10}),re=H+Fe,J=c.endsWith("\xBF")});const B=re-te;v.rect(g.left,te,f-g.left-g.right,B),P=re+15,v.setFontSize(10),v.text("LIQUIDACI\xD3N:",g.left,P),P+=5;const _e=P+5,M=2,R=6,oe=(f-g.left-g.right)/6;v.setDrawColor(0);let me=0;v.setFontSize(7);let be=0;n.forEach(c=>{const b=_e+be*R;He(b);const V=`Valor adul ${c.acomodacion}`;v.text(V,g.left+M,b+R/2,{baseline:"middle"});const H=Math.round(c.precioComisionableAdulto);v.text(H.toString(),g.left+oe+M,b+R/2,{baseline:"middle"});const q=c.adultos;v.text(q.toString(),g.left+2*oe+M,b+R/2,{baseline:"middle"});const Y=Math.round(c.precioComisionableAdulto*c.adultos);if(v.text(Y.toString(),g.left+3*oe+M,b+R/2,{baseline:"middle"}),be===0){v.setFontSize(6);const ke=u==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";v.text(ke,g.left+4*oe+M,b+R/2,{baseline:"middle"}),v.setFontSize(7)}let $=Y;if(c.ni\u00F1os>0&&($+=Math.round(c.precioComisionableNino*c.ni\u00F1os)),me+=$,be++,c.ni\u00F1os>0){const ke=_e+be*R;He(ke);const ia=`Valor child ${c.acomodacion}`;v.text(ia,g.left+M,ke+R/2,{baseline:"middle"});const Qe=Math.round(c.precioComisionableNino);v.text(Qe.toString(),g.left+oe+M,ke+R/2,{baseline:"middle"});const ea=c.ni\u00F1os;v.text(ea.toString(),g.left+2*oe+M,ke+R/2,{baseline:"middle"});const ra=Math.round(c.precioComisionableNino*c.ni\u00F1os);v.text(ra.toString(),g.left+3*oe+M,ke+R/2,{baseline:"middle"}),be++}}),v.text(me.toString(),g.left+5*oe+M,_e+R/2,{baseline:"middle"}),P=_e+be*R+10;const ye=["TRANSPORTE NO COMISI","Q","YS","CO","TA","YS TA","TOTAL IMPUESTOS"],Ne=[t.otros,t.combus,t.iva,t.tasa,t.ta,t.ivaTa,t.precioTrans];if(t.suplemento>0&&(ye.push("SUPLEMENTO"),Ne.push(t.suplemento)),t.extra1)if(t.extra1.includes("*")){let c=t.extra1.split("*"),b=c[0],V=c[1];ye.push("Valor Extra","Valor Extra2"),Ne.push(b,V)}else{let c=t.extra1;ye.push("Valor Extra"),Ne.push(c)}ye.forEach((c,b)=>{const V=P+b*R;He(V),v.text(c,g.left+M,V+R/2,{baseline:"middle"});const H=t.totalPasajeros,q=Ne[b]||0,Y=H!==0?Math.trunc(q/H):"";v.text(Y.toString(),g.left+oe+M,V+R/2,{baseline:"middle"});const $=H!==0?Math.trunc(H).toString():"";v.text($,g.left+2*oe+M,V+R/2,{baseline:"middle"});const ke=q!==0?Math.trunc(q).toString():"";if(v.text(ke,g.left+3*oe+M,V+R/2,{baseline:"middle"}),c==="Q"){v.text("Porcentaje",g.left+4*oe+M,V+R/2,{baseline:"middle"});const ia=t.clientePorcentaje||0,Qe=Math.trunc(ia).toString()+"%";v.text(Qe,g.left+5*oe+M,V+R/2,{baseline:"middle"})}else if(c==="YS"){v.text("Valor Descuento",g.left+4*oe+M,V+R/2,{baseline:"middle"});const ia=t.valorDescuento||0,Qe=Math.trunc(ia).toString();v.text(Qe,g.left+5*oe+M,V+R/2,{baseline:"middle"}),u==="Comisi\xF3n"&&[{label:`IVA(${o.porcentajeIva}%) (-)`,value:t.ivaValor},{label:`RTE FUENTE(${o.rteFuente}%) (+)`,value:t.rteFuente},{label:`RTE ICA(${o.rteIca}%) (+)`,value:t.rteIca},{label:"Total Comisi\xF3n",value:t.totalComision}].forEach((ra,Fa)=>{const qa=V+(Fa+1)*R;He(qa),v.text(ra.label,g.left+4*oe+M,qa+R/2,{baseline:"middle"}),v.text(ra.value.toString(),g.left+5*oe+M,qa+R/2,{baseline:"middle"})})}}),P+=ye.length*R,n.forEach(c=>{if(c.adultos>0){const b=P;He(b),v.text(`Valor total Adt ${c.acomodacion}`,g.left+M,b+R/2,{baseline:"middle"});const V=c.precioHabitacionAdulto||0,H=Ca(V).format("$0,0");v.text(H,g.left+3*oe+M,b+R/2,{baseline:"middle"}),P+=R}if(c.ni\u00F1os>0){const b=P;He(b),v.text(`Valor total Chd ${c.acomodacion}`,g.left+M,b+R/2,{baseline:"middle"});const V=c.precioHabitacionNino||0,H=Ca(V).format("$0,0");v.text(H,g.left+3*oe+M,b+R/2,{baseline:"middle"}),P+=R}}),v.setFontSize(8),P+=R,He(P),v.text("Valor total",g.left+M,P+R/2,{baseline:"middle"});const Ge=t.precioBrutoTotal||0,Ie=Ca(Ge).format("$0,0");v.text(Ie,g.left+3*oe+M,P+R/2,{baseline:"middle"}),v.text("Precio a pagar",g.left+4*oe+M,P+R/2-2,{baseline:"middle"}),v.text("a Multidestinos",g.left+4*oe+M,P+R/2+2,{baseline:"middle"});const Ue=0,Ke=parseFloat(t.totalPrecioCliente)||0,da=Ue>0?Ke+Ue:Ke,ta=Ca(da).format("$0,0");v.text(ta,g.left+5*oe+M,P+R/2,{baseline:"middle"}),P+=R+10;const Je=g.left;let oa=P+5;const $e=190;let sa=30;v.setFontSize(7),v.setLineWidth(.5),v.setFontSize(6);const ma=5,ga="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",r=v.splitTextToSize(ga,$e-10);sa=20+r.length*ma,oa+sa>C-g.bottom&&(v.addPage(),P=g.top),oa=P,v.rect(Je,P,$e,sa),v.text("Deposito y Condiciones de Pago",Je+5,oa+3),r.forEach((c,b)=>{v.text(c,Je+5,oa+10+b*ma)}),P+=sa+5;const i=v.output("blob");return v.save(`cotizacion_${e}.pdf`),i}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},handleChildrenChange(e){this.rooms[e].numChildren=this.hasChildren[e]?1:0},async fetchCotizacionData(){try{const e=await ne.get("https://backmultidestinos.onrender.com/cotizacion");this.cotizacionData=e.data}catch(e){console.error("Error fetching cotizacion data:",e)}},async fetchClientOptions(){try{console.log("Obteniendo opciones de clientes...");const e=await ne.get("https://backmultidestinos.onrender.com/cliente");console.log("Opciones de clientes nombre:",e.data.nombre);const a=e.data.map(l=>l.nombre);console.log("Opciones de clientes:",a),this.clientOptions=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptionCorreo(){this.correo="",this.OptionCorreo=[];try{const a=(await ne.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`)).data.flatMap(l=>l.correo.split(","));this.OptionCorreo=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptions(){try{console.log("Realizando solicitud HTTP para cargar opciones..."),console.log("Salida seleccionada:",this.selectedDeparture);const e=await ne.get(`https://backmultidestinos.onrender.com/planes/porCiudad/${this.selectedDeparture}`);console.log("Respuesta del servidor:",e.data);const a={},l={};e.data.forEach(n=>{const s=n.destino;a[s]||(a[s]={programNameOptions:[],hotelOptions:[],nochesOptions:[],accommodationOptions:[]},l[s]={nochesOptions:[]}),a[s].programNameOptions.push(n.nombrePrograma),a[s].hotelOptions.push(...n.hotel.split("*")),a[s].nochesOptions.push(...n.noches.split("*")),a[s].accommodationOptions.push(...n.acomodacion.split("*")),l[s].nochesOptions.push(...n.noches.split("*"))}),this.optionsByDestination=a,this.originalOptionsByDestination=l;const t=e.data.map(n=>n.destino);this.destinationOptions=[...new Set(t)]}catch(e){console.error("Error al cargar opciones:",e)}},updateOptionsByDestination(e){const a=this.optionsByDestination[e];a?(this.programNameOptions=[...new Set(a.programNameOptions)],this.hotelOptions=[...new Set(a.hotelOptions)],this.accommodationOptions=[...new Set(a.accommodationOptions)],this.nochesOptions=[...new Set(a.nochesOptions)].map(l=>({label:l,value:parseInt(l.split(" ")[0])})),this.programName=null,this.noche=null,this.hotel=null):(this.programNameOptions=[],this.hotelOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.programName=null,this.noche=null,this.hotel=null)},buscarTiposDeHabitacion(){ne.post("https://backmultidestinos.onrender.com/hoteles/buscar",this.params).then(e=>{const a=e.data.map(t=>t.tipoDeHabitacion),l=[...new Set(a)];this.tipoDeHabitacionOptions=l}).catch(e=>{console.error("Error al buscar hoteles:",e)})},handleDepartureChange(){this.clearFieldsc(),this.destinationOptions=[],this.programNameOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.OptionCorreo=[],this.hotelOptions=[],this.roomTypeOptions=[],console.log("Cambio en la selecci\xF3n de salida. Cargando opciones..."),this.fetchOptions(),this.fetchClientOptions()},handleSelectionChangeTipo(e){e.value,this.paramsN.hotel=this.hotel,this.paramsN.nombrePrograma=this.programName,this.paramsN.destino=this.destination,this.paramsN.noches=this.noche.label,this.paramsN.pertenece=this.selectedDeparture,console.log("noche escogida",this.noche.label),console.log(this.paramsN),ne.post("https://backmultidestinos.onrender.com/hoteles/buscarN",this.paramsN).then(a=>{console.log("hola",a.data);const l=a.data.map(n=>n.tipoHabitacion),t=[...new Set(l)];console.log(t),this.roomTypeOptions=t}).catch(a=>{console.error("Error al buscar hoteles:",a)})},openModalPersonalizado(){this.modalVisiblePersonalizado=!0},openModal(){this.modalVisible=!0},closeModalPersonalizado(){this.modalVisiblePersonalizado=!1,this.clearFieldsPersonalizado()},closeModal(){this.modalVisible=!1,this.clearFields()},resetVariables(){this.aerolineaEscalaIda="",this.vueloEscalaIda="",this.horaLlegadaEscalaIda="",this.horaSalidaEscalaIda="",this.claseEscalaIda="",this.aerolineaEscalaVuelta="",this.vueloEscalaVuelta="",this.horaLlegadaEscalaVuelta="",this.horaSalidaEscalaVuelta="",this.claseEscalaVuelta="",this.aerolineaValue1="",this.vueloValue1="",this.aerolineaValue2="",this.vueloValue2="",this.horaSalidaValue1="",this.horaLlegadaValue1="",this.horaSalidaValue2="",this.horaLlegadaValue2="",this.claseValue1="",this.claseValue2="",this.totalAdultos=0,this.totalNi\u00F1os=0,this.hasChildren=[],this.additionalNightSelected=!1,this.additionalNightCount=0,this.habitacionesDatos=[],this.totalImpuestos=0,this.sumaTotalAcomodacion=0,this.sumaValorBrutohab=0,this.sumaTotalDescuento=0,this.childrenPriceNumber=0,this.cormacarena5a11Total=0,this.cormacarena12a65Total=0,this.cormacarenaExtranjeroTotal=0,this.pqsNaturales5a24Total=0,this.pqsNaturales25a65Total=0,this.pqsNaturalesExtranjeroTotal=0,this.alcaldiaNacionalTotal=0,this.alcaldiaExtranjeroTotal=0,this.defensaCivilTotal=0,this.cormacarena5a11Personas=0,this.cormacarena12a65Personas=0,this.cormacarenaExtranjeroPersonas=0,this.pqsNaturales5a24Personas=0,this.pqsNaturales25a65Personas=0,this.pqsNaturalesExtranjeroPersonas=0,this.alcaldiaNacionalPersonas=0,this.alcaldiaExtranjeroPersonas=0,this.defensaCivilPersonas=0},async obtenerInformacionTiquete(e,a){try{const l=await ne.get(`https://backmultidestinos.onrender.com/tiquete/buscar/${e}/${a}`);return console.log("Informaci\xF3n del tiquete:",l.data),l.data}catch(l){throw console.error("Error al obtener la informaci\xF3n del tiquete:",l),l}},async saveFormData(){var T,p,x,F,_,v;if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,l=0,t=0,n=0,s=0,o=0;const h=(await ne.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",h);try{const g=await ne.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",g);let f=null,C=null,X=null,K=null,S=null;g.data.forEach(I=>{I.nombre===this.selectedClient&&(f=this.programName==="Ca\xF1o Cristales"?parseFloat(I.lmc):parseFloat(I.demas),C=I.tipoBase,X=I.rteFuente,K=I.rteIca,S=I.porcentajeIva)}),console.log("clientePorcentaje",f),console.log("clienteTipoBase",C),console.log("rteFuente",X),console.log("rteIca",K),console.log("ivaValor",S);const j=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",j);const Ee=j[0].total,ee=parseFloat(Ee);console.log("tiquete",Ee),console.log("tiqueteNum",ee);let ie=0;if(this.supplementValues)for(let I=0;I<this.supplementValues.length;I++)this.supplementValues[I]&&(console.log("persona",[I],this.supplementValues[I]),ie+=parseFloat(this.supplementValues[I])-ee),console.log("Total suplemento",[I],ie);console.log("Valor del suplemento:",ie);const Ve=[];this.rooms.forEach((I,y)=>{const E={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:I.roomType,noches:this.noche.value};Ve.push(E)}),console.log("edades",Ve);try{const I=await Promise.all(Ve.map(Z=>ne.post("https://backmultidestinos.onrender.com/hoteles/buscarT",Z)));console.log("preciosResponseArray",I),console.log("preciosResponseArray data",I.data);const y=[];I.forEach(Z=>{Z.data.length>0?y.push(...Z.data):console.log("No se encontraron datos en esta respuesta")}),console.log(y),this.plan=y[0].plan;const E={pertenece:this.selectedDeparture,destino:this.destination};(await ne.get("https://backmultidestinos.onrender.com/transporte/buscar",{params:E})).data.forEach(Z=>{e+=parseFloat(Z.combus)||0,a+=parseFloat(Z.tasa)||0,l+=parseFloat(Z.iva)||0,t+=parseFloat(Z.ta)||0,n+=parseFloat(Z.ivaTa)||0,s+=parseFloat(Z.otros)||0,o+=parseFloat(Z.total)||0}),console.log("precioTrans",o);let Q=0;this.rooms.forEach(async(Z,fe)=>{console.log(`Procesando habitaci\xF3n ${fe+1}`);const Ce=Z.accommodation,Be=Z.roomType;console.log(`Tipo de habitaci\xF3n seleccionado: ${Be}`);const Le=y.find(Fe=>Fe.tipoHabitacion===Be);if(console.log("Datos de precio encontrados:",Le),Le){const Fe=Le[Ce];console.log(`la acomodacio es: ${Ce}`),console.log(`Precio de la acomodaci\xF3n: ${Fe}`),Z.accommodationPrice=Fe;let je=0,qe=0;this.hasChildren[fe]&&(Q=Le.ni\u00F1o,console.log("childrenPrice",Q),this.childrenPriceNumber=parseFloat(Q.replace(/\./g,"")),je+=Q),console.log("childrenPriceNumber1",this.childrenPriceNumber);let Ye=0,We=0;if(this.additionalNightSelected&&this.additionalNightCount>0){const ye=parseFloat(Le[`nocheAdicional${Ce}`].replace(/\./g,""));console.log("additionalNightPriceAdulto",ye);const Ne=this.additionalNightCount;if(console.log("nochesAdicionales",Ne),Ye=ye*this.additionalNightCount,console.log("additionalNightTotalPriceAdulto",Ye),je+=Ye,this.hasChildren[fe]){const Ge=parseFloat(Le.nocheAdicionalni\u00F1o.replace(/\./g,""));console.log("additionalNightPriceNi\xF1o",Ge),We=Ge*this.additionalNightCount*Z.numChildren,console.log("additionalNightTotalPriceNi\xF1o",We),je+=We}}const De=parseFloat(Fe.replace(/\./g,""));console.log("accommodationPriceNumber",De),console.log("precioTrans",o);const Re=De-o+(this.additionalNightSelected?Ye:0);this.ValorComisionableNi\u00F1os=0;let Ze=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[fe]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-o+We,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(f/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",Re),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Xe=Re-Re*(f/100);console.log("ValorClienteAdulto",Xe),console.log("ValorClienteNi\xF1o",Ze);const te=Xe+Ze;console.log("ValorCliente",te);const ve=Z.adults,re=this.hasChildren[fe]?Z.numChildren:0,J=De*ve,B=(this.childrenPriceNumber?this.childrenPriceNumber:0)*re;let _e=J+B;console.log("valorBrutoAdulto",J),console.log("valorBrutoni\xF1o",B),console.log("valorBrutoTotal",_e),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${fe+1}: ${ve}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${fe+1}: ${re}`);const M=Xe*ve;console.log("TotalAcomodacionAdulto",M);let R=this.ValorClienteNi\u00F1o*re;console.log("TotalAcomodacionNi\xF1o",R),(R===null||isNaN(R))&&(R=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",R);let ca=R+M;console.log("TotalAcomodacion",ca),this.totalAdultos+=parseInt(ve),this.totalNi\u00F1os+=re;const oe=Re*ve+this.ValorComisionableNi\u00F1os*re,He=oe*(f/100);console.log("descuento",He),console.log("Valorporcentaje",oe);let me={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},be={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",Z),Z.adultAges.length>0&&this.destination==="La Macarena")for(let ye=0;ye<Z.adultAges.length;ye++){const Ne=Z.adultAges[ye],Ge=Z.isForeigner[ye];console.log(`Calculando impuestos para la persona ${ye+1} (edad: ${Ne}, extranjero: ${Ge})`);for(const Ie of h){const Ue=Ie.IMPUESTO;console.log(`Impuesto actual: ${Ue}`),Ue==="cormacarena"?Ge?(me.cormacarenaExtranjero+=parseFloat(Ie.EXTRANJERO)||0,be.cormacarenaExtranjero++):Ne>=5&&Ne<=11?(me.cormacarena5a11+=parseFloat(Ie["5 a 11 a\xF1os"])||0,be.cormacarena5a11++):Ne>=12&&Ne<=65&&(me.cormacarena12a65+=parseFloat(Ie["12 a 65 a\xF1os"])||0,be.cormacarena12a65++):Ue==="pqsNaturales"?Ge?(me.pqsNaturalesExtranjero+=parseFloat(Ie.EXTRANJERO)||0,be.pqsNaturalesExtranjero++):Ne>=5&&Ne<=24?(me.pqsNaturales5a24+=parseFloat(Ie["5 a 24 a\xF1os"])||0,be.pqsNaturales5a24++):Ne>=25&&Ne<=65&&(me.pqsNaturales25a65+=parseFloat(Ie["25 a 65 a\xF1os"])||0,be.pqsNaturales25a65++):Ue==="alcaldia"?Ge?(me.alcaldiaExtranjero+=parseFloat(Ie.EXTRANJERO)||0,be.alcaldiaExtranjero++):Ne>=5&&Ne<=1e3&&(me.alcaldiaNacional+=parseFloat(Ie["12 a 65 a\xF1os"])||0,be.alcaldiaNacional++):Ue==="defensaCivil"&&(me.defensaCivil+=parseFloat(Ie["5 a 11 a\xF1os"])||0,be.defensaCivil++),console.log(`   Impuesto ${Ue} (acumulado): ${me[Ue]}`)}}console.log("Impuestos totales por habitaci\xF3n:",me);for(const ye in me)me[ye]===0&&(me[ye]=null);console.log("Impuestos calculados para la habitaci\xF3n:",me),console.log("N\xFAmero de personas por impuesto:",be),this.habitacionesDatos.push({idCotizacion:"",adultos:ve,ni\u00F1os:re,acomodacion:Ce,tipoHabitacion:Be,precioFlayerAdulto:De,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:B,precioHabitacionAdulto:J,precioHabitacionTotal:_e,precioComisionableAdulto:Re,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Xe,valorDescuentoCliente:te,descuento:He,TotalAcomodacionAdulto:M,TotalAcomodacionNino:R,TotalAcomodacion:ca,edadesAdultos:Z.adultAges.filter(ye=>ye!==null).join(","),edadNino:Z.childAge!==null?Z.childAge:null,extranjero:Z.isForeigner.map(ye=>ye?"SI":"NO").join(","),defensaCivil:me.defensaCivil,defensaCivilPersonas:be.defensaCivil,alcaldiaNacional:me.alcaldiaNacional,alcaldiaNacionalPersonas:be.alcaldiaNacional,alcaldiaExtranjero:me.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:be.alcaldiaExtranjero,pqsNaturalesExtranjero:me.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:be.pqsNaturalesExtranjero,pqsNaturales25a65:me.pqsNaturales25a65,pqsNaturales25a65Personas:be.pqsNaturales25a65,pqsNaturales5a24:me.pqsNaturales5a24,pqsNaturales5a24Personas:be.pqsNaturales5a24,cormacarenaExtranjero:me.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:be.cormacarenaExtranjero,cormacarena5a11:me.cormacarena5a11,cormacarena5a11Personas:be.cormacarena5a11,cormacarena12a65:me.cormacarena12a65,cormacarena12a65Personas:be.cormacarena12a65})}else console.log("No se encontraron datos de precio para esta habitaci\xF3n")})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(I=>{this.sumaTotalAcomodacion+=I.TotalAcomodacion,this.sumaValorBrutohab+=I.precioHabitacionTotal,this.sumaTotalDescuento+=I.descuento,this.cormacarena5a11Total+=I.cormacarena5a11||0,this.cormacarena12a65Total+=I.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=I.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=I.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=I.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=I.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=I.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=I.alcaldiaExtranjero||0,this.defensaCivilTotal+=I.defensaCivil||0,this.cormacarena5a11Personas+=I.cormacarena5a11Personas,this.cormacarena12a65Personas+=I.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=I.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=I.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=I.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=I.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=I.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=I.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=I.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=ie,this.sumaTotalAcomodacion+=ie,console.log("valor de sumaValorBrutohab antes de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion antes de extras",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=(x=(p=(T=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?T:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?p:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?x:0,this.sumaTotalAcomodacion+=(v=(_=(F=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?F:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?_:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?v:0,console.log("valor de sumaValorBrutohab despues de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion despues de extras",this.sumaTotalAcomodacion),console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let Se=null,ae=null,de=null,A=null;C==="Comisi\xF3n"&&(console.log("si es comison"),this.total,A=this.sumaTotalDescuento,S!==null&&S!==0&&(ae=Math.round(this.sumaTotalDescuento*(S/100)),this.ivaCalculado=ae,A+=ae),X!==null&&X!==0&&(Se=Math.round(this.sumaTotalDescuento*(X/100)),this.rteFuenteCalculado=Se,A-=Se),K!==null&&K!==0&&(de=Math.round(this.sumaTotalDescuento*(K/100)),this.rteIcaCalculado=de,A-=de)),console.log("this.ivaCalculado",ae),console.log("this.rteFuenteCalculado",Se),console.log("this.rteIcaCalculado",de),console.log("this.totalComision",A);const U=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",U),e*=U,a*=U,l*=U,t*=U,n*=U,s*=U,o*=U,this.sumaTotalAcomodacion+=o,console.log("combus",e),console.log("precioTrans",o),C==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-A);const pe=new Date;pe.setHours(0,0,0,0),console.log(pe.toISOString().split("T")[0]);const Te=vt.getItem("userData");console.log(Te);let O=parseInt(this.noche.value),we=parseInt(O)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",O),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",we);const Ae=this.numExtraValues===0?null:[this.extraValue1,this.extraValue2].filter(I=>I!==null&&I!=="").join(this.numExtraValues===2?"*":"");console.log("extraValue1",this.extraValue1),console.log("extraValuesString",Ae),this.programName!=="Ca\xF1o Cristales"?this.tieneImpuestos=!1:this.tieneImpuestos=!0;const P={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:we,plan:this.plan,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:U,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:l,ta:t,ivaTa:n,otros:s,precioTrans:o,suplemento:ie,cliente:this.selectedClient,clientePorcentaje:f,CreadorCotizacion:Te.id,fechaCreacion:pe.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:Se,ivaValor:ae,rteIca:de,totalComision:A,correo:this.correo,transfer:this.transferInOutValue||null,asesorExterno:this.selectedUser.value||null,extra1:Ae||null,incluye:null,noIncluye:null,status:"pendiente",tieneImpuestos:this.tieneImpuestos};console.log("formData",P);const he=await ne.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",P);he.data.success&&(console.log("mirar el numero",he.data.success),console.log("mirar el numero1",he.data.idCotizacion),this.idCotizacion=he.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",he.data),console.log("idCotizacion1",this.idCotizacion);const W={idCotizacion:this.idCotizacion,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas};if(this.programName=="Ca\xF1o Cristales"){const I=await ne.post("https://backmultidestinos.onrender.com/ImpuestoCot",W)}const ue=this.habitacionesDatos.map(async I=>{I.idCotizacion=this.idCotizacion;const y=await ne.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",I);return console.log("Respuesta de la habitaci\xF3n:",y.data),y.data}),ze=await Promise.all(ue);console.log("Respuestas de todas las habitaciones:",ze),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.resetVariables(),this.closeModal()}catch(g){console.error("Error al guardar la cotizaci\xF3n:",g),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}},async saveFormDataPersonalizado(){if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,l=0,t=0,n=0,s=0,o=0;const h=(await ne.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",h);try{const T=await ne.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",T);let p=null,x=null,F=null,_=null,v=null;T.data.forEach(O=>{O.nombre===this.selectedClient&&(p=this.programName==="Ca\xF1o Cristales"?parseFloat(O.lmc):parseFloat(O.demas),x=O.tipoBase,F=O.rteFuente,_=O.rteIca,v=O.porcentajeIva)}),console.log("clientePorcentaje",p),console.log("clienteTipoBase",x),console.log("rteFuente",F),console.log("rteIca",_),console.log("ivaValor",v);const g=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",g);const f=g[0].total,C=parseFloat(f);console.log("tiquete",f),console.log("tiqueteNum",C);let X=0;if(this.supplementValues)for(let O=0;O<this.supplementValues.length;O++)this.supplementValues[O]&&(console.log("persona",[O],this.supplementValues[O]),X+=parseFloat(this.supplementValues[O])-C),console.log("Total suplemento",[O],X);console.log("Valor del suplemento:",X);const K=[];try{const O=await Promise.all(K.map(P=>ne.post("https://backmultidestinos.onrender.com/hoteles/buscarT",P)));console.log("preciosResponseArray",O),console.log("preciosResponseArray data",O.data);const we=[];O.forEach(P=>{P.data.length>0?we.push(...P.data):console.log("No se encontraron datos en esta respuesta")}),console.log(we),e+=parseFloat(this.Combus)||0,a+=parseFloat(this.Tasa)||0,l+=parseFloat(this.Iva)||0,t+=parseFloat(this.Ta)||0,n+=parseFloat(this.IvaTa)||0,s+=parseFloat(this.otros)||0,o+=parseFloat(this.precioTransp)||0,console.log("precioTrans",o);let Ae=0;this.rooms.forEach(async(P,he)=>{console.log(`Procesando habitaci\xF3n ${he+1}`);const W=P.accommodation,ue=P.roomType,ze=parseFloat(P.valor),I=ze+parseFloat(o);if(1){const E=P.adults,G=this.hasChildren[he]?P.numChildren:0,Q=I;console.log(`Precio de la acomodaci\xF3n: ${Q}`),P.accommodationPrice=Q;let Z=0,fe=0;console.log("precioTrans",o);const Ce=ze;this.ValorComisionableNi\u00F1os=0;let Be=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[he]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-o+additionalNightTotalPriceNi\u00F1o,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(p/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",Ce),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Le=Ce-Ce*(p/100);console.log("ValorClienteAdulto",Le),console.log("ValorClienteNi\xF1o",Be);const Fe=Le+Be;console.log("ValorCliente",Fe);const je=Q*E,qe=(this.childrenPriceNumber?this.childrenPriceNumber:0)*G;let Ye=je+qe;console.log("valorBrutoAdulto",je),console.log("valorBrutoni\xF1o",qe),console.log("valorBrutoTotal",Ye),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${he+1}: ${E}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${he+1}: ${G}`);const We=Le*E;console.log("TotalAcomodacionAdulto",We);let De=this.ValorClienteNi\u00F1o*G;console.log("TotalAcomodacionNi\xF1o",De),(De===null||isNaN(De))&&(De=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",De);let Re=De+We;console.log("TotalAcomodacion",Re),this.totalAdultos+=parseInt(E),this.totalNi\u00F1os+=G;const Ze=Ce*E+this.ValorComisionableNi\u00F1os*G,Xe=Ze*(p/100);console.log("descuento",Xe),console.log("Valorporcentaje",Ze);let te={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},ve={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",P),P.adultAges.length>0)for(let re=0;re<P.adultAges.length;re++){const J=P.adultAges[re],B=P.isForeigner[re];console.log(`Calculando impuestos para la persona ${re+1} (edad: ${J}, extranjero: ${B})`);for(const _e of h){const M=_e.IMPUESTO;console.log(`Impuesto actual: ${M}`),M==="cormacarena"?B?(te.cormacarenaExtranjero+=parseFloat(_e.EXTRANJERO)||0,ve.cormacarenaExtranjero++):J>=5&&J<=11?(te.cormacarena5a11+=parseFloat(_e["5 a 11 a\xF1os"])||0,ve.cormacarena5a11++):J>=12&&J<=65&&(te.cormacarena12a65+=parseFloat(_e["12 a 65 a\xF1os"])||0,ve.cormacarena12a65++):M==="pqsNaturales"?B?(te.pqsNaturalesExtranjero+=parseFloat(_e.EXTRANJERO)||0,ve.pqsNaturalesExtranjero++):J>=5&&J<=24?(te.pqsNaturales5a24+=parseFloat(_e["5 a 24 a\xF1os"])||0,ve.pqsNaturales5a24++):J>=25&&J<=65&&(te.pqsNaturales25a65+=parseFloat(_e["25 a 65 a\xF1os"])||0,ve.pqsNaturales25a65++):M==="alcaldia"?B?(te.alcaldiaExtranjero+=parseFloat(_e.EXTRANJERO)||0,ve.alcaldiaExtranjero++):J>=5&&J<=1e3&&(te.alcaldiaNacional+=parseFloat(_e["12 a 65 a\xF1os"])||0,ve.alcaldiaNacional++):M==="defensaCivil"&&(te.defensaCivil+=parseFloat(_e["5 a 11 a\xF1os"])||0,ve.defensaCivil++),console.log(`   Impuesto ${M} (acumulado): ${te[M]}`)}}console.log("Impuestos totales por habitaci\xF3n:",te);for(const re in te)te[re]===0&&(te[re]=null);console.log("Impuestos calculados para la habitaci\xF3n:",te),console.log("N\xFAmero de personas por impuesto:",ve),this.habitacionesDatos.push({idCotizacion:"",adultos:E,ni\u00F1os:G,acomodacion:W,tipoHabitacion:ue,precioFlayerAdulto:Q,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:qe,precioHabitacionAdulto:je,precioHabitacionTotal:Ye,precioComisionableAdulto:Ce,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Le,valorDescuentoCliente:Fe,descuento:Xe,TotalAcomodacionAdulto:We,TotalAcomodacionNino:De,TotalAcomodacion:Re,edadesAdultos:P.adultAges.filter(re=>re!==null).join(","),edadNino:P.childAge!==null?P.childAge:null,extranjero:P.isForeigner.map(re=>re?"SI":"NO").join(","),defensaCivil:te.defensaCivil,defensaCivilPersonas:ve.defensaCivil,alcaldiaNacional:te.alcaldiaNacional,alcaldiaNacionalPersonas:ve.alcaldiaNacional,alcaldiaExtranjero:te.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:ve.alcaldiaExtranjero,pqsNaturalesExtranjero:te.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:ve.pqsNaturalesExtranjero,pqsNaturales25a65:te.pqsNaturales25a65,pqsNaturales25a65Personas:ve.pqsNaturales25a65,pqsNaturales5a24:te.pqsNaturales5a24,pqsNaturales5a24Personas:ve.pqsNaturales5a24,cormacarenaExtranjero:te.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:ve.cormacarenaExtranjero,cormacarena5a11:te.cormacarena5a11,cormacarena5a11Personas:ve.cormacarena5a11,cormacarena12a65:te.cormacarena12a65,cormacarena12a65Personas:ve.cormacarena12a65})}})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(O=>{this.sumaTotalAcomodacion+=O.TotalAcomodacion,this.sumaValorBrutohab+=O.precioHabitacionTotal,this.sumaTotalDescuento+=O.descuento,this.cormacarena5a11Total+=O.cormacarena5a11||0,this.cormacarena12a65Total+=O.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=O.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=O.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=O.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=O.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=O.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=O.alcaldiaExtranjero||0,this.defensaCivilTotal+=O.defensaCivil||0,this.cormacarena5a11Personas+=O.cormacarena5a11Personas,this.cormacarena12a65Personas+=O.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=O.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=O.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=O.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=O.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=O.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=O.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=O.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=X,this.sumaTotalAcomodacion+=X,console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let S=null,j=null,Ee=null,ee=null;x==="Comisi\xF3n"&&(console.log("si es comison"),this.total,ee=this.sumaTotalDescuento,v!==null&&v!==0&&(j=Math.round(this.sumaTotalDescuento*(v/100)),this.ivaCalculado=j,ee+=j),F!==null&&F!==0&&(S=Math.round(this.sumaTotalDescuento*(F/100)),this.rteFuenteCalculado=S,ee-=S),_!==null&&_!==0&&(Ee=Math.round(this.sumaTotalDescuento*(_/100)),this.rteIcaCalculado=Ee,ee-=Ee)),console.log("this.ivaCalculado",j),console.log("this.rteFuenteCalculado",S),console.log("this.rteIcaCalculado",Ee),console.log("this.totalComision",ee);const ie=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",ie),e*=ie,a*=ie,l*=ie,t*=ie,n*=ie,s*=ie,o*=ie,this.sumaTotalAcomodacion+=o,console.log("combus",e),console.log("precioTrans",o),x==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-ee);const Ve=new Date;Ve.setHours(0,0,0,0),console.log(Ve.toISOString().split("T")[0]);const Se=vt.getItem("userData");console.log(Se);let ae=parseInt(this.noche.value),de=parseInt(ae)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",ae),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",de);const A={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:de,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:ie,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:l,ta:t,ivaTa:n,otros:s,precioTrans:o,suplemento:X,cliente:this.selectedClient,clientePorcentaje:p,CreadorCotizacion:Se.id,fechaCreacion:Ve.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:S,ivaValor:j,rteIca:Ee,totalComision:ee,correo:this.correo,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas,incluye:this.textoIncluye?this.textoIncluye.replace(/\n/g,"\xBF"):null,noIncluye:this.textoNoIncluye?this.textoNoIncluye.replace(/\n/g,"\xBF"):null,extra1:null,transfer:null};console.log("formData",A);const U=await ne.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",A);U.data.success&&(console.log("mirar el numero",U.data.success),console.log("mirar el numero1",U.data.idCotizacion),this.idCotizacion=U.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",U.data),console.log("idCotizacion1",this.idCotizacion);const pe=this.habitacionesDatos.map(async O=>{O.idCotizacion=this.idCotizacion;const we=await ne.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",O);return console.log("Respuesta de la habitaci\xF3n:",we.data),we.data}),Te=await Promise.all(pe);console.log("Respuestas de todas las habitaciones:",Te),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),this.resetVariables(),this.closeModalPersonalizado()}catch(T){console.error("Error al guardar la cotizaci\xF3n:",T),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}}}},Hs={key:0},Us={padding:""},Bs={key:1},Ys=d("p",null,"Cargando datos del usuario...",-1),Ws=[Ys],Qs={style:{display:"inline-block","margin-right":"10px"}},Xs={style:{display:"inline-block"}},Gs=d("br",null,null,-1),Js={class:"row q-col-gutter-md"},Zs={class:"col",style:{"margin-left":"10px"}},Ks={class:"row items-center justify-end"},$s={class:"col"},ei={class:"row items-center justify-end"},ai={class:"q-gutter-md"},ti={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},oi={class:"row q-col-gutter-md"},li={class:"col"},ni={class:"col"},si={class:"row q-col-gutter-md"},ii={class:"col"},ri={class:"col"},ci={class:"row q-col-gutter-md"},di={class:"col"},ui={class:"col"},mi={key:0,class:"row q-col-gutter-md"},hi={class:"col"},fi={class:"col"},gi={class:"row q-col-gutter-md"},pi={class:"col"},vi={class:"col"},bi={class:"row q-col-gutter-md"},yi={class:"col"},Vi={key:0,class:"col"},Ci={class:"row q-col-gutter-md"},Ni={class:"col"},Si={key:1,class:"row q-col-gutter-md"},Ei={class:"col"},Ti={key:2,class:"row q-col-gutter-md"},xi={class:"col"},wi={style:{"text-align":"center"}},Pi={style:{"margin-left":"10px","font-weight":"bold"}},Ai={class:"row q-col-gutter-md"},qi={class:"col"},Di={class:"col"},_i={class:"row q-col-gutter-md"},Oi={class:"col"},Ii={class:"col"},ki={key:0},Mi={class:"row"},zi=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),Li={key:0,class:"row"},Fi=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),ji={class:"col-6 col-sm-4 col-md-3"},Ri=d("div",null,null,-1),Hi=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),Ui={class:"row q-col-gutter-md"},Bi={class:"col"},Yi={class:"q-mb-md q-ml-md"},Wi={class:"col"},Qi={class:"row q-col-gutter-md"},Xi={class:"col"},Gi={class:"q-mb-md q-ml-md"},Ji={class:"col"},Zi={class:"row q-col-gutter-md"},Ki={class:"col"},$i={class:"q-mb-md q-ml-md"},er={class:"col",style:{"margin-left":"10px"}},ar={class:"row items-center justify-end"},tr=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),or={class:"row q-col-gutter-md"},lr={class:"col"},nr={class:"q-mb-md q-ml-md"},sr={class:"col"},ir={class:"row q-col-gutter-md"},rr={class:"col"},cr={class:"q-mb-md q-ml-md"},dr={class:"col"},ur={class:"row q-col-gutter-md"},mr={class:"col"},hr={class:"q-mb-md q-ml-md"},fr={class:"col"},gr={class:"row items-center justify-end"},pr={class:"row q-col-gutter-md"},vr={class:"col",style:{"margin-left":"10px"}},br={key:0},yr=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),Vr={class:"row q-col-gutter-md"},Cr={class:"col"},Nr={class:"col"},Sr={class:"row q-col-gutter-md"},Er={class:"col"},Tr={class:"col"},xr={class:"row q-col-gutter-md"},wr={class:"col"},Pr=d("p",{style:{"text-align":"center"}},[d("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),Ar={class:"row q-col-gutter-md"},qr={class:"col"},Dr={class:"col"},_r={class:"row q-col-gutter-md"},Or={class:"col"},Ir={class:"col"},kr={class:"row q-col-gutter-md"},Mr={class:"col"},zr={class:"row q-col-gutter-md"},Lr={class:"col"},Fr={class:"q-mb-md q-ml-md"},jr={key:1},Rr={class:"row q-mt-md justify-center"},Hr={key:0,class:"col"},Ur={key:1,class:"col"},Br={key:2,class:"col"},Yr={key:3,class:"col"},Wr={class:"row q-col-gutter-md"},Qr={class:"col-12 q-mb-md"},Xr={class:"row q-col-gutter-md"},Gr={class:"col-6"},Jr={class:"col-6"},Zr={class:"col-6"},Kr={class:"col-6"},$r={class:"col-12"},ec={class:"row q-col-gutter-md"},ac={class:"col-6"},tc={class:"col-6"},oc={class:"row q-col-gutter-md"},lc={class:"col-6"},nc={class:"col-6"},sc={key:0,class:"row q-col-gutter-md"},ic={class:"col-6"},rc={class:"col-6"},cc={class:"row q-col-gutter-md"},dc={class:"col-6"},uc={class:"col-6"},mc={style:{"text-align":"center"}},hc={style:{"margin-left":"10px","font-weight":"bold"}},fc={class:"row q-col-gutter-md"},gc={class:"col-6"},pc={class:"col-6"},vc={class:"row q-col-gutter-md"},bc={class:"col-6"},yc={class:"col-6"},Vc={key:0},Cc={class:"row"},Nc=d("div",{class:"col-12"},[d("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),Sc={key:0,class:"row"},Ec=d("div",{class:"col-12"},[d("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),Tc={class:"col-6 col-sm-4 col-md-3"},xc={class:"row q-col-gutter-md"},wc={class:"col-6"},Pc=d("div",{class:"text-h6 q-mb-md"},"Vuelo de Ida",-1),Ac=d("p",{class:"text-center"},[d("span",{class:"font-weight-bold",style:{"margin-left":"10px"}},"Informaci\xF3n ida")],-1),qc={class:"row q-col-gutter-md"},Dc={class:"col"},_c={class:"q-mb-md q-ml-md"},Oc={class:"col"},Ic={class:"row q-col-gutter-md"},kc={class:"col"},Mc={class:"q-mb-md q-ml-md"},zc={class:"col"},Lc={class:"row q-col-gutter-md"},Fc={class:"col"},jc={class:"q-mb-md q-ml-md"},Rc={class:"col",style:{"margin-left":"10px"}},Hc={class:"row items-center justify-end"},Uc={key:0},Bc=d("p",{class:"text-center"},[d("span",{class:"font-weight-bold",style:{"margin-left":"10px"}},"Informaci\xF3n escala ida")],-1),Yc={class:"row q-col-gutter-md"},Wc={class:"col"},Qc={class:"col"},Xc={class:"row q-col-gutter-md"},Gc={class:"col"},Jc={class:"col"},Zc={class:"row q-col-gutter-md"},Kc={class:"col"},$c={class:"col-6"},ed=d("div",{class:"text-h6 q-mb-md"},"Vuelo de Vuelta",-1),ad=d("p",{class:"text-center"},[d("span",{class:"font-weight-bold",style:{"margin-left":"10px"}},"Informaci\xF3n vuelta")],-1),td={class:"row q-col-gutter-md"},od={class:"col"},ld={class:"q-mb-md q-ml-md"},nd={class:"col"},sd={class:"row q-col-gutter-md"},id={class:"col"},rd={class:"q-mb-md q-ml-md"},cd={class:"col"},dd={class:"row q-col-gutter-md"},ud={class:"col"},md={class:"q-mb-md q-ml-md"},hd={class:"col"},fd={class:"row items-center justify-end"},gd={key:0},pd=d("p",{class:"text-center"},[d("span",{class:"font-weight-bold",style:{"margin-left":"10px"}},"Informaci\xF3n escala vuelta")],-1),vd={class:"row q-col-gutter-md"},bd={class:"col"},yd={class:"col"},Vd={class:"row q-col-gutter-md"},Cd={class:"col"},Nd={class:"col"},Sd={class:"row q-col-gutter-md"},Ed={class:"col"},Td={class:"col-6 q-mt-lg"},xd=d("p",{class:"text-center"},[d("span",{class:"font-weight-bold",style:{"margin-left":"10px"}},"Impuestos")],-1),wd={class:"row q-col-gutter-md"},Pd={class:"col"},Ad={class:"q-mb-md q-ml-md"},qd={class:"col"},Dd={class:"row q-col-gutter-md"},_d={class:"col"},Od={class:"q-mb-md q-ml-md"},Id={class:"col"},kd={class:"row q-col-gutter-md"},Md={class:"col"},zd={class:"q-mb-md q-ml-md"},Ld={class:"col"},Fd={class:"row q-col-gutter-md"},jd={class:"col"},Rd={class:"q-mb-md q-ml-md"},Hd={class:"row q-col-gutter-md"},Ud={class:"col"},Bd={class:"q-mb-md q-ml-md"},Yd={class:"col"},Wd={class:"row q-col-gutter-md"},Qd={class:"col",style:{"margin-left":"10px"}},Xd={class:"row q-col-gutter-md"},Gd={class:"col"},Jd={class:"q-mb-md q-ml-md"},Zd={key:0},Kd=d("div",{class:"text-h6 q-mb-md"},"Datos de Pasajeros",-1),$d={class:"text-subtitle1 q-mb-sm"},eu={class:"row q-mb-md"},au={class:"col-6 q-pr-sm"},tu={class:"col-6"},ou=d("br",null,null,-1),lu={class:"row"},nu={class:"col-6"},su={class:"col-6"},iu=d("br",null,null,-1),ru=d("br",null,null,-1),cu=d("br",null,null,-1),du=d("br",null,null,-1),uu=d("br",null,null,-1),mu={type:"file",ref:"fileInput",style:{display:"none"}};function hu(e,a,l,t,n,s){return le(),ja(Wl,{padding:""},{default:D(()=>[t.userData?(le(),ge("div",Hs,[d("h5",Us,"Bienvenido, "+Ja(t.userData.nombreCompleto),1)])):(le(),ge("div",Bs,Ws)),d("div",Qs,[m(ce,{label:"Crear cotizacion",onClick:s.openModal,color:"primary"},null,8,["onClick"])]),d("div",Xs,[m(ce,{label:"Crear cotizacion Personalizada",onClick:s.openModalPersonalizado,color:"orange"},null,8,["onClick"])]),Gs,m(rt,{modelValue:t.modalVisible,"onUpdate:modelValue":a[48]||(a[48]=o=>t.modalVisible=o),"content-css":"max-width: 600px;"},{default:D(()=>[m(va,null,{default:D(()=>[m(ha,{class:"q-pa-md"},{default:D(()=>[ba(d("div",null,[m(va,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:D(()=>[m(ha,{class:"q-pa-md"},{default:D(()=>[d("div",Js,[d("div",Zs,[m(k,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[1]||(a[1]=o=>t.dateRange[0]=o),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[m(Ea,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[0]||(a[0]=o=>t.dateRange[0]=o)},{default:D(()=>[d("div",Ks,[ba(m(ce,{label:"Close",color:"primary",flat:""},null,512),[[Ra]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",$s,[m(k,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[3]||(a[3]=o=>t.dateRange[1]=o),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[m(Ea,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[2]||(a[2]=o=>t.dateRange[1]=o)},{default:D(()=>[d("div",ei,[ba(m(ce,{label:"Close",color:"primary",flat:""},null,512),[[Ra]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",ai,[m(se,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[4]||(a[4]=o=>t.selectedDeparture=o),s.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),m(se,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[5]||(a[5]=o=>t.destination=o),s.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:D(()=>[ba(d("div",ti," Ups... no hay informaci\xF3n ",512),[[yt,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),d("div",oi,[d("div",li,[m(se,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[6]||(a[6]=o=>t.hotel=o),s.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",ni,[m(se,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":a[7]||(a[7]=o=>t.programName=o),label:"Nombre del Programa",options:t.matchingPrograms,"option-label":"nombrePrograma",class:"q-mb-md",error:!t.programName&&!t.autofillingProgramName,"error-message":"UPS... NO HAY TARIFA PARA ESTA TEMPORADA"},null,8,["modelValue","options","error"])])]),d("div",si,[d("div",ii,[m(se,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[8]||(a[8]=o=>t.selectedClient=o),s.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",ri,[m(se,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":a[9]||(a[9]=o=>t.noche=o),label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])])]),d("div",ci,[d("div",di,[m(la,{modelValue:t.asesorExternoCheck,"onUpdate:modelValue":a[10]||(a[10]=o=>t.asesorExternoCheck=o),label:"\xBFAsesor Externo?",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",ui,[m(se,{outlined:"",modelValue:t.selectedUser,"onUpdate:modelValue":a[11]||(a[11]=o=>t.selectedUser=o),options:e.dropdownOptions,label:"Selecciona un usuario",class:"q-mb-md q-ml-md",disable:!t.asesorExternoCheck},null,8,["modelValue","options","disable"])])]),s.shouldHideAdditionalNightSection()?Me("",!0):(le(),ge("div",mi,[d("div",hi,[m(la,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[12]||(a[12]=o=>t.additionalNightSelected=o),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),d("div",fi,[m(k,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[13]||(a[13]=o=>t.additionalNightCount=o),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",gi,[d("div",pi,[m(se,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[14]||(a[14]=o=>t.correo=o),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),d("div",vi,[m(se,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[15]||(a[15]=o=>t.numRooms=o),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),d("div",bi,[d("div",yi,[m(se,{outlined:"",modelValue:t.transferInOut,"onUpdate:modelValue":a[16]||(a[16]=o=>t.transferInOut=o),label:"\xBFNecesita agregar alg\xFAn valor correspondiente a 'transfer in-out'?",options:["S\xED","No"],class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),t.transferInOut==="S\xED"?(le(),ge("div",Vi,[m(k,{outlined:"",modelValue:t.transferInOutValue,"onUpdate:modelValue":a[17]||(a[17]=o=>t.transferInOutValue=o),label:"Valor 'transfer in-out'",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])):Me("",!0)]),d("div",Ci,[d("div",Ni,[m(se,{outlined:"",modelValue:t.numExtraValues,"onUpdate:modelValue":a[18]||(a[18]=o=>t.numExtraValues=o),label:"\xBFCu\xE1ntos valores extra necesita agregar (m\xE1ximo 2)?",options:[0,1,2],class:"q-mb-md q-ml-md"},null,8,["modelValue"])])]),t.numExtraValues>=1?(le(),ge("div",Si,[d("div",Ei,[m(k,{outlined:"",modelValue:t.extraValue1,"onUpdate:modelValue":a[19]||(a[19]=o=>t.extraValue1=o),label:"Valor extra 1",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Me("",!0),t.numExtraValues===2?(le(),ge("div",Ti,[d("div",xi,[m(k,{outlined:"",modelValue:t.extraValue2,"onUpdate:modelValue":a[20]||(a[20]=o=>t.extraValue2=o),label:"Valor extra 2",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):Me("",!0),(le(!0),ge(Oa,null,_a(t.rooms,(o,u)=>(le(),ge("div",{key:u},[m(va,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:D(()=>[m(ha,{class:"q-pa-md"},{default:D(()=>[d("p",wi,[d("span",Pi," Habitaci\xF3n "+Ja(u+1),1)]),d("div",Ai,[d("div",qi,[m(se,{outlined:"",modelValue:o.roomType,"onUpdate:modelValue":h=>o.roomType=h,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",Di,[m(se,{outlined:"",modelValue:o.adults,"onUpdate:modelValue":h=>o.adults=h,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),d("div",_i,[d("div",Oi,[m(la,{modelValue:t.hasChildren[u],"onUpdate:modelValue":[h=>t.hasChildren[u]=h,h=>s.handleChildrenChange(u)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",Ii,[m(k,{filled:"",modelValue:o.numChildren,"onUpdate:modelValue":h=>o.numChildren=h,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[u]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(u)?(le(),ge("div",ki,[d("div",Mi,[zi,(le(!0),ge(Oa,null,_a(o.adultAges,(h,T)=>(le(),ge("div",{key:"adult"+T+"-"+u,class:"col-6 col-sm-4 col-md-3"},[m(k,{filled:"",modelValue:o.adultAges[T],"onUpdate:modelValue":p=>o.adultAges[T]=p,label:"Adulto "+(T+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(la,{modelValue:o.isForeigner[T],"onUpdate:modelValue":p=>o.isForeigner[T]=p,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[u]?(le(),ge("div",Li,[Fi,d("div",ji,[m(k,{filled:"",modelValue:o.childAge,"onUpdate:modelValue":h=>o.childAge=h,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Me("",!0)])):Me("",!0),m(se,{outlined:"",modelValue:o.accommodation,"onUpdate:modelValue":h=>o.accommodation=h,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),Ri],512),[[yt,t.activeTab==="tab1"]]),ba(d("div",null,[Hi,d("div",Ui,[d("div",Bi,[d("div",Yi,[m(se,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[21]||(a[21]=o=>t.aerolineaValue1=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Wi,[m(k,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[22]||(a[22]=o=>t.vueloValue1=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Qi,[d("div",Xi,[d("div",Gi,[m(k,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[23]||(a[23]=o=>t.horaSalidaValue1=o),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ji,[m(k,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[24]||(a[24]=o=>t.horaLlegadaValue1=o),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Zi,[d("div",Ki,[d("div",$i,[m(k,{modelValue:t.claseValue1,"onUpdate:modelValue":a[25]||(a[25]=o=>t.claseValue1=o),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",er,[m(k,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[27]||(a[27]=o=>t.dateRange[0]=o),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[m(Ea,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[26]||(a[26]=o=>t.dateRange[0]=o)},{default:D(()=>[d("div",ar,[ba(m(ce,{label:"Close",color:"primary",flat:""},null,512),[[Ra]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),tr,d("div",or,[d("div",lr,[d("div",nr,[m(se,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[28]||(a[28]=o=>t.aerolineaValue2=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",sr,[m(k,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[29]||(a[29]=o=>t.vueloValue2=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ir,[d("div",rr,[d("div",cr,[m(k,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[30]||(a[30]=o=>t.horaSalidaValue2=o),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",dr,[m(k,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[31]||(a[31]=o=>t.horaLlegadaValue2=o),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",ur,[d("div",mr,[d("div",hr,[m(k,{modelValue:t.claseValue2,"onUpdate:modelValue":a[32]||(a[32]=o=>t.claseValue2=o),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",fr,[m(k,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[34]||(a[34]=o=>t.dateRange[1]=o),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[m(Ea,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[33]||(a[33]=o=>t.dateRange[1]=o)},{default:D(()=>[d("div",gr,[ba(m(ce,{label:"Close",color:"primary",flat:""},null,512),[[Ra]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),d("div",pr,[d("div",vr,[m(la,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[35]||(a[35]=o=>t.mostrarEscalas=o),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(le(),ge("div",br,[yr,d("div",Vr,[d("div",Cr,[m(se,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[36]||(a[36]=o=>t.aerolineaEscalaIda=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",Nr,[m(k,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[37]||(a[37]=o=>t.vueloEscalaIda=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Sr,[d("div",Er,[m(k,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[38]||(a[38]=o=>t.horaSalidaEscalaIda=o),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Tr,[m(k,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[39]||(a[39]=o=>t.horaLlegadaEscalaIda=o),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",xr,[d("div",wr,[m(k,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[40]||(a[40]=o=>t.claseEscalaIda=o),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),Pr,d("div",Ar,[d("div",qr,[m(se,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[41]||(a[41]=o=>t.aerolineaEscalaVuelta=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",Dr,[m(k,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[42]||(a[42]=o=>t.vueloEscalaVuelta=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",_r,[d("div",Or,[m(k,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[43]||(a[43]=o=>t.horaSalidaEscalaVuelta=o),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Ir,[m(k,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[44]||(a[44]=o=>t.horaLlegadaEscalaVuelta=o),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",kr,[d("div",Mr,[m(k,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[45]||(a[45]=o=>t.claseEscalaVuelta=o),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Me("",!0),d("div",zr,[d("div",Lr,[d("div",Fr,[m(la,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[46]||(a[46]=o=>t.supplementChecked=o),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(le(),ge("div",jr,[m(k,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[47]||(a[47]=o=>t.numberOfPeople=o),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(le(!0),ge(Oa,null,_a(t.peopleArray,o=>(le(),ge("div",{key:o},[m(k,{modelValue:t.supplementValues[o-1],"onUpdate:modelValue":u=>t.supplementValues[o-1]=u,label:`Suplemento persona ${o}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Me("",!0)],512),[[yt,t.activeTab==="tab2"]]),d("div",Rr,[t.activeTab==="tab2"?(le(),ge("div",Hr,[m(ce,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab2"?(le(),ge("div",Ur,[m(ce,{label:"Registrar",onClick:s.saveFormData,color:"primary"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(le(),ge("div",Br,[m(ce,{label:"Cerrar",onClick:s.closeModal,color:"red"},null,8,["onClick"])])):Me("",!0),t.activeTab==="tab1"?(le(),ge("div",Yr,[m(ce,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):Me("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(rt,{modelValue:t.modalVisiblePersonalizado,"onUpdate:modelValue":a[107]||(a[107]=o=>t.modalVisiblePersonalizado=o),persistent:""},{default:D(()=>[m(va,{class:"full-width",style:{"max-width":"900px"}},{default:D(()=>[m(Jl,{class:"bg-primary text-white"},{default:D(()=>[m(Zl,null,{default:D(()=>[Ha(" Personalizar Viaje ")]),_:1}),m(ce,{flat:"",round:"",dense:"",icon:"close",onClick:s.closeModalPersonalizado},null,8,["onClick"])]),_:1}),m(Kl,{modelValue:t.activeTab,"onUpdate:modelValue":a[49]||(a[49]=o=>t.activeTab=o),"inline-label":"",class:"bg-grey-2","active-color":"primary","indicator-color":"primary"},{default:D(()=>[m(Yt,{name:"tab1",icon:"info",label:"Detalles del Viaje"}),m(Yt,{name:"tab2",icon:"flight",label:"Informaci\xF3n de Vuelo"})]),_:1},8,["modelValue"]),m(kn,{modelValue:t.activeTab,"onUpdate:modelValue":a[106]||(a[106]=o=>t.activeTab=o),animated:""},{default:D(()=>[m(ao,{name:"tab1"},{default:D(()=>[m(ha,null,{default:D(()=>[d("div",Wr,[d("div",Qr,[d("div",Xr,[d("div",Gr,[m(k,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[51]||(a[51]=o=>t.dateRange[0]=o),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,null,{default:D(()=>[m(Ea,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[50]||(a[50]=o=>t.dateRange[0]=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),d("div",Jr,[m(k,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[53]||(a[53]=o=>t.dateRange[1]=o),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,null,{default:D(()=>[m(Ea,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[52]||(a[52]=o=>t.dateRange[1]=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])])]),d("div",Zr,[m(se,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[54]||(a[54]=o=>t.selectedDeparture=o),s.handleDepartureChange],label:"Salida",options:t.departureOptions,rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),d("div",Kr,[m(se,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[55]||(a[55]=o=>t.destination=o),s.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),d("div",$r,[d("div",ec,[d("div",ac,[m(se,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[56]||(a[56]=o=>t.selectedClient=o),s.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),d("div",tc,[m(se,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":[a[57]||(a[57]=o=>t.programName=o),s.handleSelectionChangeTipo],label:"Nombre del Programa",options:t.programNameOptions,rules:[o=>!!o||"Campo requerido"],class:"q-mb-md"},null,8,["modelValue","options","rules","onUpdate:modelValue"])])]),d("div",oc,[d("div",lc,[m(se,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":[a[58]||(a[58]=o=>t.noche=o),s.handleSelectionChangeTipo],label:"Duraci\xF3n",options:t.nochesOptions,rules:[o=>!!o||"Campo requerido"],class:"q-mb-md"},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),d("div",nc,[m(se,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[59]||(a[59]=o=>t.hotel=o),s.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,rules:[o=>!!o||"Campo requerido"],class:"q-mb-md"},null,8,["modelValue","options","rules","onUpdate:modelValue"])])]),s.shouldHideAdditionalNightSection()?Me("",!0):(le(),ge("div",sc,[d("div",ic,[m(la,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[60]||(a[60]=o=>t.additionalNightSelected=o),label:"Noche adicional",class:"q-mb-md"},null,8,["modelValue"])]),d("div",rc,[m(k,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[61]||(a[61]=o=>t.additionalNightCount=o),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),d("div",cc,[d("div",dc,[m(se,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[62]||(a[62]=o=>t.correo=o),label:"Correo Cliente",rules:[o=>!!o||"Campo requerido"],options:t.OptionCorreo,class:"q-mb-md"},null,8,["modelValue","rules","options"])]),d("div",uc,[m(se,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[63]||(a[63]=o=>t.numRooms=o),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",rules:[o=>!!o||"Campo requerido"],options:t.roomOptions,class:"q-mb-md"},null,8,["modelValue","rules","options","onUpdate:modelValue"])])]),(le(!0),ge(Oa,null,_a(t.rooms,(o,u)=>(le(),ge("div",{key:u},[m(va,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:D(()=>[m(ha,{class:"q-pa-md"},{default:D(()=>[d("p",mc,[d("span",hc," Habitaci\xF3n "+Ja(u+1),1)]),d("div",fc,[d("div",gc,[m(se,{outlined:"",modelValue:o.roomType,"onUpdate:modelValue":h=>o.roomType=h,label:"Tipo de Habitaci\xF3n",rules:[h=>!!h||"Campo requerido"],options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","options"])]),d("div",pc,[m(se,{outlined:"",modelValue:o.adults,"onUpdate:modelValue":h=>o.adults=h,label:"Adultos",rules:[h=>!!h||"Campo requerido"],options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","options"])])]),d("div",vc,[d("div",bc,[m(la,{modelValue:t.hasChildren[u],"onUpdate:modelValue":[h=>t.hasChildren[u]=h,h=>s.handleChildrenChange(u)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",yc,[m(k,{filled:"",modelValue:o.numChildren,"onUpdate:modelValue":h=>o.numChildren=h,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[u]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(u)?(le(),ge("div",Vc,[d("div",Cc,[Nc,(le(!0),ge(Oa,null,_a(o.adultAges,(h,T)=>(le(),ge("div",{key:"adult"+T+"-"+u,class:"col-6 col-sm-4 col-md-3"},[m(k,{filled:"",modelValue:o.adultAges[T],"onUpdate:modelValue":p=>o.adultAges[T]=p,label:"Adulto "+(T+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),m(la,{modelValue:o.isForeigner[T],"onUpdate:modelValue":p=>o.isForeigner[T]=p,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[u]?(le(),ge("div",Sc,[Ec,d("div",Tc,[m(k,{filled:"",modelValue:o.childAge,"onUpdate:modelValue":h=>o.childAge=h,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):Me("",!0)])):Me("",!0),m(se,{outlined:"",modelValue:o.accommodation,"onUpdate:modelValue":h=>o.accommodation=h,label:"Acomodaci\xF3n",rules:[h=>!!h||"Campo requerido"],options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","options"]),m(k,{filled:"",modelValue:o.valor,"onUpdate:modelValue":h=>o.valor=h,label:"Valor Persona",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])])]),_:1})]),_:1}),m(ao,{name:"tab2"},{default:D(()=>[m(ha,null,{default:D(()=>[d("div",xc,[d("div",wc,[m(va,{flat:"",bordered:""},{default:D(()=>[m(ha,null,{default:D(()=>[Pc,m(se,{outlined:"",modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[64]||(a[64]=o=>t.aerolineaValue1=o),label:"Aerol\xEDnea",rules:[o=>!!o||"Campo requerido"],options:t.aerolineaOptions},null,8,["modelValue","rules","options"]),m(k,{outlined:"",modelValue:t.vueloValue1,"onUpdate:modelValue":a[65]||(a[65]=o=>t.vueloValue1=o),label:"N\xFAmero de Vuelo",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"]),Ac,d("div",qc,[d("div",Dc,[d("div",_c,[m(se,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[66]||(a[66]=o=>t.aerolineaValue1=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",Oc,[m(k,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[67]||(a[67]=o=>t.vueloValue1=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ic,[d("div",kc,[d("div",Mc,[m(k,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[68]||(a[68]=o=>t.horaSalidaValue1=o),label:"Hora de salida",rules:[o=>!!o||"Campo requerido"],outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue","rules"])])]),d("div",zc,[m(k,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[69]||(a[69]=o=>t.horaLlegadaValue1=o),label:"Hora de llegada",rules:[o=>!!o||"Campo requerido"],outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue","rules"])])]),d("div",Lc,[d("div",Fc,[d("div",jc,[m(k,{modelValue:t.claseValue1,"onUpdate:modelValue":a[70]||(a[70]=o=>t.claseValue1=o),label:"Clase",rules:[o=>!!o||"Campo requerido"],outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue","rules"])])]),d("div",Rc,[m(k,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[72]||(a[72]=o=>t.dateRange[0]=o),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[m(Ea,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[71]||(a[71]=o=>t.dateRange[0]=o)},{default:D(()=>[d("div",Hc,[ba(m(ce,{label:"Close",color:"primary",flat:""},null,512),[[Ra]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),t.mostrarEscalas?(le(),ge("div",Uc,[Bc,d("div",Yc,[d("div",Wc,[m(se,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[73]||(a[73]=o=>t.aerolineaEscalaIda=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",Qc,[m(k,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[74]||(a[74]=o=>t.vueloEscalaIda=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Xc,[d("div",Gc,[m(k,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[75]||(a[75]=o=>t.horaSalidaEscalaIda=o),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Jc,[m(k,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[76]||(a[76]=o=>t.horaLlegadaEscalaIda=o),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Zc,[d("div",Kc,[m(k,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[77]||(a[77]=o=>t.claseEscalaIda=o),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Me("",!0)]),_:1})]),_:1})]),d("div",$c,[m(va,{flat:"",bordered:""},{default:D(()=>[m(ha,null,{default:D(()=>[ed,m(se,{outlined:"",modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[78]||(a[78]=o=>t.aerolineaValue2=o),label:"Aerol\xEDnea",rules:[o=>!!o||"Campo requerido"],options:t.aerolineaOptions},null,8,["modelValue","rules","options"]),m(k,{outlined:"",modelValue:t.vueloValue2,"onUpdate:modelValue":a[79]||(a[79]=o=>t.vueloValue2=o),label:"N\xFAmero de Vuelo",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"]),ad,d("div",td,[d("div",od,[d("div",ld,[m(se,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[80]||(a[80]=o=>t.aerolineaValue2=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),d("div",nd,[m(k,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[81]||(a[81]=o=>t.vueloValue2=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",sd,[d("div",id,[d("div",rd,[m(k,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[82]||(a[82]=o=>t.horaSalidaValue2=o),label:"Hora de salida",rules:[o=>!!o||"Campo requerido"],outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue","rules"])])]),d("div",cd,[m(k,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[83]||(a[83]=o=>t.horaLlegadaValue2=o),label:"Hora de llegada",rules:[o=>!!o||"Campo requerido"],outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue","rules"])])]),d("div",dd,[d("div",ud,[d("div",md,[m(k,{modelValue:t.claseValue2,"onUpdate:modelValue":a[84]||(a[84]=o=>t.claseValue2=o),label:"Clase",rules:[o=>!!o||"Campo requerido"],outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue","rules"])])]),d("div",hd,[m(k,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[86]||(a[86]=o=>t.dateRange[1]=o),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:D(()=>[m(fa,{name:"event",class:"cursor-pointer"},{default:D(()=>[m(Ta,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[m(Ea,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[85]||(a[85]=o=>t.dateRange[1]=o)},{default:D(()=>[d("div",fd,[ba(m(ce,{label:"Close",color:"primary",flat:""},null,512),[[Ra]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),t.mostrarEscalas?(le(),ge("div",gd,[pd,d("div",vd,[d("div",bd,[m(se,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[87]||(a[87]=o=>t.aerolineaEscalaVuelta=o),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),d("div",yd,[m(k,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[88]||(a[88]=o=>t.vueloEscalaVuelta=o),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Vd,[d("div",Cd,[m(k,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[89]||(a[89]=o=>t.horaSalidaEscalaVuelta=o),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),d("div",Nd,[m(k,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[90]||(a[90]=o=>t.horaLlegadaEscalaVuelta=o),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Sd,[d("div",Ed,[m(k,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[91]||(a[91]=o=>t.claseEscalaVuelta=o),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):Me("",!0)]),_:1})]),_:1})])]),d("div",Td,[m(va,{flat:"",bordered:""},{default:D(()=>[xd,d("div",wd,[d("div",Pd,[d("div",Ad,[m(k,{modelValue:t.Combus,"onUpdate:modelValue":a[92]||(a[92]=o=>t.Combus=o),label:"Combus",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",qd,[m(k,{modelValue:t.Tasa,"onUpdate:modelValue":a[93]||(a[93]=o=>t.Tasa=o),label:"Tasa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Dd,[d("div",_d,[d("div",Od,[m(k,{modelValue:t.Iva,"onUpdate:modelValue":a[94]||(a[94]=o=>t.Iva=o),label:"Iva",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Id,[m(k,{modelValue:t.Ta,"onUpdate:modelValue":a[95]||(a[95]=o=>t.Ta=o),label:"Ta",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",kd,[d("div",Md,[d("div",zd,[m(k,{modelValue:t.IvaTa,"onUpdate:modelValue":a[96]||(a[96]=o=>t.IvaTa=o),label:"IvaTa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Ld,[m(k,{modelValue:t.Otros,"onUpdate:modelValue":a[97]||(a[97]=o=>t.Otros=o),label:"Otros",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),d("div",Fd,[d("div",jd,[d("div",Rd,[m(k,{modelValue:t.precioTransp,"onUpdate:modelValue":a[98]||(a[98]=o=>t.precioTransp=o),label:"Precio Transporte",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])]),d("div",Hd,[d("div",Ud,[d("div",Bd,[m(k,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[100]||(a[100]=o=>t.textoIncluye=o),label:"Incluye",filled:"",type:"textarea",autogrow:""},{control:D(()=>[m(oo,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[99]||(a[99]=o=>t.textoIncluye=o),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Yd,[m(k,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[102]||(a[102]=o=>t.textoNoIncluye=o),label:"No Incluye",filled:"",type:"textarea",autogrow:""},{control:D(()=>[m(oo,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[101]||(a[101]=o=>t.textoNoIncluye=o),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),d("div",Wd,[d("div",Qd,[m(la,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[103]||(a[103]=o=>t.mostrarEscalas=o),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),d("div",Xd,[d("div",Gd,[d("div",Jd,[m(la,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[104]||(a[104]=o=>t.supplementChecked=o),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(le(),ge("div",Zd,[m(k,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[105]||(a[105]=o=>t.numberOfPeople=o),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(le(!0),ge(Oa,null,_a(t.peopleArray,o=>(le(),ge("div",{key:o},[m(k,{modelValue:t.supplementValues[o-1],"onUpdate:modelValue":u=>t.supplementValues[o-1]=u,label:`Suplemento persona ${o}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):Me("",!0)]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(Rt,{align:"right"},{default:D(()=>[t.activeTab==="tab2"?(le(),ja(ce,{key:0,flat:"",color:"primary",onClick:t.goBack},{default:D(()=>[Ha(" Atr\xE1s ")]),_:1},8,["onClick"])):Me("",!0),t.activeTab==="tab1"?(le(),ja(ce,{key:1,color:"primary",onClick:t.goNext},{default:D(()=>[Ha(" Siguiente ")]),_:1},8,["onClick"])):Me("",!0),t.activeTab==="tab2"?(le(),ja(ce,{key:2,color:"primary",onClick:s.saveFormDataPersonalizado},{default:D(()=>[Ha(" Guardar ")]),_:1},8,["onClick"])):Me("",!0),m(ce,{color:"red",onClick:s.closeModalPersonalizado},{default:D(()=>[Ha(" Cerrar ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(rt,{modelValue:t.mostrarModalPasajeros,"onUpdate:modelValue":a[112]||(a[112]=o=>t.mostrarModalPasajeros=o),persistent:""},{default:D(()=>[m(va,{style:{"min-width":"500px"}},{default:D(()=>[m(ha,null,{default:D(()=>[Kd]),_:1}),m(ha,{class:"q-pt-none"},{default:D(()=>[m(Ql,{onSubmit:s.procesarLiquidacion,class:"q-gutter-md"},{default:D(()=>[(le(!0),ge(Oa,null,_a(t.pasajeros,(o,u)=>(le(),ge("div",{key:u,class:"q-pa-md q-mb-md bg-grey-2 rounded-borders"},[d("div",$d,"Pasajero "+Ja(u+1),1),m(k,{modelValue:o.nombre,"onUpdate:modelValue":h=>o.nombre=h,label:"Nombre",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),d("div",eu,[d("div",au,[m(se,{modelValue:o.tipoDocumento,"onUpdate:modelValue":h=>o.tipoDocumento=h,options:t.opcionesTipoDocumento,label:"Tipo de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue","options"])]),d("div",tu,[m(k,{modelValue:o.numeroDocumento,"onUpdate:modelValue":h=>o.numeroDocumento=h,label:"N\xFAmero de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]),m(k,{modelValue:o.fechaNacimiento,"onUpdate:modelValue":h=>o.fechaNacimiento=h,label:"Fecha de Nacimiento",filled:"",dense:"",type:"date",rules:[h=>h?new Date(h)>new Date?"La fecha no puede ser en el futuro":!0:"La fecha es requerida"],class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue","rules"])]))),128)),m(la,{modelValue:t.tieneTelefono,"onUpdate:modelValue":a[108]||(a[108]=o=>t.tieneTelefono=o),label:"\xBFTiene tel\xE9fono?"},null,8,["modelValue"]),t.tieneTelefono?(le(),ja(k,{key:0,modelValue:t.telefono,"onUpdate:modelValue":a[109]||(a[109]=o=>t.telefono=o),label:"Tel\xE9fono",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Me("",!0),m(la,{modelValue:t.tieneNumero,"onUpdate:modelValue":a[110]||(a[110]=o=>t.tieneNumero=o),label:"\xBFTiene correo?"},null,8,["modelValue"]),t.tieneNumero?(le(),ja(k,{key:1,modelValue:t.correoPasajero,"onUpdate:modelValue":a[111]||(a[111]=o=>t.correoPasajero=o),label:"Correo",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):Me("",!0),m(Rt,{align:"right",class:"bg-white text-teal"},{default:D(()=>[m(ce,{flat:"",label:"Cancelar",onClick:s.cerrarModalPasajeros},null,8,["onClick"]),m(ce,{type:"submit",label:"Guardar",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("div",null,[ou,d("div",lu,[d("div",nu,[m(se,{modelValue:t.selectedFilter,"onUpdate:modelValue":a[113]||(a[113]=o=>t.selectedFilter=o),options:["Todos","Cot","Cot-C"],label:"Filtrar por Tipo",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),d("div",su,[m(se,{modelValue:t.filterStatus,"onUpdate:modelValue":a[114]||(a[114]=o=>t.filterStatus=o),options:t.statusOptions,label:"Filtrar por Status",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),iu,m(Gl,{rows:s.filteredCotizacionData(),columns:t.columns,sortBy:t.sortBy,"onUpdate:sortBy":a[115]||(a[115]=o=>t.sortBy=o),sortOrder:t.sortOrder,"onUpdate:sortOrder":a[116]||(a[116]=o=>t.sortOrder=o)},{"body-cell-status":D(o=>[m(Ht,{props:o},{default:D(()=>[m(Xl,{color:s.getStatusColor(o.row.status),"text-color":"white",square:""},{default:D(()=>[Ha(Ja(o.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-cotizacion":D(o=>[m(Ht,{props:o},{default:D(()=>[m(ce,{onClick:u=>s.descargarCotizacionN(o.row),color:"primary",label:"Descargar Cotizaci\xF3n"},null,8,["onClick"]),ru,cu,m(ce,{onClick:u=>s.enviarCotizacion(o.row),color:"secondary",label:"Enviar Cotizaci\xF3n"},null,8,["onClick"]),du,uu,m(ce,{onClick:u=>s.abrirModalPasajeros(o.row),color:"green",label:"Pasar a Liquidaci\xF3n"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","sortBy","sortOrder"]),d("input",mu,null,512)])]),_:1})}var Tu=Bl(Rs,[["render",hu]]);export{Tu as default};
