import{a as B,aZ as Ne,a_ as Wt,a$ as Bo,c as Xa,b0 as Yo,E as Qt,F as Xt,b1 as Wo,r as N,b2 as Qo,w as da,T as bt,h as I,aU as Ua,d as lt,g as nt,b3 as Xo,a8 as oe,aJ as Go,aQ as Jo,b4 as Zo,aD as at,b5 as Gt,n as Ko,b6 as Jt,aK as $o,b7 as el,b8 as al,k as Vt,ae as ga,z as Zt,ap as Kt,y as St,ad as xt,ac as tl,b9 as ol,ba as ll,bb as nl,bc as sl,o as il,C as rl,bd as cl,a2 as dl,a0 as ul,a1 as dt,a4 as ae,a5 as ut,a6 as F,au as ml,aA as mt,az as le,a9 as c,aa as Ba,a7 as u,aw as Ia,av as Ca,N as na,be as za,ay as O,aH as Na,aC as se,bf as sa,ax as ke,aE as qa,aF as Da,aB as hl,aG as fl,aX as wt,aI as gl,ag as pl,aY as vl}from"./index.c27b22cd.js";import{Q as bl}from"./QTooltip.c446164e.js";import{E as At,n as Ta}from"./PDFButton.ed2f9faa.js";import{a as te}from"./axios.37d53be1.js";import"./sweetalert2.esm.all.0f865825.js";function yl(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return e.hasOwnProperty(a)},clearCache(a){a!==void 0?delete e[a]:e={}}}}const Pa=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Vl(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),El(Ct(e,a,o))}function Pt(e,a,o){return eo(Tl(e,a,o))}function Cl(e){return Nl(e)===0}function tt(e,a){return a<=6?31:a<=11||Cl(e)?30:29}function Nl(e){const a=Pa.length;let o=Pa[0],t,n,i,l,m;if(e<o||e>=Pa[a-1])throw new Error("Invalid Jalaali year "+e);for(m=1;m<a&&(t=Pa[m],n=t-o,!(e<t));m+=1)o=t;return l=e-o,n-l<6&&(l=l-n+Pe(n+4,33)*33),i=ia(ia(l+1,33)-1,4),i===-1&&(i=4),i}function $t(e,a){const o=Pa.length,t=e+621;let n=-14,i=Pa[0],l,m,g,w,b;if(e<i||e>=Pa[o-1])throw new Error("Invalid Jalaali year "+e);for(b=1;b<o&&(l=Pa[b],m=l-i,!(e<l));b+=1)n=n+Pe(m,33)*8+Pe(ia(m,33),4),i=l;w=e-i,n=n+Pe(w,33)*8+Pe(ia(w,33)+3,4),ia(m,33)===4&&m-w===4&&(n+=1);const A=Pe(t,4)-Pe((Pe(t,100)+1)*3,4)-150,X=20+n-A;return a||(m-w<6&&(w=w-m+Pe(m+4,33)*33),g=ia(ia(w+1,33)-1,4),g===-1&&(g=4)),{leap:g,gy:t,march:X}}function Tl(e,a,o){const t=$t(e,!0);return Ct(t.gy,3,t.march)+(a-1)*31-Pe(a,7)*(a-7)+o-1}function El(e){const a=eo(e).gy;let o=a-621,t,n,i;const l=$t(o,!1),m=Ct(a,3,l.march);if(i=e-m,i>=0){if(i<=185)return n=1+Pe(i,31),t=ia(i,31)+1,{jy:o,jm:n,jd:t};i-=186}else o-=1,i+=179,l.leap===1&&(i+=1);return n=7+Pe(i,30),t=ia(i,30)+1,{jy:o,jm:n,jd:t}}function Ct(e,a,o){let t=Pe((e+Pe(a-8,6)+100100)*1461,4)+Pe(153*ia(a+9,12)+2,5)+o-34840408;return t=t-Pe(Pe(e+100100+Pe(a-8,6),100)*3,4)+752,t}function eo(e){let a=4*e+139361631;a=a+Pe(Pe(4*e+183187720,146097)*3,4)*4-3908;const o=Pe(ia(a,1461),4)*5+308,t=Pe(ia(o,153),5)+1,n=ia(Pe(o,153),12)+1;return{gy:Pe(a,1461)-100100+Pe(8-n,6),gm:n,gd:t}}function Pe(e,a){return~~(e/a)}function ia(e,a){return e-~~(e/a)*a}const Sl=["gregorian","persian"],xl={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Sl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},wl=["update:modelValue"];function Ea(e){return e.year+"/"+Ne(e.month)+"/"+Ne(e.day)}function Al(e,a){const o=B(()=>e.disable!==!0&&e.readonly!==!0),t=B(()=>o.value===!0?0:-1),n=B(()=>{const m=[];return e.color!==void 0&&m.push(`bg-${e.color}`),e.textColor!==void 0&&m.push(`text-${e.textColor}`),m.join(" ")});function i(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function l(m){const g=new Date,w=m===!0?null:0;if(e.calendar==="persian"){const b=Vl(g);return{year:b.jy,month:b.jm,day:b.jd}}return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:o,tabindex:t,headerClass:n,getLocale:i,getCurrentDate:l}}const ao=864e5,Pl=36e5,yt=6e4,to="YYYY-MM-DDTHH:mm:ss.SSSZ",_l=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Il=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,ht={};function ql(e,a){const o="("+a.days.join("|")+")",t=e+o;if(ht[t]!==void 0)return ht[t];const n="("+a.daysShort.join("|")+")",i="("+a.months.join("|")+")",l="("+a.monthsShort.join("|")+")",m={};let g=0;const w=e.replace(Il,A=>{switch(g++,A){case"YY":return m.YY=g,"(-?\\d{1,2})";case"YYYY":return m.YYYY=g,"(-?\\d{1,4})";case"M":return m.M=g,"(\\d{1,2})";case"MM":return m.M=g,"(\\d{2})";case"MMM":return m.MMM=g,l;case"MMMM":return m.MMMM=g,i;case"D":return m.D=g,"(\\d{1,2})";case"Do":return m.D=g++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return m.D=g,"(\\d{2})";case"H":return m.H=g,"(\\d{1,2})";case"HH":return m.H=g,"(\\d{2})";case"h":return m.h=g,"(\\d{1,2})";case"hh":return m.h=g,"(\\d{2})";case"m":return m.m=g,"(\\d{1,2})";case"mm":return m.m=g,"(\\d{2})";case"s":return m.s=g,"(\\d{1,2})";case"ss":return m.s=g,"(\\d{2})";case"S":return m.S=g,"(\\d{1})";case"SS":return m.S=g,"(\\d{2})";case"SSS":return m.S=g,"(\\d{3})";case"A":return m.A=g,"(AM|PM)";case"a":return m.a=g,"(am|pm)";case"aa":return m.aa=g,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return m.Z=g,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return m.ZZ=g,"(Z|[+-]\\d{2}\\d{2})";case"X":return m.X=g,"(-?\\d+)";case"x":return m.x=g,"(-?\\d{4,})";default:return g--,A[0]==="["&&(A=A.substring(1,A.length-1)),A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),b={map:m,regex:new RegExp("^"+w)};return ht[t]=b,b}function oo(e,a){return e!==void 0?e:a!==void 0?a.date:Bo.date}function _t(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.floor(t/60),i=t%60;return o+Ne(n)+a+Ne(i)}function Dl(e,a,o,t,n){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(i,n),e==null||e===""||typeof e!="string")return i;a===void 0&&(a=to);const l=oo(o,Wt.props),m=l.months,g=l.monthsShort,{regex:w,map:b}=ql(a,l),A=e.match(w);if(A===null)return i;let X="";if(b.X!==void 0||b.x!==void 0){const z=parseInt(A[b.X!==void 0?b.X:b.x],10);if(isNaN(z)===!0||z<0)return i;const v=new Date(z*(b.X!==void 0?1e3:1));i.year=v.getFullYear(),i.month=v.getMonth()+1,i.day=v.getDate(),i.hour=v.getHours(),i.minute=v.getMinutes(),i.second=v.getSeconds(),i.millisecond=v.getMilliseconds()}else{if(b.YYYY!==void 0)i.year=parseInt(A[b.YYYY],10);else if(b.YY!==void 0){const z=parseInt(A[b.YY],10);i.year=z<0?z:2e3+z}if(b.M!==void 0){if(i.month=parseInt(A[b.M],10),i.month<1||i.month>12)return i}else b.MMM!==void 0?i.month=g.indexOf(A[b.MMM])+1:b.MMMM!==void 0&&(i.month=m.indexOf(A[b.MMMM])+1);if(b.D!==void 0){if(i.day=parseInt(A[b.D],10),i.year===null||i.month===null||i.day<1)return i;const z=t!=="persian"?new Date(i.year,i.month,0).getDate():tt(i.year,i.month);if(i.day>z)return i}b.H!==void 0?i.hour=parseInt(A[b.H],10)%24:b.h!==void 0&&(i.hour=parseInt(A[b.h],10)%12,(b.A&&A[b.A]==="PM"||b.a&&A[b.a]==="pm"||b.aa&&A[b.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),b.m!==void 0&&(i.minute=parseInt(A[b.m],10)%60),b.s!==void 0&&(i.second=parseInt(A[b.s],10)%60),b.S!==void 0&&(i.millisecond=parseInt(A[b.S],10)*10**(3-A[b.S].length)),(b.Z!==void 0||b.ZZ!==void 0)&&(X=b.Z!==void 0?A[b.Z].replace(":",""):A[b.ZZ],i.timezoneOffset=(X[0]==="+"?-1:1)*(60*X.slice(1,3)+1*X.slice(3,5)))}return i.dateHash=Ne(i.year,6)+"/"+Ne(i.month)+"/"+Ne(i.day),i.timeHash=Ne(i.hour)+":"+Ne(i.minute)+":"+Ne(i.second)+X,i}function It(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const t=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-t);const n=(a-o)/(ao*7);return 1+Math.floor(n)}function ya(e,a,o){const t=new Date(e),n=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":t[`${n}Month`](0);case"month":case"months":t[`${n}Date`](1);case"day":case"days":case"date":t[`${n}Hours`](0);case"hour":case"hours":t[`${n}Minutes`](0);case"minute":case"minutes":t[`${n}Seconds`](0);case"second":case"seconds":t[`${n}Milliseconds`](0)}return t}function et(e,a,o){return(e.getTime()-e.getTimezoneOffset()*yt-(a.getTime()-a.getTimezoneOffset()*yt))/o}function lo(e,a,o="days"){const t=new Date(e),n=new Date(a);switch(o){case"years":case"year":return t.getFullYear()-n.getFullYear();case"months":case"month":return(t.getFullYear()-n.getFullYear())*12+t.getMonth()-n.getMonth();case"days":case"day":case"date":return et(ya(t,"day"),ya(n,"day"),ao);case"hours":case"hour":return et(ya(t,"hour"),ya(n,"hour"),Pl);case"minutes":case"minute":return et(ya(t,"minute"),ya(n,"minute"),yt);case"seconds":case"second":return et(ya(t,"second"),ya(n,"second"),1e3)}}function qt(e){return lo(e,ya(e,"year"),"days")+1}function Dt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ot={YY(e,a,o){const t=this.YYYY(e,a,o)%100;return t>=0?Ne(t):"-"+Ne(Math.abs(t))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Ne(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Dt(this.Q(e))},D(e){return e.getDate()},Do(e){return Dt(e.getDate())},DD(e){return Ne(e.getDate())},DDD(e){return qt(e)},DDDD(e){return Ne(qt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return It(e)},ww(e){return Ne(It(e))},H(e){return e.getHours()},HH(e){return Ne(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Ne(this.h(e))},m(e){return e.getMinutes()},mm(e){return Ne(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Ne(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Ne(Math.floor(e.getMilliseconds()/10))},SSS(e){return Ne(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return _t(n,":")},ZZ(e,a,o,t){const n=t==null?e.getTimezoneOffset():t;return _t(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ol(e,a,o,t,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;a===void 0&&(a=to);const l=oo(o,Wt.props);return a.replace(_l,(m,g)=>m in Ot?Ot[m](i,l,t,n):g===void 0?m:g.split("\\]").join("]"))}const Oa=20,kl=["Calendar","Years","Months"],kt=e=>kl.includes(e),ft=e=>/^-?[\d]+\/[0-1]\d$/.test(e),La=" \u2014 ";function Sa(e){return e.year+"/"+Ne(e.month)}var xa=Xa({name:"QDate",props:{...xl,...Yo,...Qt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ft},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ft},navigationMaxYearMonth:{type:String,validator:ft},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:kt}},emits:[...wl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:t}=nt(),{$q:n}=t,i=Xt(e,n),{getCache:l}=yl(),{tabindex:m,headerClass:g,getLocale:w,getCurrentDate:b}=Al(e,n);let A;const X=Wo(e),z=Xo(X),v=N(null),p=N(j()),f=N(w()),C=B(()=>j()),G=B(()=>w()),Z=B(()=>b()),E=N(_(p.value,f.value)),W=N(e.defaultView),_e=n.lang.rtl===!0?"right":"left",be=N(_e.value),me=N(_e.value),Ee=E.value.year,Se=N(Ee-Ee%Oa-(Ee<0?Oa:0)),ie=N(null),he=B(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(i.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),K=B(()=>e.color||"primary"),re=B(()=>e.textColor||"white"),He=B(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),We=B(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),D=B(()=>We.value.filter(r=>typeof r=="string").map(r=>we(r,p.value,f.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),xe=B(()=>{const r=s=>we(s,p.value,f.value);return We.value.filter(s=>Qo(s)===!0&&s.from!==void 0&&s.to!==void 0).map(s=>({from:r(s.from),to:r(s.to)})).filter(s=>s.from.dateHash!==null&&s.to.dateHash!==null&&s.from.dateHash<s.to.dateHash)}),Ie=B(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const s=Pt(r.year,r.month,r.day);return new Date(s.gy,s.gm-1,s.gd)}),P=B(()=>e.calendar==="persian"?Ea:(r,s,h)=>Ol(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),s===void 0?p.value:s,h===void 0?f.value:h,r.year,r.timezoneOffset)),de=B(()=>D.value.length+xe.value.reduce((r,s)=>r+1+lo(Ie.value(s.to),Ie.value(s.from)),0)),Y=B(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(ie.value!==null){const h=ie.value.init,d=Ie.value(h);return f.value.daysShort[d.getDay()]+", "+f.value.monthsShort[h.month-1]+" "+h.day+La+"?"}if(de.value===0)return La;if(de.value>1)return`${de.value} ${f.value.pluralDay}`;const r=D.value[0],s=Ie.value(r);return isNaN(s.valueOf())===!0?La:f.value.headerTitle!==void 0?f.value.headerTitle(s,r):f.value.daysShort[s.getDay()]+", "+f.value.monthsShort[r.month-1]+" "+r.day}),ze=B(()=>D.value.concat(xe.value.map(s=>s.from)).sort((s,h)=>s.year-h.year||s.month-h.month)[0]),Qe=B(()=>D.value.concat(xe.value.map(s=>s.to)).sort((s,h)=>h.year-s.year||h.month-s.month)[0]),q=B(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(de.value===0)return La;if(de.value>1){const r=ze.value,s=Qe.value,h=f.value.monthsShort;return h[r.month-1]+(r.year!==s.year?" "+r.year+La+h[s.month-1]+" ":r.month!==s.month?La+h[s.month-1]:"")+" "+s.year}return D.value[0].year}),V=B(()=>{const r=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?r.reverse():r}),T=B(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):f.value.firstDayOfWeek),U=B(()=>{const r=f.value.daysShort,s=T.value;return s>0?r.slice(s,7).concat(r.slice(0,s)):r}),R=B(()=>{const r=E.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():tt(r.year,r.month)}),fe=B(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),H=B(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),ce=B(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),Le=B(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return H.value!==null&&H.value.year>=E.value.year&&(r.year.prev=!1,H.value.year===E.value.year&&H.value.month>=E.value.month&&(r.month.prev=!1)),ce.value!==null&&ce.value.year<=E.value.year&&(r.year.next=!1,ce.value.year===E.value.year&&ce.value.month<=E.value.month&&(r.month.next=!1)),r}),Ue=B(()=>{const r={};return D.value.forEach(s=>{const h=Sa(s);r[h]===void 0&&(r[h]=[]),r[h].push(s.day)}),r}),De=B(()=>{const r={};return xe.value.forEach(s=>{const h=Sa(s.from),d=Sa(s.to);if(r[h]===void 0&&(r[h]=[]),r[h].push({from:s.from.day,to:h===d?s.to.day:void 0,range:s}),h<d){let y;const{year:x,month:S}=s.from,M=S<12?{year:x,month:S+1}:{year:x+1,month:1};for(;(y=Sa(M))<=d;)r[y]===void 0&&(r[y]=[]),r[y].push({from:void 0,to:y===d?s.to.day:void 0,range:s}),M.month++,M.month>12&&(M.year++,M.month=1)}}),r}),Xe=B(()=>{if(ie.value===null)return;const{init:r,initHash:s,final:h,finalHash:d}=ie.value,[y,x]=s<=d?[r,h]:[h,r],S=Sa(y),M=Sa(x);if(S!==Ce.value&&M!==Ce.value)return;const $={};return S===Ce.value?($.from=y.day,$.includeFrom=!0):$.from=1,M===Ce.value?($.to=x.day,$.includeTo=!0):$.to=R.value,$}),Ce=B(()=>Sa(E.value)),ea=B(()=>{const r={};if(e.options===void 0){for(let h=1;h<=R.value;h++)r[h]=!0;return r}const s=typeof e.options=="function"?e.options:h=>e.options.includes(h);for(let h=1;h<=R.value;h++){const d=Ce.value+"/"+Ne(h);r[h]=s(d)}return r}),ta=B(()=>{const r={};if(e.events===void 0)for(let s=1;s<=R.value;s++)r[s]=!1;else{const s=typeof e.events=="function"?e.events:h=>e.events.includes(h);for(let h=1;h<=R.value;h++){const d=Ce.value+"/"+Ne(h);r[h]=s(d)===!0&&fe.value(d)}}return r}),ge=B(()=>{let r,s;const{year:h,month:d}=E.value;if(e.calendar!=="persian")r=new Date(h,d-1,1),s=new Date(h,d-1,0).getDate();else{const y=Pt(h,d,1);r=new Date(y.gy,y.gm-1,y.gd);let x=d-1,S=h;x===0&&(x=12,S--),s=tt(S,x)}return{days:r.getDay()-T.value-1,endDay:s}}),Fe=B(()=>{const r=[],{days:s,endDay:h}=ge.value,d=s<0?s+7:s;if(d<6)for(let S=h-d;S<=h;S++)r.push({i:S,fill:!0});const y=r.length;for(let S=1;S<=R.value;S++){const M={i:S,event:ta.value[S],classes:[]};ea.value[S]===!0&&(M.in=!0,M.flat=!0),r.push(M)}if(Ue.value[Ce.value]!==void 0&&Ue.value[Ce.value].forEach(S=>{const M=y+S-1;Object.assign(r[M],{selected:!0,unelevated:!0,flat:!1,color:K.value,textColor:re.value})}),De.value[Ce.value]!==void 0&&De.value[Ce.value].forEach(S=>{if(S.from!==void 0){const M=y+S.from-1,$=y+(S.to||R.value)-1;for(let Ge=M;Ge<=$;Ge++)Object.assign(r[Ge],{range:S.range,unelevated:!0,color:K.value,textColor:re.value});Object.assign(r[M],{rangeFrom:!0,flat:!1}),S.to!==void 0&&Object.assign(r[$],{rangeTo:!0,flat:!1})}else if(S.to!==void 0){const M=y+S.to-1;for(let $=y;$<=M;$++)Object.assign(r[$],{range:S.range,unelevated:!0,color:K.value,textColor:re.value});Object.assign(r[M],{flat:!1,rangeTo:!0})}else{const M=y+R.value-1;for(let $=y;$<=M;$++)Object.assign(r[$],{range:S.range,unelevated:!0,color:K.value,textColor:re.value})}}),Xe.value!==void 0){const S=y+Xe.value.from-1,M=y+Xe.value.to-1;for(let $=S;$<=M;$++)r[$].color=K.value,r[$].editRange=!0;Xe.value.includeFrom===!0&&(r[S].editRangeFrom=!0),Xe.value.includeTo===!0&&(r[M].editRangeTo=!0)}E.value.year===Z.value.year&&E.value.month===Z.value.month&&(r[y+Z.value.day-1].today=!0);const x=r.length%7;if(x>0){const S=7-x;for(let M=1;M<=S;M++)r.push({i:M,fill:!0})}return r.forEach(S=>{let M="q-date__calendar-item ";S.fill===!0?M+="q-date__calendar-item--fill":(M+=`q-date__calendar-item--${S.in===!0?"in":"out"}`,S.range!==void 0&&(M+=` q-date__range${S.rangeTo===!0?"-to":S.rangeFrom===!0?"-from":""}`),S.editRange===!0&&(M+=` q-date__edit-range${S.editRangeFrom===!0?"-from":""}${S.editRangeTo===!0?"-to":""}`),(S.range!==void 0||S.editRange===!0)&&(M+=` text-${S.color}`)),S.classes=M}),r}),oa=B(()=>e.disable===!0?{"aria-disabled":"true"}:{});da(()=>e.modelValue,r=>{if(A===r)A=0;else{const s=_(p.value,f.value);pe(s.year,s.month,s)}}),da(W,()=>{v.value!==null&&t.$el.contains(document.activeElement)===!0&&v.value.focus()}),da(()=>E.value.year+"|"+E.value.month,()=>{o("navigation",{year:E.value.year,month:E.value.month})}),da(C,r=>{Ae(r,f.value,"mask"),p.value=r}),da(G,r=>{Ae(p.value,r,"locale"),f.value=r});function Oe(){const{year:r,month:s,day:h}=Z.value,d={...E.value,year:r,month:s,day:h},y=Ue.value[Sa(d)];(y===void 0||y.includes(d.day)===!1)&&Te(d),ne(d.year,d.month)}function J(r){kt(r)===!0&&(W.value=r)}function ue(r,s){["month","year"].includes(r)&&(r==="month"?ra:ee)(s===!0?-1:1)}function ne(r,s){W.value="Calendar",pe(r,s)}function Q(r,s){if(e.range===!1||!r){ie.value=null;return}const h=Object.assign({...E.value},r),d=s!==void 0?Object.assign({...E.value},s):h;ie.value={init:h,initHash:Ea(h),final:d,finalHash:Ea(d)},ne(h.year,h.month)}function j(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function we(r,s,h){return Dl(r,s,h,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function _(r,s){const h=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(h.length===0)return L();const d=h[h.length-1],y=we(d.from!==void 0?d.from:d,r,s);return y.dateHash===null?L():y}function L(){let r,s;if(e.defaultYearMonth!==void 0){const h=e.defaultYearMonth.split("/");r=parseInt(h[0],10),s=parseInt(h[1],10)}else{const h=Z.value!==void 0?Z.value:b();r=h.year,s=h.month}return{year:r,month:s,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+Ne(s)+"/01"}}function ra(r){let s=E.value.year,h=Number(E.value.month)+r;h===13?(h=1,s++):h===0&&(h=12,s--),pe(s,h),He.value===!0&&ye("month")}function ee(r){const s=Number(E.value.year)+r;pe(s,E.value.month),He.value===!0&&ye("year")}function Be(r){pe(r,E.value.month),W.value=e.defaultView==="Years"?"Months":"Calendar",He.value===!0&&ye("year")}function la(r){pe(E.value.year,r),W.value="Calendar",He.value===!0&&ye("month")}function Re(r,s){const h=Ue.value[s];(h!==void 0&&h.includes(r.day)===!0?je:Te)(r)}function Ze(r){return{year:r.year,month:r.month,day:r.day}}function pe(r,s,h){if(H.value!==null&&r<=H.value.year&&((s<H.value.month||r<H.value.year)&&(s=H.value.month),r=H.value.year),ce.value!==null&&r>=ce.value.year&&((s>ce.value.month||r>ce.value.year)&&(s=ce.value.month),r=ce.value.year),h!==void 0){const{hour:y,minute:x,second:S,millisecond:M,timezoneOffset:$,timeHash:Ge}=h;Object.assign(E.value,{hour:y,minute:x,second:S,millisecond:M,timezoneOffset:$,timeHash:Ge})}const d=r+"/"+Ne(s)+"/01";d!==E.value.dateHash&&(be.value=E.value.dateHash<d==(n.lang.rtl!==!0)?"left":"right",r!==E.value.year&&(me.value=be.value),bt(()=>{Se.value=r-r%Oa-(r<0?Oa:0),Object.assign(E.value,{year:r,month:s,day:1,dateHash:d})}))}function qe(r,s,h){const d=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;A=d;const{reason:y,details:x}=Me(s,h);o("update:modelValue",d,y,x)}function ye(r){const s=D.value[0]!==void 0&&D.value[0].dateHash!==null?{...D.value[0]}:{...E.value};bt(()=>{s.year=E.value.year,s.month=E.value.month;const h=e.calendar!=="persian"?new Date(s.year,s.month,0).getDate():tt(s.year,s.month);s.day=Math.min(Math.max(1,s.day),h);const d=ve(s);A=d;const{details:y}=Me("",s);o("update:modelValue",d,r,y)})}function Me(r,s){return s.from!==void 0?{reason:`${r}-range`,details:{...Ze(s.target),from:Ze(s.from),to:Ze(s.to)}}:{reason:`${r}-day`,details:Ze(s)}}function ve(r,s,h){return r.from!==void 0?{from:P.value(r.from,s,h),to:P.value(r.to,s,h)}:P.value(r,s,h)}function Te(r){let s;if(e.multiple===!0)if(r.from!==void 0){const h=Ea(r.from),d=Ea(r.to),y=D.value.filter(S=>S.dateHash<h||S.dateHash>d),x=xe.value.filter(({from:S,to:M})=>M.dateHash<h||S.dateHash>d);s=y.concat(x).concat(r).map(S=>ve(S))}else{const h=We.value.slice();h.push(ve(r)),s=h}else s=ve(r);qe(s,"add",r)}function je(r){if(e.noUnset===!0)return;let s=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const h=ve(r);r.from!==void 0?s=e.modelValue.filter(d=>d.from!==void 0?d.from!==h.from&&d.to!==h.to:!0):s=e.modelValue.filter(d=>d!==h),s.length===0&&(s=null)}qe(s,"remove",r)}function Ae(r,s,h){const d=D.value.concat(xe.value).map(y=>ve(y,r,s)).filter(y=>y.from!==void 0?y.from.dateHash!==null&&y.to.dateHash!==null:y.dateHash!==null);o("update:modelValue",(e.multiple===!0?d:d[0])||null,h)}function Ye(){if(e.minimal!==!0)return I("div",{class:"q-date__header "+g.value},[I("div",{class:"relative-position"},[I(Ua,{name:"q-transition--fade"},()=>I("div",{key:"h-yr-"+q.value,class:"q-date__header-subtitle q-date__header-link "+(W.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:m.value,...l("vY",{onClick(){W.value="Years"},onKeyup(r){r.keyCode===13&&(W.value="Years")}})},[q.value]))]),I("div",{class:"q-date__header-title relative-position flex no-wrap"},[I("div",{class:"relative-position col"},[I(Ua,{name:"q-transition--fade"},()=>I("div",{key:"h-sub"+Y.value,class:"q-date__header-title-label q-date__header-link "+(W.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:m.value,...l("vC",{onClick(){W.value="Calendar"},onKeyup(r){r.keyCode===13&&(W.value="Calendar")}})},[Y.value]))]),e.todayBtn===!0?I(oe,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:m.value,onClick:Oe}):null])])}function Ke({label:r,type:s,key:h,dir:d,goTo:y,boundaries:x,cls:S}){return[I("div",{class:"row items-center q-date__arrow"},[I(oe,{round:!0,dense:!0,size:"sm",flat:!0,icon:V.value[0],tabindex:m.value,disable:x.prev===!1,...l("go-#"+s,{onClick(){y(-1)}})})]),I("div",{class:"relative-position overflow-hidden flex flex-center"+S},[I(Ua,{name:"q-transition--jump-"+d},()=>I("div",{key:h},[I(oe,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:m.value,...l("view#"+s,{onClick:()=>{W.value=s}})})]))]),I("div",{class:"row items-center q-date__arrow"},[I(oe,{round:!0,dense:!0,size:"sm",flat:!0,icon:V.value[1],tabindex:m.value,disable:x.next===!1,...l("go+#"+s,{onClick(){y(1)}})})])]}const ma={Calendar:()=>[I("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[I("div",{class:"q-date__navigation row items-center no-wrap"},Ke({label:f.value.months[E.value.month-1],type:"Months",key:E.value.month,dir:be.value,goTo:ra,boundaries:Le.value.month,cls:" col"}).concat(Ke({label:E.value.year,type:"Years",key:E.value.year,dir:me.value,goTo:ee,boundaries:Le.value.year,cls:""}))),I("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},U.value.map(r=>I("div",{class:"q-date__calendar-item"},[I("div",r)]))),I("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[I(Ua,{name:"q-transition--slide-"+be.value},()=>I("div",{key:Ce.value,class:"q-date__calendar-days fit"},Fe.value.map(r=>I("div",{class:r.classes},[r.in===!0?I(oe,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:m.value,...l("day#"+r.i,{onClick:()=>{ca(r.i)},onMouseover:()=>{ha(r.i)}})},r.event!==!1?()=>I("div",{class:"q-date__event bg-"+r.event}):null):I("div",""+r.i)]))))])])],Months(){const r=E.value.year===Z.value.year,s=d=>H.value!==null&&E.value.year===H.value.year&&H.value.month>d||ce.value!==null&&E.value.year===ce.value.year&&ce.value.month<d,h=f.value.monthsShort.map((d,y)=>{const x=E.value.month===y+1;return I("div",{class:"q-date__months-item flex flex-center"},[I(oe,{class:r===!0&&Z.value.month===y+1?"q-date__today":null,flat:x!==!0,label:d,unelevated:x,color:x===!0?K.value:null,textColor:x===!0?re.value:null,tabindex:m.value,disable:s(y+1),...l("month#"+y,{onClick:()=>{la(y+1)}})})])});return e.yearsInMonthView===!0&&h.unshift(I("div",{class:"row no-wrap full-width"},[Ke({label:E.value.year,type:"Years",key:E.value.year,dir:me.value,goTo:ee,boundaries:Le.value.year,cls:" col"})])),I("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},h)},Years(){const r=Se.value,s=r+Oa,h=[],d=y=>H.value!==null&&H.value.year>y||ce.value!==null&&ce.value.year<y;for(let y=r;y<=s;y++){const x=E.value.year===y;h.push(I("div",{class:"q-date__years-item flex flex-center"},[I(oe,{key:"yr"+y,class:Z.value.year===y?"q-date__today":null,flat:!x,label:y,dense:!0,unelevated:x,color:x===!0?K.value:null,textColor:x===!0?re.value:null,tabindex:m.value,disable:d(y),...l("yr#"+y,{onClick:()=>{Be(y)}})})]))}return I("div",{class:"q-date__view q-date__years flex flex-center"},[I("div",{class:"col-auto"},[I(oe,{round:!0,dense:!0,flat:!0,icon:V.value[0],tabindex:m.value,disable:d(r),...l("y-",{onClick:()=>{Se.value-=Oa}})})]),I("div",{class:"q-date__years-content col self-stretch row items-center"},h),I("div",{class:"col-auto"},[I(oe,{round:!0,dense:!0,flat:!0,icon:V.value[1],tabindex:m.value,disable:d(s),...l("y+",{onClick:()=>{Se.value+=Oa}})})])])}};function ca(r){const s={...E.value,day:r};if(e.range===!1){Re(s,Ce.value);return}if(ie.value===null){const h=Fe.value.find(y=>y.fill!==!0&&y.i===r);if(e.noUnset!==!0&&h.range!==void 0){je({target:s,from:h.range.from,to:h.range.to});return}if(h.selected===!0){je(s);return}const d=Ea(s);ie.value={init:s,initHash:d,final:s,finalHash:d},o("rangeStart",Ze(s))}else{const h=ie.value.initHash,d=Ea(s),y=h<=d?{from:ie.value.init,to:s}:{from:s,to:ie.value.init};ie.value=null,Te(h===d?s:{target:s,...y}),o("rangeEnd",{from:Ze(y.from),to:Ze(y.to)})}}function ha(r){if(ie.value!==null){const s={...E.value,day:r};Object.assign(ie.value,{final:s,finalHash:Ea(s)})}}return Object.assign(t,{setToday:Oe,setView:J,offsetCalendar:ue,setCalendarTo:ne,setEditingRange:Q}),()=>{const r=[I("div",{class:"q-date__content col relative-position"},[I(Ua,{name:"q-transition--fade"},ma[W.value])])],s=lt(a.default);return s!==void 0&&r.push(I("div",{class:"q-date__actions"},s)),e.name!==void 0&&e.disable!==!0&&z(r,"push"),I("div",{class:he.value,...oa.value},[Ye(),I("div",{ref:v,class:"q-date__main col column",tabindex:-1},r)])}}}),wa=Xa({name:"QPopupProxy",props:{...Go,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:t}){const{proxy:n}=nt(),{$q:i}=n,l=N(!1),m=N(null),g=B(()=>parseInt(e.breakpoint,10)),{canShow:w}=Jo({showing:l});function b(){return i.screen.width<g.value||i.screen.height<g.value?"dialog":"menu"}const A=N(b()),X=B(()=>A.value==="menu"?{maxHeight:"99vh"}:{});da(()=>b(),p=>{l.value!==!0&&(A.value=p)});function z(p){l.value=!0,o("show",p)}function v(p){l.value=!1,A.value=b(),o("hide",p)}return Object.assign(n,{show(p){w(p)===!0&&m.value.show(p)},hide(p){m.value.hide(p)},toggle(p){m.value.toggle(p)}}),Zo(n,"currentComponent",()=>({type:A.value,ref:m.value})),()=>{const p={ref:m,...X.value,...t,onShow:z,onHide:v};let f;return A.value==="dialog"?f=at:(f=Gt,Object.assign(p,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),I(f,p,a.default)}}});function no(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n=t.display;return n==="block"||n==="table"?e:no(e.parentNode)}function gt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function so(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let t=0;a.count!==0&&t<e.childNodes.length;t++)o=so(e.childNodes[t],a,o);return o}const Ml=/^https?:\/\//;class zl{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(gt(a.anchorNode,this.el,!0)&&gt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!==null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?no(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),t=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),t.removeAllRanges(),t.addRange(o)):(t.selectAllChildren(this.el),t.collapseToEnd())}savePosition(){let a=-1,o;const t=document.getSelection(),n=this.el.parentNode;if(t.focusNode&&gt(t.focusNode,n))for(o=t.focusNode,a=t.focusOffset;o&&o!==n;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),t=so(this.el,{count:this.savedPos});t&&(t.collapse(!1),o.removeAllRanges(),o.addRange(t))}}hasParent(a,o){const t=o?this.parent:this.blockParent;return t!==null?t.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,t=this.parent){return t===null?!1:a.includes(t.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,t.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const t=document.queryCommandValue(a);return t===`"${o}"`||t===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const n=document.queryCommandState(a);return o!==void 0?n===o:n}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,t=Ko){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){t();const n=window.open();n.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),n.print(),n.close();return}else if(a==="link"){const n=this.getParentAttribute("href");if(n===null){const i=this.selectWord(this.selection),l=i?i.toString():"";if(!l.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Ml.test(l)?l:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(i.getRangeAt(0))}else this.eVm.editLinkUrl.value=n,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),t();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),t();return}document.execCommand(a,!1,o),t()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const t=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const n=a.focusNode,i=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",t[0],"character"),a.modify("move",t[1],"word"),a.extend(n,i),a.modify("extend",t[1],"character"),a.modify("extend",t[0],"word"),a}}var Ll=Xa({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const o=B(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>I("div",{class:o.value},lt(a.default))}});const Fl=Object.keys(Jt),Rl=e=>Fl.reduce((a,o)=>{const t=e[o];return t!==void 0&&(a[o]=t),a},{});var jl=Xa({name:"QBtnDropdown",props:{...Jt,...$o,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:o}){const{proxy:t}=nt(),n=N(e.modelValue),i=N(null),l=el(),m=B(()=>{const E={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l.value,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(E["aria-disabled"]="true"),E}),g=B(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),w=B(()=>al(e)),b=B(()=>Rl(e));da(()=>e.modelValue,E=>{i.value!==null&&i.value[E?"show":"hide"]()}),da(()=>e.split,Z);function A(E){n.value=!0,o("beforeShow",E)}function X(E){o("show",E),o("update:modelValue",!0)}function z(E){n.value=!1,o("beforeHide",E)}function v(E){o("hide",E),o("update:modelValue",!1)}function p(E){o("click",E)}function f(E){Zt(E),Z(),o("click",E)}function C(E){i.value!==null&&i.value.toggle(E)}function G(E){i.value!==null&&i.value.show(E)}function Z(E){i.value!==null&&i.value.hide(E)}return Object.assign(t,{show:G,hide:Z,toggle:C}),Vt(()=>{e.modelValue===!0&&G()}),()=>{const E=[I(ga,{class:g.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&E.push(I(Gt,{ref:i,id:l.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:A,onShow:X,onBeforeHide:z,onHide:v},a.default)),e.split===!1?I(oe,{class:"q-btn-dropdown q-btn-dropdown--simple",...b.value,...m.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:p},{default:()=>lt(a.label,[]).concat(E),loading:a.loading}):I(Ll,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...w.value,glossy:e.glossy,stretch:e.stretch},()=>[I(oe,{class:"q-btn-dropdown--current",...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:f},{default:a.label,loading:a.loading}),I(oe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...m.value,...w.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>E)])}}});function io(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function Nt(e){return I("div",{class:"q-editor__toolbar-group"},e)}function ro(e,a,o,t=!1){const n=t||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),i=[];if(a.tip&&e.$q.platform.is.desktop){const l=a.key?I("div",[I("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;i.push(I(bl,{delay:1e3},()=>[I("div",{innerHTML:a.tip}),l]))}return I(oe,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:n?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:n&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(l){o&&o(),io(l,a,e)}},()=>i)}function Hl(e,a){const o=a.list==="only-icons";let t=a.label,n=a.icon!==null?a.icon:void 0,i,l;function m(){w.component.proxy.hide()}if(o)l=a.options.map(b=>{const A=b.type===void 0?e.caret.is(b.cmd,b.param):!1;return A&&(t=b.tip,n=b.icon!==null?b.icon:void 0),ro(e,b,m,A)}),i=e.toolbarBackgroundClass.value,l=[Nt(l)];else{const b=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,A=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,X=a.list==="no-icons";l=a.options.map(z=>{const v=z.disable?z.disable(e):!1,p=z.type===void 0?e.caret.is(z.cmd,z.param):!1;p&&(t=z.tip,n=z.icon!==null?z.icon:void 0);const f=z.htmlTip;return I(tl,{active:p,activeClass:b,clickable:!0,disable:v,dense:!0,onClick(C){m(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),io(C,z,e)}},()=>[X===!0?null:I(xt,{class:p?b:A,side:!0},()=>I(ga,{name:z.icon!==null?z.icon:void 0})),I(xt,f?()=>I("div",{class:"text-no-wrap",innerHTML:z.htmlTip}):z.tip?()=>I("div",{class:"text-no-wrap"},z.tip):void 0)])}),i=[e.toolbarBackgroundClass.value,A]}const g=a.highlight&&t!==a.label,w=I(jl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:g?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:g&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:t,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:n,contentClass:i,onShow:b=>e.emit("dropdownShow",b),onHide:b=>e.emit("dropdownHide",b),onBeforeShow:b=>e.emit("dropdownBeforeShow",b),onBeforeHide:b=>e.emit("dropdownBeforeHide",b)},()=>l);return w}function Ul(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>Nt(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?lt(e.slots[o.slot]):o.type==="dropdown"?Hl(e,o):ro(e,o))))}function Bl(e,a,o,t={}){const n=Object.keys(t);if(n.length===0)return{};const i={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return n.forEach(l=>{const m=t[l];i[l]={cmd:"fontName",param:m,icon:o,tip:m,htmlTip:`<font face="${m}">${m}</font>`}}),i}function Yl(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const t=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[I("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),I("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:n=>{Zt(n),o=n.target.value},onKeydown:n=>{if(Kt(n)!==!0)switch(n.keyCode){case 13:return St(n),t();case 27:St(n),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Nt([I(oe,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),I(oe,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:t})])]}}const Wl=Object.prototype.toString,pt=Object.prototype.hasOwnProperty,Ql=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Mt(e){if(e!==Object(e)||Ql.has(Wl.call(e))===!0||e.constructor&&pt.call(e,"constructor")===!1&&pt.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||pt.call(e,a)}function co(){let e,a,o,t,n,i,l=arguments[0]||{},m=1,g=!1;const w=arguments.length;for(typeof l=="boolean"&&(g=l,l=arguments[1]||{},m=2),Object(l)!==l&&typeof l!="function"&&(l={}),w===m&&(l=this,m--);m<w;m++)if((e=arguments[m])!==null)for(a in e)o=l[a],t=e[a],l!==t&&(g===!0&&t&&((n=Array.isArray(t))||Mt(t)===!0)?(n===!0?i=Array.isArray(o)===!0?o:[]:i=Mt(o)===!0?o:{},l[a]=co(g,i,t)):t!==void 0&&(l[a]=t));return l}var zt=Xa({name:"QEditor",props:{...Qt,...ol,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...ll,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:t}=nt(),{$q:n}=t,i=Xt(e,n),{inFullscreen:l,toggleFullscreen:m}=nl(),g=sl(),w=N(null),b=N(null),A=N(null),X=N(!1),z=B(()=>!e.readonly&&!e.disable);let v,p,f=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),v=window.getComputedStyle(document.body).fontFamily;const C=B(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),G=B(()=>{const V=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:V,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!z.value,size:"sm"}}),Z=B(()=>{const V=n.lang.editor,T=n.iconSet.editor;return{bold:{cmd:"bold",icon:T.bold,tip:V.bold,key:66},italic:{cmd:"italic",icon:T.italic,tip:V.italic,key:73},strike:{cmd:"strikeThrough",icon:T.strikethrough,tip:V.strikethrough,key:83},underline:{cmd:"underline",icon:T.underline,tip:V.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:T.unorderedList,tip:V.unorderedList},ordered:{cmd:"insertOrderedList",icon:T.orderedList,tip:V.orderedList},subscript:{cmd:"subscript",icon:T.subscript,tip:V.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:T.superscript,tip:V.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:U=>U.caret&&!U.caret.can("link"),icon:T.hyperlink,tip:V.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:T.toggleFullscreen,tip:V.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:T.viewSource,tip:V.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:T.quote,tip:V.quote,key:81},left:{cmd:"justifyLeft",icon:T.left,tip:V.left},center:{cmd:"justifyCenter",icon:T.center,tip:V.center},right:{cmd:"justifyRight",icon:T.right,tip:V.right},justify:{cmd:"justifyFull",icon:T.justify,tip:V.justify},print:{type:"no-state",cmd:"print",icon:T.print,tip:V.print,key:80},outdent:{type:"no-state",disable:U=>U.caret&&!U.caret.can("outdent"),cmd:"outdent",icon:T.outdent,tip:V.outdent},indent:{type:"no-state",disable:U=>U.caret&&!U.caret.can("indent"),cmd:"indent",icon:T.indent,tip:V.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:T.removeFormat,tip:V.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:T.hr,tip:V.hr},undo:{type:"no-state",cmd:"undo",icon:T.undo,tip:V.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:T.redo,tip:V.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:T.heading1||T.heading,tip:V.heading1,htmlTip:`<h1 class="q-ma-none">${V.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:T.heading2||T.heading,tip:V.heading2,htmlTip:`<h2 class="q-ma-none">${V.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:T.heading3||T.heading,tip:V.heading3,htmlTip:`<h3 class="q-ma-none">${V.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:T.heading4||T.heading,tip:V.heading4,htmlTip:`<h4 class="q-ma-none">${V.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:T.heading5||T.heading,tip:V.heading5,htmlTip:`<h5 class="q-ma-none">${V.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:T.heading6||T.heading,tip:V.heading6,htmlTip:`<h6 class="q-ma-none">${V.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:T.heading,tip:V.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:T.code,htmlTip:`<code>${V.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:T.size1||T.size,tip:V.size1,htmlTip:`<font size="1">${V.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:T.size2||T.size,tip:V.size2,htmlTip:`<font size="2">${V.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:T.size3||T.size,tip:V.size3,htmlTip:`<font size="3">${V.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:T.size4||T.size,tip:V.size4,htmlTip:`<font size="4">${V.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:T.size5||T.size,tip:V.size5,htmlTip:`<font size="5">${V.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:T.size6||T.size,tip:V.size6,htmlTip:`<font size="6">${V.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:T.size7||T.size,tip:V.size7,htmlTip:`<font size="7">${V.size7}</font>`}}}),E=B(()=>{const V=e.definitions||{},T=e.definitions||e.fonts?co(!0,{},Z.value,V,Bl(v,n.lang.editor.defaultFont,n.iconSet.editor.font,e.fonts)):Z.value;return e.toolbar.map(U=>U.map(R=>{if(R.options)return{type:"dropdown",icon:R.icon,label:R.label,size:"sm",dense:!0,fixedLabel:R.fixedLabel,fixedIcon:R.fixedIcon,highlight:R.highlight,list:R.list,options:R.options.map(H=>T[H])};const fe=T[R];return fe?fe.type==="no-state"||V[R]&&(fe.cmd===void 0||Z.value[fe.cmd]&&Z.value[fe.cmd].type==="no-state")?fe:Object.assign({type:"toggle"},fe):{type:"slot",slot:R}}))}),W={$q:n,props:e,slots:a,emit:o,inFullscreen:l,toggleFullscreen:m,runCmd:Y,isViewingSource:X,editLinkUrl:A,toolbarBackgroundClass:C,buttonProps:G,contentRef:b,buttons:E,setContent:de};da(()=>e.modelValue,V=>{f!==V&&(f=V,de(V,!0))}),da(A,V=>{o(`link${V?"Show":"Hide"}`)});const _e=B(()=>e.toolbar&&e.toolbar.length!==0),be=B(()=>{const V={},T=U=>{U.key&&(V[U.key]={cmd:U.cmd,param:U.param})};return E.value.forEach(U=>{U.forEach(R=>{R.options?R.options.forEach(T):T(R)})}),V}),me=B(()=>l.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Ee=B(()=>`q-editor q-editor--${X.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(l.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(i.value===!0?" q-editor--dark q-dark":"")),Se=B(()=>[e.contentClass,"q-editor__content",{col:l.value,"overflow-auto":l.value||e.maxHeight}]),ie=B(()=>e.disable===!0?{"aria-disabled":"true"}:{});function he(){if(b.value!==null){const V=`inner${X.value===!0?"Text":"HTML"}`,T=b.value[V];T!==e.modelValue&&(f=T,o("update:modelValue",T))}}function K(V){if(o("keydown",V),V.ctrlKey!==!0||Kt(V)===!0){ze();return}const T=V.keyCode,U=be.value[T];if(U!==void 0){const{cmd:R,param:fe}=U;rl(V),Y(R,fe,!1)}}function re(V){ze(),o("click",V)}function He(V){if(b.value!==null){const{scrollTop:T,scrollHeight:U}=b.value;p=U-T}W.caret.save(),o("blur",V)}function We(V){bt(()=>{b.value!==null&&p!==void 0&&(b.value.scrollTop=b.value.scrollHeight-p)}),o("focus",V)}function D(V){const T=w.value;if(T!==null&&T.contains(V.target)===!0&&(V.relatedTarget===null||T.contains(V.relatedTarget)!==!0)){const U=`inner${X.value===!0?"Text":"HTML"}`;W.caret.restorePosition(b.value[U].length),ze()}}function xe(V){const T=w.value;T!==null&&T.contains(V.target)===!0&&(V.relatedTarget===null||T.contains(V.relatedTarget)!==!0)&&(W.caret.savePosition(),ze())}function Ie(){p=void 0}function P(V){W.caret.save()}function de(V,T){if(b.value!==null){T===!0&&W.caret.savePosition();const U=`inner${X.value===!0?"Text":"HTML"}`;b.value[U]=V,T===!0&&(W.caret.restorePosition(b.value[U].length),ze())}}function Y(V,T,U=!0){Qe(),W.caret.restore(),W.caret.apply(V,T,()=>{Qe(),W.caret.save(),U&&ze()})}function ze(){setTimeout(()=>{A.value=null,t.$forceUpdate()},1)}function Qe(){cl(()=>{b.value!==null&&b.value.focus({preventScroll:!0})})}function q(){return b.value}return Vt(()=>{W.caret=t.caret=new zl(b.value,W),de(e.modelValue),ze(),document.addEventListener("selectionchange",P)}),il(()=>{document.removeEventListener("selectionchange",P)}),Object.assign(t,{runCmd:Y,refreshToolbar:ze,focus:Qe,getContentEl:q}),()=>{let V;if(_e.value){const T=[I("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+C.value},Ul(W))];A.value!==null&&T.push(I("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+C.value},Yl(W))),V=I("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},T)}return I("div",{ref:w,class:Ee.value,style:{height:l.value===!0?"100%":null},...ie.value,onFocusin:D,onFocusout:xe},[V,I("div",{ref:b,style:me.value,class:Se.value,contenteditable:z.value,placeholder:e.placeholder,...g.listeners.value,onInput:he,onKeydown:K,onClick:re,onBlur:He,onFocus:We,onMousedown:Ie,onTouchstartPassive:Ie})])}}});function ua(e){const a=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&a==="[object Date]"?new e.constructor(+e):typeof e=="number"||a==="[object Number]"||typeof e=="string"||a==="[object String]"?new Date(e):new Date(NaN)}function Ma(e,a){return e instanceof Date?new e.constructor(a):new Date(a)}const uo=6048e5,Xl=864e5;let Gl={};function st(){return Gl}function Qa(e,a){var m,g,w,b,A,X,z,v;const o=st(),t=(v=(z=(b=(w=a==null?void 0:a.weekStartsOn)!=null?w:(g=(m=a==null?void 0:a.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)!=null?b:o.weekStartsOn)!=null?z:(X=(A=o.locale)==null?void 0:A.options)==null?void 0:X.weekStartsOn)!=null?v:0,n=ua(e),i=n.getDay(),l=(i<t?7:0)+i-t;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function ot(e){return Qa(e,{weekStartsOn:1})}function mo(e){const a=ua(e),o=a.getFullYear(),t=Ma(e,0);t.setFullYear(o+1,0,4),t.setHours(0,0,0,0);const n=ot(t),i=Ma(e,0);i.setFullYear(o,0,4),i.setHours(0,0,0,0);const l=ot(i);return a.getTime()>=n.getTime()?o+1:a.getTime()>=l.getTime()?o:o-1}function Lt(e){const a=ua(e);return a.setHours(0,0,0,0),a}function Ft(e){const a=ua(e),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),+e-+o}function Jl(e,a){const o=Lt(e),t=Lt(a),n=+o-Ft(o),i=+t-Ft(t);return Math.round((n-i)/Xl)}function Zl(e){const a=mo(e),o=Ma(e,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),ot(o)}function Kl(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $l(e){if(!Kl(e)&&typeof e!="number")return!1;const a=ua(e);return!isNaN(Number(a))}function en(e){const a=ua(e),o=Ma(e,0);return o.setFullYear(a.getFullYear(),0,1),o.setHours(0,0,0,0),o}const an={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tn=(e,a,o)=>{let t;const n=an[e];return typeof n=="string"?t=n:a===1?t=n.one:t=n.other.replace("{{count}}",a.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+t:t+" ago":t};function vt(e){return(a={})=>{const o=a.width?String(a.width):e.defaultWidth;return e.formats[o]||e.formats[e.defaultWidth]}}const on={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ln={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sn={date:vt({formats:on,defaultWidth:"full"}),time:vt({formats:ln,defaultWidth:"full"}),dateTime:vt({formats:nn,defaultWidth:"full"})},rn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cn=(e,a,o,t)=>rn[e];function Ya(e){return(a,o)=>{const t=o!=null&&o.context?String(o.context):"standalone";let n;if(t==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,m=o!=null&&o.width?String(o.width):l;n=e.formattingValues[m]||e.formattingValues[l]}else{const l=e.defaultWidth,m=o!=null&&o.width?String(o.width):e.defaultWidth;n=e.values[m]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(a):a;return n[i]}}const dn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},un={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pn=(e,a)=>{const o=Number(e),t=o%100;if(t>20||t<10)switch(t%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},vn={ordinalNumber:pn,era:Ya({values:dn,defaultWidth:"wide"}),quarter:Ya({values:un,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ya({values:mn,defaultWidth:"wide"}),day:Ya({values:hn,defaultWidth:"wide"}),dayPeriod:Ya({values:fn,defaultWidth:"wide",formattingValues:gn,defaultFormattingWidth:"wide"})};function Wa(e){return(a,o={})=>{const t=o.width,n=t&&e.matchPatterns[t]||e.matchPatterns[e.defaultMatchWidth],i=a.match(n);if(!i)return null;const l=i[0],m=t&&e.parsePatterns[t]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(m)?yn(m,A=>A.test(l)):bn(m,A=>A.test(l));let w;w=e.valueCallback?e.valueCallback(g):g,w=o.valueCallback?o.valueCallback(w):w;const b=a.slice(l.length);return{value:w,rest:b}}}function bn(e,a){for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&a(e[o]))return o}function yn(e,a){for(let o=0;o<e.length;o++)if(a(e[o]))return o}function Vn(e){return(a,o={})=>{const t=a.match(e.matchPattern);if(!t)return null;const n=t[0],i=a.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=o.valueCallback?o.valueCallback(l):l;const m=a.slice(n.length);return{value:l,rest:m}}}const Cn=/^(\d+)(th|st|nd|rd)?/i,Nn=/\d+/i,Tn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},En={any:[/^b/i,/^(a|c)/i]},Sn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xn={any:[/1/i,/2/i,/3/i,/4/i]},wn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},An={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_n={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},In={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dn={ordinalNumber:Vn({matchPattern:Cn,parsePattern:Nn,valueCallback:e=>parseInt(e,10)}),era:Wa({matchPatterns:Tn,defaultMatchWidth:"wide",parsePatterns:En,defaultParseWidth:"any"}),quarter:Wa({matchPatterns:Sn,defaultMatchWidth:"wide",parsePatterns:xn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wa({matchPatterns:wn,defaultMatchWidth:"wide",parsePatterns:An,defaultParseWidth:"any"}),day:Wa({matchPatterns:Pn,defaultMatchWidth:"wide",parsePatterns:_n,defaultParseWidth:"any"}),dayPeriod:Wa({matchPatterns:In,defaultMatchWidth:"any",parsePatterns:qn,defaultParseWidth:"any"})},On={code:"en-US",formatDistance:tn,formatLong:sn,formatRelative:cn,localize:vn,match:Dn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kn(e){const a=ua(e);return Jl(a,en(a))+1}function Mn(e){const a=ua(e),o=+ot(a)-+Zl(a);return Math.round(o/uo)+1}function ho(e,a){var b,A,X,z,v,p,f,C;const o=ua(e),t=o.getFullYear(),n=st(),i=(C=(f=(z=(X=a==null?void 0:a.firstWeekContainsDate)!=null?X:(A=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:A.firstWeekContainsDate)!=null?z:n.firstWeekContainsDate)!=null?f:(p=(v=n.locale)==null?void 0:v.options)==null?void 0:p.firstWeekContainsDate)!=null?C:1,l=Ma(e,0);l.setFullYear(t+1,0,i),l.setHours(0,0,0,0);const m=Qa(l,a),g=Ma(e,0);g.setFullYear(t,0,i),g.setHours(0,0,0,0);const w=Qa(g,a);return o.getTime()>=m.getTime()?t+1:o.getTime()>=w.getTime()?t:t-1}function zn(e,a){var m,g,w,b,A,X,z,v;const o=st(),t=(v=(z=(b=(w=a==null?void 0:a.firstWeekContainsDate)!=null?w:(g=(m=a==null?void 0:a.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)!=null?b:o.firstWeekContainsDate)!=null?z:(X=(A=o.locale)==null?void 0:A.options)==null?void 0:X.firstWeekContainsDate)!=null?v:1,n=ho(e,a),i=Ma(e,0);return i.setFullYear(n,0,t),i.setHours(0,0,0,0),Qa(i,a)}function Ln(e,a){const o=ua(e),t=+Qa(o,a)-+zn(o,a);return Math.round(t/uo)+1}function Ve(e,a){const o=e<0?"-":"",t=Math.abs(e).toString().padStart(a,"0");return o+t}const Aa={y(e,a){const o=e.getFullYear(),t=o>0?o:1-o;return Ve(a==="yy"?t%100:t,a.length)},M(e,a){const o=e.getMonth();return a==="M"?String(o+1):Ve(o+1,2)},d(e,a){return Ve(e.getDate(),a.length)},a(e,a){const o=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(e,a){return Ve(e.getHours()%12||12,a.length)},H(e,a){return Ve(e.getHours(),a.length)},m(e,a){return Ve(e.getMinutes(),a.length)},s(e,a){return Ve(e.getSeconds(),a.length)},S(e,a){const o=a.length,t=e.getMilliseconds(),n=Math.trunc(t*Math.pow(10,o-3));return Ve(n,a.length)}},Fa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rt={G:function(e,a,o){const t=e.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})}},y:function(e,a,o){if(a==="yo"){const t=e.getFullYear(),n=t>0?t:1-t;return o.ordinalNumber(n,{unit:"year"})}return Aa.y(e,a)},Y:function(e,a,o,t){const n=ho(e,t),i=n>0?n:1-n;if(a==="YY"){const l=i%100;return Ve(l,2)}return a==="Yo"?o.ordinalNumber(i,{unit:"year"}):Ve(i,a.length)},R:function(e,a){const o=mo(e);return Ve(o,a.length)},u:function(e,a){const o=e.getFullYear();return Ve(o,a.length)},Q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"Q":return String(t);case"QQ":return Ve(t,2);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,a,o){const t=Math.ceil((e.getMonth()+1)/3);switch(a){case"q":return String(t);case"qq":return Ve(t,2);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,a,o){const t=e.getMonth();switch(a){case"M":case"MM":return Aa.M(e,a);case"Mo":return o.ordinalNumber(t+1,{unit:"month"});case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})}},L:function(e,a,o){const t=e.getMonth();switch(a){case"L":return String(t+1);case"LL":return Ve(t+1,2);case"Lo":return o.ordinalNumber(t+1,{unit:"month"});case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})}},w:function(e,a,o,t){const n=Ln(e,t);return a==="wo"?o.ordinalNumber(n,{unit:"week"}):Ve(n,a.length)},I:function(e,a,o){const t=Mn(e);return a==="Io"?o.ordinalNumber(t,{unit:"week"}):Ve(t,a.length)},d:function(e,a,o){return a==="do"?o.ordinalNumber(e.getDate(),{unit:"date"}):Aa.d(e,a)},D:function(e,a,o){const t=kn(e);return a==="Do"?o.ordinalNumber(t,{unit:"dayOfYear"}):Ve(t,a.length)},E:function(e,a,o){const t=e.getDay();switch(a){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})}},e:function(e,a,o,t){const n=e.getDay(),i=(n-t.weekStartsOn+8)%7||7;switch(a){case"e":return String(i);case"ee":return Ve(i,2);case"eo":return o.ordinalNumber(i,{unit:"day"});case"eee":return o.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})}},c:function(e,a,o,t){const n=e.getDay(),i=(n-t.weekStartsOn+8)%7||7;switch(a){case"c":return String(i);case"cc":return Ve(i,a.length);case"co":return o.ordinalNumber(i,{unit:"day"});case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})}},i:function(e,a,o){const t=e.getDay(),n=t===0?7:t;switch(a){case"i":return String(n);case"ii":return Ve(n,a.length);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return o.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(t,{width:"short",context:"formatting"});case"iiii":default:return o.day(t,{width:"wide",context:"formatting"})}},a:function(e,a,o){const n=e.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,a,o){const t=e.getHours();let n;switch(t===12?n=Fa.noon:t===0?n=Fa.midnight:n=t/12>=1?"pm":"am",a){case"b":case"bb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,a,o){const t=e.getHours();let n;switch(t>=17?n=Fa.evening:t>=12?n=Fa.afternoon:t>=4?n=Fa.morning:n=Fa.night,a){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,a,o){if(a==="ho"){let t=e.getHours()%12;return t===0&&(t=12),o.ordinalNumber(t,{unit:"hour"})}return Aa.h(e,a)},H:function(e,a,o){return a==="Ho"?o.ordinalNumber(e.getHours(),{unit:"hour"}):Aa.H(e,a)},K:function(e,a,o){const t=e.getHours()%12;return a==="Ko"?o.ordinalNumber(t,{unit:"hour"}):Ve(t,a.length)},k:function(e,a,o){let t=e.getHours();return t===0&&(t=24),a==="ko"?o.ordinalNumber(t,{unit:"hour"}):Ve(t,a.length)},m:function(e,a,o){return a==="mo"?o.ordinalNumber(e.getMinutes(),{unit:"minute"}):Aa.m(e,a)},s:function(e,a,o){return a==="so"?o.ordinalNumber(e.getSeconds(),{unit:"second"}):Aa.s(e,a)},S:function(e,a){return Aa.S(e,a)},X:function(e,a,o){const t=e.getTimezoneOffset();if(t===0)return"Z";switch(a){case"X":return Ht(t);case"XXXX":case"XX":return ka(t);case"XXXXX":case"XXX":default:return ka(t,":")}},x:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"x":return Ht(t);case"xxxx":case"xx":return ka(t);case"xxxxx":case"xxx":default:return ka(t,":")}},O:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+jt(t,":");case"OOOO":default:return"GMT"+ka(t,":")}},z:function(e,a,o){const t=e.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+jt(t,":");case"zzzz":default:return"GMT"+ka(t,":")}},t:function(e,a,o){const t=Math.trunc(e.getTime()/1e3);return Ve(t,a.length)},T:function(e,a,o){const t=e.getTime();return Ve(t,a.length)}};function jt(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Math.trunc(t/60),i=t%60;return i===0?o+String(n):o+String(n)+a+Ve(i,2)}function Ht(e,a){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):ka(e,a)}function ka(e,a=""){const o=e>0?"-":"+",t=Math.abs(e),n=Ve(Math.trunc(t/60),2),i=Ve(t%60,2);return o+n+a+i}const Ut=(e,a)=>{switch(e){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},fo=(e,a)=>{switch(e){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Fn=(e,a)=>{const o=e.match(/(P+)(p+)?/)||[],t=o[1],n=o[2];if(!n)return Ut(e,a);let i;switch(t){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;case"PPPP":default:i=a.dateTime({width:"full"});break}return i.replace("{{date}}",Ut(t,a)).replace("{{time}}",fo(n,a))},Rn={p:fo,P:Fn},jn=/^D+$/,Hn=/^Y+$/,Un=["D","DD","YY","YYYY"];function Bn(e){return jn.test(e)}function Yn(e){return Hn.test(e)}function Wn(e,a,o){const t=Qn(e,a,o);if(console.warn(t),Un.includes(e))throw new RangeError(t)}function Qn(e,a,o){const t=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${a}\`) for formatting ${t} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jn=/^'([^]*?)'?$/,Zn=/''/g,Kn=/[a-zA-Z]/;function Bt(e,a,o){var b,A,X,z,v,p,f,C,G,Z,E,W,_e,be,me,Ee,Se,ie;const t=st(),n=(A=(b=o==null?void 0:o.locale)!=null?b:t.locale)!=null?A:On,i=(Z=(G=(p=(v=o==null?void 0:o.firstWeekContainsDate)!=null?v:(z=(X=o==null?void 0:o.locale)==null?void 0:X.options)==null?void 0:z.firstWeekContainsDate)!=null?p:t.firstWeekContainsDate)!=null?G:(C=(f=t.locale)==null?void 0:f.options)==null?void 0:C.firstWeekContainsDate)!=null?Z:1,l=(ie=(Se=(be=(_e=o==null?void 0:o.weekStartsOn)!=null?_e:(W=(E=o==null?void 0:o.locale)==null?void 0:E.options)==null?void 0:W.weekStartsOn)!=null?be:t.weekStartsOn)!=null?Se:(Ee=(me=t.locale)==null?void 0:me.options)==null?void 0:Ee.weekStartsOn)!=null?ie:0,m=ua(e);if(!$l(m))throw new RangeError("Invalid time value");let g=a.match(Gn).map(he=>{const K=he[0];if(K==="p"||K==="P"){const re=Rn[K];return re(he,n.formatLong)}return he}).join("").match(Xn).map(he=>{if(he==="''")return{isToken:!1,value:"'"};const K=he[0];if(K==="'")return{isToken:!1,value:$n(he)};if(Rt[K])return{isToken:!0,value:he};if(K.match(Kn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return{isToken:!1,value:he}});n.localize.preprocessor&&(g=n.localize.preprocessor(m,g));const w={firstWeekContainsDate:i,weekStartsOn:l,locale:n};return g.map(he=>{if(!he.isToken)return he.value;const K=he.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&Yn(K)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&Bn(K))&&Wn(K,a,String(e));const re=Rt[K[0]];return re(m,K,n.localize,w)}).join("")}function $n(e){const a=e.match(Jn);return a?a[1].replace(Zn,"'"):e}const Yt=e=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),es={setup(){let e=N(null),a=N(0),o=N(!0),t=N(0),n=N(0),i=N(null),l=N(0),m=0,g=0,w=0,b=0,A=0,X=0,z=0,v=0,p=0,f=0,C=0,G=0,Z=0,E=0,W=0,_e=0,be=0,me=0,Ee=0,Se=0,ie=0,he=0,K=N([]);const re=N("idCotizacion"),He=N("desc"),We=B(()=>Array.from({length:Et.value},(k,ba)=>ba+1)),D=N(0),xe=N(!1),Ie=N(!1),P=N(null),de=Array.from({length:10},(k,ba)=>ba+1),Y=N(!1),ze=N(0),Qe=N([]),q=N(null),V=N([]),T=N([]),U=N(1),R=N([]),fe=N([]),H=N("Todos"),ce=N(null),Le=[{label:"Aprobado",value:"Aprobado"},{label:"Rechazado",value:"Rechazado"},{label:"Pendiente",value:"pendiente"}],Ue=k=>_a.value==="La Macarena"&&(Va.value==="Ca\xF1o Cristales"||Va.value==="Ca\xF1o Cristales Semana Receso"),De=()=>{R.value.push({index:R.value.length,accommodation:"",adults:1,adultAges:[null],childAge:null,isForeigner:[!1],valor:[null]}),T.value.push(!1)};da(()=>R.value.map(k=>k.adults),k=>{R.value.forEach((ba,Ha)=>{const Ho=Array.from({length:k[Ha]},()=>null),Uo=Array.from({length:k[Ha]},()=>!1);ba.adultAges.splice(0,ba.adultAges.length,...Ho),ba.isForeigner.splice(0,ba.isForeigner.length,...Uo)})},{deep:!0});const Xe=k=>k?[...k.adultAges]:[],Ce=()=>{R.value=[];for(let k=0;k<U.value;k++)R.value.push({index:k,accommodation:null,adultAges:[null],childAge:null,isForeigner:[!1]})},ea=k=>_a.value==="La Macarena"&&(Va.value==="Ca\xF1o Cristales"||Va.value==="Ca\xF1o Cristales Semana Receso");Ce();const ta=()=>{console.log("N\xFAmero de habitaciones cambiado:",U.value),Ce()},ge=N([]),Fe=N({}),oa=async()=>{try{const k=await te.get("https://backmultidestinos.onrender.com/cotizacion");ge.value=k.data,await Oe(),J(),ue()}catch(k){console.error("Error fetching cotizacion data:",k)}},Oe=async()=>{try{(await te.get("https://backmultidestinos.onrender.com/user/")).data.forEach(Ha=>{Fe.value[Ha.id]=Ha.nombreCompleto})}catch(k){console.error("Error fetching user data:",k)}},J=()=>{ge.value.forEach(k=>{k.CreadorCotizacion=Fe.value[k.CreadorCotizacion],k.fechaCreacion=ne(k.fechaCreacion),k.fechaInicio=ne(k.fechaInicio),k.fechaFin=ne(k.fechaFin)})},ue=()=>{ge.value.forEach(k=>{k.precioBrutoTotal=Yt(Number(k.precioBrutoTotal)),k.totalPrecioCliente=Yt(Number(k.totalPrecioCliente))})},ne=k=>Bt(new Date(k),"yyyy-MM-dd"),Q=N(!1),j=N(null),we=N(null),_=N(null),L=N(null),ra=N(null),ee=N(null),Be=N(null),la=N(null),Re=N(null),Ze=N(null),pe=N(""),qe=N(""),ye=N(""),Me=N(""),ve=N(""),Te=N(""),je=N(""),Ae=N(""),Ye=N(""),Ke=N(""),ma=N(""),ca=N(""),ha=N(""),r=N(""),s=N(""),h=N(""),d=N(""),y=N(""),x=N(""),S=N(""),M=N("tab1"),$=()=>{if(M.value==="tab1"){if(!fa.value[0]||!fa.value[1]){mt.create({message:"Por favor ingrese una fecha de inicio y una fecha de fin.",color:"negative"});return}if(!_a.value||!ja.value){mt.create({message:"Por favor seleccione un destino y un cliente.",color:"negative"});return}if(R.value.length===0||R.value.some(k=>!k.roomType||!k.adults||!k.accommodation)){mt.create({message:"Por favor complete la informaci\xF3n de al menos una habitaci\xF3n.",color:"negative"});return}M.value="tab2"}},Ge=()=>{M.value==="tab2"&&(M.value="tab1")},aa=new Date,Je=N(""),$e=aa.toISOString().split("T")[0],fa=N([$e,$e]),pa=k=>{fa.value[1]<k&&(fa.value[1]=k)},Ra=[k=>aa<=new Date(k)||"La fecha de inicio no puede ser anterior a hoy"],va=[k=>k>=fa.value[0]||"La fecha de fin no puede ser anterior a la fecha de inicio"],go=N(!1),po=N(""),vo=N(!1),bo=N(""),Tt=N(null),yo=ul(),Vo=N(!1),Co=N(!1),No=N(["C.C","T.I","Pasaporte"]),To=N(["Bogota","Cali","Medellin","Porcion Terrestre","San Andres"]),Eo=N([]),So=N([]),xo=N([]),wo=N([]),Ao=N([]),Po=N(["1","2","3","4","5","6","7","8","9","10","11","12","13"]);let _o=[],Io=null;const qo=N(["1","2","3","4","5","6","7","8","9"]),Do=N([]),Oo=N([]),ko=N([]),Mo=N([]),zo=N(["Satena","Avianca","Latam","JetSmart","Clic"]),it=N(""),_a=N(""),Va=N(""),Ga=N(""),Ja=N(""),Lo=N(""),Za=N(""),Ka=N(""),$a=N(""),ja=N(""),rt=N(!1),ct=N(null),Et=N(null),Fo=N([]),Ro=N(!1),jo=N(null);return Vt(()=>{console.log("Intentando recuperar los datos del usuario del almacenamiento local..."),oa(),Ce();const k=dt.getItem("userData");console.log("Datos del usuario recuperados:",k),k?Tt.value=k:(console.log("No se encontraron datos de usuario en el almacenamiento local. Redirigiendo a la p\xE1gina de inicio de sesi\xF3n..."),yo.push("/login"))}),{tieneTelefono:go,telefono:po,tieneNumero:vo,correoPasajero:bo,filterStatus:ce,statusOptions:Le,selectedUser:e,matchingPrograms:K,autofillingProgramName:o,transferInOut:i,transferInOutValue:l,numExtraValues:a,extraValue1:t,extraValue2:n,opcionesTipoDocumento:No,mostrarModalPasajeros:Y,totalPasajero:ze,pasajeros:Qe,cotizacionSeleccionada:q,sortBy:re,sortOrder:He,selectedFilter:H,cormacarena5a11Personas:g,cormacarena12a65Personas:b,cormacarenaExtranjeroPersonas:X,pqsNaturales5a24Personas:v,pqsNaturales25a65Personas:f,pqsNaturalesExtranjeroPersonas:G,alcaldiaNacionalPersonas:E,alcaldiaExtranjeroPersonas:_e,defensaCivilPersonas:me,cormacarena5a11Total:m,cormacarena12a65Total:w,cormacarenaExtranjeroTotal:A,pqsNaturales5a24Total:z,pqsNaturales25a65Total:p,pqsNaturalesExtranjeroTotal:C,alcaldiaNacionalTotal:Z,alcaldiaExtranjeroTotal:W,defensaCivilTotal:be,totalImpuestos:Se,adultAgesComputed:Xe,mostrarCamposEdad:ea,showAgeInputs:Ue,nochesOptionsRaw:fe,peopleArray:We,numberOfPeople:Et,supplementValues:Fo,idCotizacion:qe,archivoSeleccionado:jo,mostrarDialogo:Ro,ultimaCotizacionDescargada:Io,correo:Je,OptionCorreo:Mo,cotizacionCounter:D,sumaTotalDescuento:he,sumaTotalAcomodacion:Ee,sumaValorBrutohab:ie,habitacionesDatos:_o,additionalNightSelected:xe,asesorExternoCheck:Ie,additionalNightCount:P,handleNumRoomsChange:ta,roomOptions:de,addRoom:De,hasChildren:T,numRooms:U,rooms:R,updateAccommodationOptions:Ce,cotizacionData:ge,usersMap:Fe,formatDate:k=>Bt(new Date(k),"yyyy-MM-dd"),columns:[{name:"status",label:"Status",align:"left",field:"status"},{name:"idCotizacion",label:"Id-cotizaci\xF3n",align:"left",field:"idCotizacion"},{name:"fechaCreacion",label:"Fecha de Creaci\xF3n",align:"left",field:"fechaCreacion"},{name:"CreadorCotizacion",label:"Usuario que la Cre\xF3",align:"left",field:"CreadorCotizacion"},{name:"cliente",label:"Cliente",align:"left",field:"cliente"},{name:"precioBrutoTotal",label:"precio Bruto",align:"left",field:"precioBrutoTotal"},{name:"totalPrecioCliente",label:"Valor Total con Descuento",align:"left",field:"totalPrecioCliente"},{name:"totalAdultos",label:"Adultos",align:"left",field:"totalAdultos"},{name:"totalNinos",label:"Ni\xF1os",align:"left",field:"totalNinos"},{name:"fechaInicio",label:"Fecha de Inicio",align:"left",field:"fechaInicio"},{name:"fechaFin",label:"Fecha de Fin",align:"left",field:"fechaFin"},{name:"salida",label:"Salida",align:"left",field:"salida"},{name:"destino",label:"Destino",align:"left",field:"destino"},{name:"hotel",label:"Hotel",align:"left",field:"hotel"},{name:"cotizacion",label:"Cotizacion",align:"left",field:"cotizacion",format:k=>""}],mostrarEscalas:Q,aerolineaEscalaIda:j,vueloEscalaIda:we,horaLlegadaEscalaIda:_,horaSalidaEscalaIda:L,claseEscalaIda:ra,aerolineaEscalaVuelta:ee,vueloEscalaVuelta:Be,horaLlegadaEscalaVuelta:la,horaSalidaEscalaVuelta:Re,claseEscalaVuelta:Ze,aerolineaValue1:pe,vueloValue1:ye,horaLlegadaValue1:Me,horaSalidaValue1:ve,claseValue1:Te,aerolineaValue2:je,vueloValue2:Ae,horaLlegadaValue2:Ye,horaSalidaValue2:Ke,claseValue2:ma,Combus:ca,Tasa:ha,Iva:r,Ta:s,IvaTa:h,Otros:d,precioTransp:y,textoIncluye:x,textoNoIncluye:S,startDateRules:Ra,activeTab:M,goNext:$,goBack:Ge,params:{hotel:"",nombrePrograma:"",destino:""},paramsH:{hotel:"",destino:"",noches:"",pertenece:""},paramsN:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:""},paramsTransporte:{hotel:"",nombrePrograma:"",destino:"",noches:"",pertenece:"",tipoHabitacion:""},userData:Tt,modalVisible:Vo,modalVisiblePersonalizado:Co,departureOptions:To,destinationOptions:Eo,programNameOptions:So,hotelOptions:xo,nochesOptions:wo,planOptions:Ao,adultsOptions:Po,childrenOptions:qo,aerolineaOptions:zo,accommodationOptions:Do,roomTypeOptions:Oo,selectedDeparture:it,destination:_a,programName:Va,hotel:Ga,noche:Ja,plan:Lo,adults:Za,children:V,accommodation:Ka,roomType:$a,clientOptions:ko,selectedClient:ja,clearFields:()=>{it.value="",_a.value="",Va.value="",Ga.value="",Ja.value="",Za.value="",V.value="",Ka.value="",$a.value="",ja.value="",i.value="",l.value="",t.value="",n.value="",a.value=0,R.value.forEach(k=>{k.roomType="",k.adults="",k.hasChildren=!1,k.numChildren="",k.accommodation=""}),pe.value="",ye.value="",ve.value="",Me.value="",Te.value="",je.value="",Ae.value="",Ke.value="",Ye.value="",ma.value="",rt.value=!1,ct.value=""},clearFieldsc:()=>{_a.value="",Va.value="",Ga.value="",Ja.value="",Za.value="",V.value="",Ka.value="",$a.value="",ja.value="",Je.value=""},clearFieldsPersonalizado:()=>{it.value="",_a.value="",Va.value="",Ga.value="",Ja.value="",Za.value="",V.value="",Ka.value="",$a.value="",ja.value="",R.value.forEach(k=>{k.roomType="",k.adults="",k.hasChildren=!1,k.numChildren="",k.accommodation="",k.valor=""}),pe.value="",ye.value="",ve.value="",Me.value="",Te.value="",je.value="",Ae.value="",Ke.value="",Ye.value="",ma.value="",rt.value=!1,ct.value="",ca.value="",ha.value="",r.value="",s.value="",h.value="",d.value="",y.value="",x.value="",S.value=""},supplementChecked:rt,supplementValue:ct,dateRange:fa,adjustEndDate:pa,endDateRules:va,totalAdultos:0,totalNi\u00F1os:0}},watch:{selectedDeparture:"fetchProgramName",destination:"fetchProgramName",noche:"fetchProgramName",hotel:"fetchProgramName",dateRange:"fetchProgramName",hotel(){this.fetchOptions()},horaLlegadaValue1(e){this.validarHora(e,this.horaSalidaValue1)},horaLlegadaValue2(e){this.validarHora(e,this.horaSalidaValue2)}},mounted(){this.dataUsuario()},methods:{async dataUsuario(){const e="https://backmultidestinos.onrender.com/user/";te.get(e).then(a=>{const t=a.data.filter(n=>n.rol==="Asesor");this.dropdownOptions=t.map(n=>({label:n.nombreCompleto,value:n.id}))}).catch(a=>{console.error("Error al obtener los datos de usuario:",a)})},getStatusColor(e){switch(e){case"Pendiente":return"orange";case"Aprobado":return"green";case"Finalizado":return"red";default:return"grey"}},async fetchProgramName(){var e;if(this.justSubmitted)return console.log("fetchProgramName cancelado porque se acaba de registrar."),{success:!1,reason:"justSubmitted"};if(console.log("Iniciando fetchProgramName..."),this.autofillingProgramName=!0,!this.hotel||!this.destination||!((e=this.noche)!=null&&e.label)||!this.selectedDeparture)return this.$q.notify({message:"Faltan datos para buscar el programa. Verifica hotel, destino, noches y salida.",color:"negative"}),this.autofillingProgramName=!1,{success:!1,reason:"missingData"};try{this.paramsH.hotel=this.hotel,this.paramsH.destino=this.destination,this.paramsH.noches=this.noche.label,this.paramsH.pertenece=this.selectedDeparture;const a=await te.post("https://backmultidestinos.onrender.com/hoteles/buscarH",this.paramsH);this.programNameOptions=a.data;let o=this.programNameOptions.filter(l=>l.FechaInicio!==null&&l.FechaFin!==null),t=new Date(this.dateRange[0]),n=new Date(this.dateRange[1]);if(isNaN(t)||isNaN(n))return this.$q.notify({message:"Error: Fecha inv\xE1lida seleccionada.",color:"negative"}),{success:!1,reason:"invalidDateRange"};t.setHours(0,0,0,0),n.setHours(0,0,0,0),o=o.filter(l=>{let m=new Date(l.FechaInicio),g=new Date(l.FechaFin);return isNaN(m)||isNaN(g)?!1:(m.setHours(0,0,0,0),g.setHours(0,0,0,0),m<=n&&g>=t)}),o=o.filter((l,m,g)=>m===g.findIndex(w=>w.nombrePrograma===l.nombrePrograma)),this.matchingPrograms=o,this.matchingPrograms.length===1?this.programName=this.matchingPrograms[0].nombrePrograma:this.matchingPrograms.length>1?this.matchingProgramOptions=this.matchingPrograms.map(l=>l.nombrePrograma):this.programName=null;const i=[...new Set(o.map(l=>l.tipoHabitacion))];return this.roomTypeOptions=i,this.justSubmitted=!0,setTimeout(()=>{this.justSubmitted=!1},2e3),{success:!0,matchingPrograms:this.matchingPrograms,programName:this.programName,roomTypes:this.roomTypeOptions}}catch(a){return console.error("Error al obtener nombres de programa:",a),this.$q.notify({message:"Ocurri\xF3 un error al buscar programas.",color:"negative"}),{success:!1,reason:"serverError",error:a}}finally{this.autofillingProgramName=!1}},validarHora(e,a){e&&a&&e<a&&this.$q.notify({message:"La hora de llegada no puede ser anterior a la hora de salida.",color:"negative",position:"top",timeout:2e3})},procesarLiquidacion(){this.cerrarModalPasajeros();const e=this.cotizacionSeleccionada.idCotizacion;te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`).then(a=>{const o=a.data;console.log("Datos de la cotizaci\xF3n desde la API:",o);const t={idCotizacion:this.cotizacionSeleccionada.idCotizacion,salida:this.cotizacionSeleccionada.salida,destino:this.cotizacionSeleccionada.destino,nombrePrograma:this.cotizacionSeleccionada.nombrePrograma,plan:this.cotizacionSeleccionada.plan,hotel:this.cotizacionSeleccionada.hotel,totalAdultos:this.cotizacionSeleccionada.totalAdultos,totalNinos:this.cotizacionSeleccionada.totalNinos,totalPasajeros:this.cotizacionSeleccionada.totalPasajeros,precioBrutoTotal:this.cotizacionSeleccionada.precioBrutoTotal.replace(/[^\d.-]/g,""),valorDescuento:this.cotizacionSeleccionada.valorDescuento,ivaValor:this.cotizacionSeleccionada.ivaValor,rteFuente:this.cotizacionSeleccionada.rteFuente,rteIca:this.cotizacionSeleccionada.rteIca,totalComision:this.cotizacionSeleccionada.totalComision,totalPrecioCliente:this.cotizacionSeleccionada.totalPrecioCliente.replace(/[^\d.-]/g,""),combus:this.cotizacionSeleccionada.combus,tasa:this.cotizacionSeleccionada.tasa,iva:this.cotizacionSeleccionada.iva,ta:this.cotizacionSeleccionada.ta,ivaTa:this.cotizacionSeleccionada.ivaTa,otros:this.cotizacionSeleccionada.otros,suplemento:this.cotizacionSeleccionada.suplemento,precioTrans:this.cotizacionSeleccionada.precioTrans,noches:this.cotizacionSeleccionada.noches,notas:this.cotizacionSeleccionada.notas,cliente:this.cotizacionSeleccionada.cliente,clientePorcentaje:this.cotizacionSeleccionada.clientePorcentaje,nochesAdicionales:this.cotizacionSeleccionada.nochesAdicionales,CreadorCotizacion:this.cotizacionSeleccionada.CreadorCotizacion,fechaCreacion:this.cotizacionSeleccionada.fechaCreacion,aerolineaIda:this.cotizacionSeleccionada.aerolineaIda,vueloIda:this.cotizacionSeleccionada.vueloIda,horaLlegadaIda:this.cotizacionSeleccionada.horaLlegadaIda,horaSalidaIda:this.cotizacionSeleccionada.horaSalidaIda,claseIda:this.cotizacionSeleccionada.claseIda,fechaInicio:this.cotizacionSeleccionada.fechaInicio,aerolineaVuelta:this.cotizacionSeleccionada.aerolineaVuelta,vueloVuelta:this.cotizacionSeleccionada.vueloVuelta,horaLlegadaVuelta:this.cotizacionSeleccionada.horaLlegadaVuelta,horaSalidaVuelta:this.cotizacionSeleccionada.horaSalidaVuelta,claseVuelta:this.cotizacionSeleccionada.claseVuelta,fechaFin:this.cotizacionSeleccionada.fechaFin,correo:this.cotizacionSeleccionada.correo,impuestosLiq:o[0].tieneImpuestos,extra:this.cotizacionSeleccionada.extra,transfer:this.cotizacionSeleccionada.transfer,incluye:this.cotizacionSeleccionada.incluye,noIncluye:this.cotizacionSeleccionada.noIncluye,status:"Pendiente",telefono:this.telefono||null,correoPasajero:this.correoPasajero||null};te.post("https://backmultidestinos.onrender.com/liquidacion",t).then(n=>{const i=n.data.idLiquidacion;if(o[0].tieneImpuestos){const m={idLiquidacion:i,defensaCivil:o[0].defensaCivil_Total,cormacarena5a11:o[0].cormacarena5a11_Total,cormacarena12a65:o[0].cormacarena12a65_Total,cormacarenaExtranjero:o[0].cormacarenaExtranjero_Total,pqsNaturales5a24:o[0].pqsNaturales5a24_Total,pqsNaturales25a65:o[0].pqsNaturales25a65_Total,pqsNaturalesExtranjero:o[0].pqsNaturalesExtranjero_Total,alcaldiaNacional:o[0].alcaldiaNacional_Total,alcaldiaExtranjero:o[0].alcaldiaExtranjero_Total,cormacarena5a11Personas:o[0].cormacarena5a11_numeroPersonas,cormacarena12a65Personas:o[0].cormacarena12a65_numeroPersonas,cormacarenaExtranjeroPersonas:o[0].cormacarenaExtranjero_numeroPersonas,pqsNaturales5a24Personas:o[0].pqsNaturales5a24_numeroPersonas,pqsNaturales25a65Personas:o[0].pqsNaturales25a65_numeroPersonas,pqsNaturalesExtranjeroPersonas:o[0].pqsNaturalesExtranjero_numeroPersonas,alcaldiaNacionalPersonas:o[0].alcaldiaNacional_numeroPersonas,alcaldiaExtranjeroPersonas:o[0].alcaldiaExtranjero_numeroPersonas,defensaCivilPersonas:o[0].defensaCivil_numeroPersonas};te.post("https://backmultidestinos.onrender.com/impuestosLiq",m).then(()=>{console.log("Impuestos creados exitosamente")}).catch(g=>{console.error("Error al crear los impuestos:",g)})}const l=this.pasajeros.map(m=>(m.idLiquidacion=i,te.post("https://backmultidestinos.onrender.com/pasajero",m)));Promise.all(l).then(()=>{console.log("Liquidaci\xF3n y pasajeros creados exitosamente"),te.post(`https://backmultidestinos.onrender.com/cotizacion/${e}`,{status:"Aprobado"}).then(()=>{console.log("Cotizaci\xF3n actualizada a 'Aprobado'")}).catch(m=>{console.error("Error al actualizar la cotizaci\xF3n:",m)})}).catch(m=>{console.error("Error al crear los pasajeros:",m)})}).catch(n=>{console.error("Error al crear la liquidaci\xF3n:",n)})}).catch(a=>{console.error("Error al obtener datos de la cotizaci\xF3n:",a)})},abrirModalPasajeros(e){this.cotizacionSeleccionada=e,this.totalPasajeros=e.totalPasajeros,this.pasajeros=[];for(let a=0;a<this.totalPasajeros;a++)this.pasajeros.push({nombre:"",tipoDocumento:"",numeroDocumento:"",fechaNacimiento:""});this.tieneTelefono=!1,this.telefono="",this.tieneNumero=!1,this.correoPasajero="",this.mostrarModalPasajeros=!0},cerrarModalPasajeros(){this.mostrarModalPasajeros=!1},async pasarALiquidacion(){console.log("Pasando cotizaci\xF3n a liquidaci\xF3n:",cotizacion)},filteredCotizacionData(){const e=this.selectedFilter,a=[...this.cotizacionData];return a.sort((o,t)=>{const n=o.idCotizacion,i=t.idCotizacion;if(n.includes("-C")&&!i.includes("-C"))return-1;if(!n.includes("-C")&&i.includes("-C"))return 1;const l=n.startsWith("COT-C")?parseInt(n.split("-C")[1],10):0,m=i.startsWith("COT-C")?parseInt(i.split("-C")[1],10):0;if(n.startsWith("COT-C")&&i.startsWith("COT-C"))return m-l;if(n.startsWith("COT-")&&i.startsWith("COT-")){const g=parseInt(n.split("-")[1],10);return parseInt(i.split("-")[1],10)-g}return 0}),a.filter(o=>{const t=e==="Todos"||e==="Cot-C"&&o.idCotizacion.includes("-C")||e==="Cot"&&!o.idCotizacion.includes("-C"),n=this.filterStatus===null||o.status===this.filterStatus;return t&&n})},customSort(e,a,o){const t=[...e];return a==="idCotizacion"?t.sort((n,i)=>{const[l,m]=n[a].split("-"),[g,w]=i[a].split("-");return l==="COT-"&&g==="COT-"?o?w-m:m-w:0}):a==="fechaCreacion"?t.sort((n,i)=>{const l=new Date(n[a]),m=new Date(i[a]);return o?m-l:l-m}):t.sort((n,i)=>{const l=o?i:n,m=o?n:i;return l[a]>m[a]?1:l[a]<m[a]?-1:0}),t},descargarCotizacionN(e){e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)},shouldHideAdditionalNightSection(){return this.destination==="Bah\xEDa Solano"&&this.programName==="Temporada Baja"&&this.hotel==="El Almejal Ecolodge"},mostrarDialogoSeleccionArchivo(){this.mostrarDialogo=!0},seleccionarArchivo(e){this.archivoSeleccionado=e.target.files[0]},async enviarCotizacion(e){try{const a=await(e.idCotizacion.includes("-C")?this.descargarCotizacionCano(e.idCotizacion):this.descargarCotizacion(e.idCotizacion)),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download=`cotizacion_${e.cliente}.pdf`,o.style.display="none",document.body.appendChild(o),o.click(),await new Promise(n=>setTimeout(n,1e3));const t=`mailto:${e.correo}?subject=Cotizaci\xF3n para ${e.cliente}&body=Estimado(a) ${e.cliente},%0D%0A%0D%0AAdjuntamos su cotizaci\xF3n (reci\xE9n descargada).%0D%0A%0D%0ASaludos cordiales,`;window.location.href=t,setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},1e3),this.$q.notify({message:"Abriendo cliente de correo...",color:"info"})}catch(a){console.error(a),this.$q.notify({message:"Error al enviar la cotizaci\xF3n",color:"negative"})}},checkPageOverflow(e,a,o,t=10){const n=e.internal.pageSize.height;return a+o>n-t?(e.addPage(),margins.top):a},async descargarCotizacionCano(e){try{let ze=function(s){return s.map(h=>{const d=h.adultos,y=h.ni\u00F1os,x=`1x${d}`;return y>0?`${x} CHD`:x}).join(", ")},L=function(s){for(let h=0;h<=6;h++){const d=C.left+h*_;f.line(d,s,d,s+j)}f.line(C.left,s,G-C.right,s),f.line(C.left,s+j,G-C.right,s+j)};const[a,o,t]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/ImpuestoCot/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const n=o.data[0],i=t.data[0];console.log("impuesto",i);const l=a.data;console.log("habitacion",l);const m=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${n.cliente}`);console.log("clienteResponse",m);const g=m.data[0];console.log("clienteData",g);const w=g.tipoBase,b=await te.get(`https://backmultidestinos.onrender.com/user/${n.CreadorCotizacion}`),A=b.Data;console.log("vendedor",b.data.nombreCompleto);const X={hotel:n.hotel,nombrePrograma:n.nombrePrograma,destino:n.destino},z=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",X),v=z.data[0].incluye,p=z.data[0].noIncluye,f=new At,C={top:15,bottom:10,left:15,right:15},G=f.internal.pageSize.width,Z=f.internal.pageSize.height,E=50,W={left:15,right:15,top:10,bottom:10},_e=await new Promise((s,h)=>{const d=new Image;d.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",d.onload=()=>s(d),d.onerror=h}),be=_e.width/_e.height,me=G/4-W.left-W.right,Ee=Math.min(120,me),Se=Ee/be,ie=C.top+(E-Se)/2,he=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,K=`Numero de cotizaci\xF3n: ${e}`;f.addImage(_e,"PNG",C.left+W.left,ie,Ee,Se);const re=G-C.left-C.right-Ee-W.left-W.right-20;f.setFontSize(10),f.setFont("Helvetica","normal"),f.text(f.splitTextToSize(he,re),C.left+Ee+W.left+W.right,C.top+15);const He=G-C.right-f.getTextWidth(K)-W.right;f.setFontSize(14),f.setFont("Helvetica-Bold"),f.text(K,He,C.top+15),f.setDrawColor(0),f.setLineWidth(.5),f.roundedRect(C.left,C.top,G-C.left-C.right,E,10,10,"S"),f.setFillColor(51,102,204),f.rect(C.left,C.top,G-C.left-C.right,E,"F"),f.setFontSize(10);const We=C.top+E+10;f.setFontSize(10),f.text("SOLICITUD DE RESERVA:",C.left,We-4),f.setFontSize(8);const D=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],xe=[new Date(n.fechaCreacion).toLocaleDateString(),n.cliente.toString(),g.telefono?g.telefono.toString():"N/A",g.nit?g.nit.toString():"N/A",g.nit?g.nit.toString():"N/A",b.data.nombreCompleto?b.data.nombreCompleto.toString():"N/A"],Ie=6,P=(G-C.left-C.right)/Ie;let de=C.left,Y=We;for(let s=0;s<D.length;s++){f.text(D[s],de,Y);const h=xe[s]!==void 0?xe[s]:"N/A",d=f.splitTextToSize(h,P-2);f.text(d,de,Y+5),de+=P,((s+1)%Ie===0||s===D.length-1)&&(Y+=15,de=C.left)}const Qe=ze(l),q=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],V=[n.noches?n.noches.toString():"N/A",n.hotel?n.hotel.toString():"N/A",n.plan?n.plan.toString():"N/A",n.destino?n.destino.toString():"N/A",n.direccion?n.direccion.toString():"N/A",Qe.toString()];console.log("campso2",V);const T=6,U=(G-C.left-C.right)/T;Y+=1;for(let s=0;s<q.length;s++){f.text(q[s],de,Y);const h=V[s]!==void 0?V[s]:"N/A",d=f.splitTextToSize(h,U-2);f.text(d,de,Y+5),de+=U}Y+=1,f.setFontSize(10),f.text("ITINERARIO: ",C.left,Y+12),Y+=20;const R=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],fe=[[n.aerolineaIda||"N/A",n.vueloIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta1||"N/A",n.claseIda||"N/A",n.horaSalidaIda||"N/A",n.horaLlegadaIda||"N/A",n.recordIda||"N/A"]];n.aerolineaEscalaIda!=null&&(fe.push([n.aerolineaEscalaIda||"N/A",n.vueloEscalaIda||"N/A",n.fechaInicio?new Date(new Date(n.fechaInicio).getTime()+new Date(n.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",n.claseEscalaIda||"N/A",n.horaSalidaEscalaIda||"N/A",n.horaLlegadaEscalaIda||"N/A",""]),fe.push([n.aerolineaEscalaVuelta||"N/A",n.vueloEscalaVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",n.claseEscalaVuelta||"N/A",n.horaSalidaEscalaVuelta||"N/A",n.horaLlegadaEscalaVuelta||"N/A",""])),fe.push([n.aerolineaVuelta||"N/A",n.vueloVuelta||"N/A",n.fechaFin?new Date(new Date(n.fechaFin).getTime()+new Date(n.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",n.ruta2||"N/A",n.claseVuelta||"N/A",n.horaSalidaVuelta||"N/A",n.horaLlegadaVuelta||"N/A",n.recordVuelta||"N/A"]);const H=(G-C.left-C.right)/R.length,ce=G-C.left-C.right,Le=10+8*fe.length;f.rect(C.left,Y,ce,Le,"S"),f.setFontSize(8),R.forEach((s,h)=>{f.text(s,C.left+h*H,Y+5)}),Y+=10,fe.forEach((s,h)=>{s.forEach((d,y)=>{f.text(d,C.left+y*H,Y+h*8)})}),Y+=Le+5;const Ue="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",De=Y-10,Xe=30;f.setDrawColor(0),f.rect(C.left,De,G-C.left-C.right,Xe),f.setFontSize(12),f.text("OBSERVACIONES:",C.left+2,De+6),f.setFontSize(10),f.text(Ue,C.left+2,De+15,{maxWidth:G-C.left-C.right-4});let Ce=6;const ea=Y+25,ta=v.split("\xBF"),ge=6,Fe=5;let oa=0;ta.forEach(s=>{oa+=f.getTextDimensions(s.trim(),{fontSize:8,maxWidth:G-C.left-C.right-4}).h});const Oe=oa+ge+Fe+10;f.setDrawColor(0),f.rect(C.left,ea,G-C.left-C.right,Oe),f.setFontSize(12),f.text("INCLUYE:",C.left+2,ea+6),f.setFontSize(8);let J=ea+ge+Fe;ta.forEach(s=>{f.text(s.trim(),C.left+2,J,{maxWidth:G-C.left-C.right-4}),J+=f.getTextDimensions(s.trim(),{fontSize:8,maxWidth:G-C.left-C.right-4}).h}),f.addPage(),Y=C.top;const ue=12;f.setFontSize(10),f.text("LIQUIDACI\xD3N:",C.left,Y),Y+=5;const ne=Y+5,Q=2,j=6,_=(G-C.left-C.right)/6;f.setDrawColor(0);let ra=0;f.setFontSize(7);let ee=0;l.forEach(s=>{const h=ne+ee*j;L(h);const d=`Valor adul ${s.acomodacion}`;f.text(d,C.left+Q,h+j/2,{baseline:"middle"});const y=Math.round(s.precioComisionableAdulto);f.text(y.toString(),C.left+_+Q,h+j/2,{baseline:"middle"});const x=s.adultos;f.text(x.toString(),C.left+2*_+Q,h+j/2,{baseline:"middle"});const S=Math.round(s.precioComisionableAdulto*s.adultos);if(f.text(S.toString(),C.left+3*_+Q,h+j/2,{baseline:"middle"}),ee===0){f.setFontSize(6);const $=w==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";f.text($,C.left+4*_+Q,h+j/2,{baseline:"middle"}),f.setFontSize(7)}let M=S;if(s.ni\u00F1os>0&&(M+=Math.round(s.precioComisionableNino*s.ni\u00F1os)),ra+=M,ee++,s.ni\u00F1os>0){const $=ne+ee*j;L($);const Ge=`Valor child ${s.acomodacion}`;f.text(Ge,C.left+Q,$+j/2,{baseline:"middle"});const aa=Math.round(s.precioComisionableNino);f.text(aa.toString(),C.left+_+Q,$+j/2,{baseline:"middle"});const Je=s.ni\u00F1os;f.text(Je.toString(),C.left+2*_+Q,$+j/2,{baseline:"middle"});const $e=Math.round(s.precioComisionableNino*s.ni\u00F1os);f.text($e.toString(),C.left+3*_+Q,$+j/2,{baseline:"middle"}),ee++}}),f.text(ra.toString(),C.left+5*_+Q,ne+j/2,{baseline:"middle"}),Y=ne+ee*j+10;const Be=["TRANSPORTE NO COMI","Q","YS","CO","TA","YS TA","defensaCivil","alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],la=[n.otros,n.combus,n.iva,n.tasa,n.ta,n.ivaTa,i.defensaCivil_Total,i.alcaldiaNacional_Total,i.alcaldiaExtranjero_Total,i.pqsNaturalesExtranjero_Total,i.pqsNaturales25a65_Total,i.pqsNaturales5a24_Total,i.cormacarenaExtranjero_Total,i.cormacarena5a11_Total,i.cormacarena12a65_Total,n.precioTrans],Re=["alcaldiaNacional","alcaldiaExtranjero","pqsNaturalesExtranjero","pqsNaturales25a65","pqsNaturales5a24","cormacarenaExtranjero","cormacarena5a11","cormacarena12a65"],Ze={defensaCivil:"Defensa Civil",alcaldiaNacional:"Alcald\xEDa Nacional",alcaldiaExtranjero:"Alcald\xEDa Extranjero",pqsNaturalesExtranjero:"PQS. Naturales Extranjero",pqsNaturales25a65:"PQS. Naturales 25 a 65",pqsNaturales5a24:"PQS. Naturales 5 a 24",cormacarenaExtranjero:"Cormacarena Extranjero",cormacarena5a11:"Cormacarena 5 a 11",cormacarena12a65:"Cormacarena 12 a 65"};if(n.suplemento>0&&(Be.push("SUPLEMENTO"),la.push(n.suplemento)),n.extra1)if(n.extra1.includes("*")){let s=n.extra1.split("*"),h=s[0],d=s[1];Be.push("Valor Extra","Valor Extra2"),la.push(h,d)}else{let s=n.extra1;Be.push("Valor Extra"),la.push(s)}Be.forEach((s,h)=>{const d=Y+h*j;L(d);const y=Ze[s]||s;f.text(y,C.left+Q,d+j/2,{baseline:"middle"});const x=n.totalPasajeros,S=la[h]||0;let M="";if(Re.includes(s)){const Je=`${s}_numeroPersonas`,$e=i[Je]||0;M=$e!==0?Math.trunc(S/$e):""}else M=x!==0?Math.trunc(S/x):"";f.text(M.toString(),C.left+_+Q,d+j/2,{baseline:"middle"});const $=x!==0?Math.trunc(x).toString():"";let Ge="";if(Re.includes(s)){const Je=`${s}_numeroPersonas`;Ge=i[Je]||""}else Ge=$;f.text(Ge,C.left+2*_+Q,d+j/2,{baseline:"middle"});const aa=S!==0?Math.trunc(S).toString():"";if(f.text(aa,C.left+3*_+Q,d+j/2,{baseline:"middle"}),s==="Q"){f.text("Porcentaje",C.left+4*_+Q,d+j/2,{baseline:"middle"});const Je=n.clientePorcentaje||0,$e=Math.trunc(Je).toString()+"%";f.text($e,C.left+5*_+Q,d+j/2,{baseline:"middle"})}else if(s==="YS"){f.text("Valor Descuento",C.left+4*_+Q,d+j/2,{baseline:"middle"});const Je=n.valorDescuento||0,$e=Math.trunc(Je).toString();f.text($e,C.left+5*_+Q,d+j/2,{baseline:"middle"}),w==="Comisi\xF3n"&&[{label:`IVA(${g.porcentajeIva}%) (-)`,value:n.ivaValor},{label:`RTE FUENTE(${g.rteFuente}%) (+)`,value:n.rteFuente},{label:`RTE ICA(${g.rteIca}%) (+)`,value:n.rteIca},{label:"Total Comisi\xF3n",value:n.totalComision}].forEach((pa,Ra)=>{const va=d+(Ra+1)*j;L(va),f.text(pa.label,C.left+4*_+Q,va+j/2,{baseline:"middle"}),f.text(pa.value.toString(),C.left+5*_+Q,va+j/2,{baseline:"middle"})})}}),Y+=Be.length*j,l.forEach(s=>{if(s.adultos>0){const h=Y;L(h),f.text(`Valor total Adt ${s.acomodacion}`,C.left+Q,h+j/2,{baseline:"middle"});const d=s.precioHabitacionAdulto||0,y=Ta(d).format("$0,0");f.text(y,C.left+3*_+Q,h+j/2,{baseline:"middle"}),Y+=j}if(s.ni\u00F1os>0){const h=Y;L(h),f.text(`Valor total Chd ${s.acomodacion}`,C.left+Q,h+j/2,{baseline:"middle"});const d=s.precioHabitacionNino||0,y=Ta(d).format("$0,0");f.text(y,C.left+3*_+Q,h+j/2,{baseline:"middle"}),Y+=j}}),f.setFontSize(8),Y+=j,L(Y),f.text("Valor total",C.left+Q,Y+j/2,{baseline:"middle"});const pe=n.precioBrutoTotal||0,qe=Ta(pe).format("$0,0");f.text(qe,C.left+3*_+Q,Y+j/2,{baseline:"middle"}),f.text("Precio a pagar",C.left+4*_+Q,Y+j/2-2,{baseline:"middle"}),f.text("a Multidestinos",C.left+4*_+Q,Y+j/2+2,{baseline:"middle"});const ye=parseFloat(n.suplemento)||0,Me=parseFloat(n.totalPrecioCliente)||0,ve=ye>0?Me+ye:Me,Te=Ta(ve).format("$0,0");f.text(Te,C.left+5*_+Q,Y+j/2,{baseline:"middle"}),Y+=j+10;const je=C.left;let Ae=Y+5;const Ye=190;let Ke=30;f.setFontSize(7),f.setLineWidth(.5);const ma="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",ca=f.splitTextToSize(ma,Ye-10);Ae+Ke>Z-C.bottom&&(f.addPage(),Y=C.top,Ae=Y+5),f.text("Deposito y Condiciones de Pago",je+5,Ae+3),f.setFontSize(6);const ha=5;Ke=20+ca.length*ha,f.rect(je,Ae,Ye,Ke),ca.forEach((s,h)=>{f.text(s,je+5,Ae+10+h*ha)}),Y+=Ke+5;const r=f.output("blob");return f.save(`cotizacion_${e}.pdf`),r}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},async descargarCotizacion(e){try{let de=function(d){return d.map(y=>{const x=y.adultos,S=y.ni\u00F1os,M=`1x${x}`;return S>0?`${M} CHD`:M}).join(", ")},Be=function(d){for(let y=0;y<=6;y++){const x=p.left+y*ee;v.line(x,d,x,d+L)}v.line(p.left,d,f-p.right,d),v.line(p.left,d+L,f-p.right,d+L)};const[a,o]=await Promise.all([te.get(`https://backmultidestinos.onrender.com/habitacionCotizacion/${e}`),te.get(`https://backmultidestinos.onrender.com/cotizacion/${e}`)]);if(a.status!==200||o.status!==200){console.error("Error al obtener datos de habitacionCotizacion o cotizacion");return}const t=o.data[0];console.log("cotizacion",t);const n=a.data;console.log("habitacion",n);const i=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${t.cliente}`);console.log("clienteResponse",i);const l=i.data[0];console.log("clienteData",l);const m=l==null?void 0:l.tipoBase,g=await te.get(`https://backmultidestinos.onrender.com/user/${t.CreadorCotizacion}`),w=g.Data;console.log("vendedor",g.data.nombreCompleto);const b={hotel:t.hotel,nombrePrograma:t.nombrePrograma,destino:t.destino},A=await te.post("https://backmultidestinos.onrender.com/hoteles/buscar",b),X=t.incluye?t.incluye:A.data[0].incluye,z=t.noIncluye?t.noIncluye:A.data[0].noIncluye,v=new At,p={top:10,bottom:10,left:10,right:10},f=v.internal.pageSize.width,C=v.internal.pageSize.height,G=40,Z={left:10,right:10,top:5,bottom:5},E=await new Promise((d,y)=>{const x=new Image;x.src="https://i.ibb.co/1sFJ7dT/imgAzul.png",x.onload=()=>d(x),x.onerror=y}),W=E.width/E.height,_e=f/4-Z.left-Z.right,be=Math.min(100,_e),me=be/W,Ee=p.top+(G-me)/2,Se=`PBX(601)7621133
CALLE 64 No. 11-37 LOC 301
EMAIL: MULTIDESTINOS_EXPRESS@YAHOO.COM`,ie=`Numero de cotizaci\xF3n: ${e}`;v.addImage(E,"PNG",p.left+Z.left,Ee,be,me);const he=f-p.left-p.right-be-Z.left-Z.right-10;v.setFontSize(10),v.text(v.splitTextToSize(Se,he),p.left+be+Z.left+Z.right,p.top+10);const K=f-p.right-v.getTextWidth(ie)-Z.right;v.setFontSize(12),v.setFont("helvetica","bold",12),v.text(ie,K,p.top+10),v.setDrawColor(0),v.rect(p.left,p.top,f-p.left-p.right,G,"S"),v.setFontSize(10);const re=p.top+G+10;v.setFontSize(10),v.text("SOLICITUD DE RESERVA:",p.left,re-4),v.setFontSize(8);const He=["FECHA SOLICITUD:","AGENCIA:","TEL\xC9FONO:","CONTACTO:","NIT:","VENDEDOR:"],We=[new Date(new Date(t.fechaCreacion).getTime()+new Date(t.fechaCreacion).getTimezoneOffset()*6e4).toLocaleDateString(),t.cliente.toString(),l&&l.telefono?l.telefono.toString():"N/A","N/A",l&&l.nit?l.nit.toString():"N/A",g.data.nombreCompleto?g.data.nombreCompleto.toString():"N/A"],D=6,xe=(f-p.left-p.right)/D;let Ie=p.left,P=re;for(let d=0;d<He.length;d++){v.text(He[d],Ie,P);const y=We[d]!==void 0?We[d]:"N/A",x=v.splitTextToSize(y,xe-2);v.text(x,Ie,P+5),Ie+=xe,((d+1)%D===0||d===He.length-1)&&(P+=15,Ie=p.left)}const Y=de(n),ze=["NOCHES:","HOTEL:","PLAN:","DESTINO:","DIRECCION:","ACOMODACI\xD3N:"],Qe=[t.noches?t.noches.toString():"N/A",t.hotel?t.hotel.toString():"N/A",t.plan?t.plan.toString():"N/A",t.destino?t.destino.toString():"N/A",t.direccion?t.direccion.toString():"N/A",Y.toString()];console.log("campso2",Qe);const q=6,V=(f-p.left-p.right)/q;P+=1;for(let d=0;d<ze.length;d++){v.text(ze[d],Ie,P);const y=Qe[d]!==void 0?Qe[d]:"N/A",x=v.splitTextToSize(y,V-2);v.text(x,Ie,P+5),Ie+=V}P+=22,v.setFontSize(10),v.text("ITINERARIO: ",p.left,P-10);const T=["AEROLINEA","VUELO","FECHA","RUTA","CLASE","HR SALIDA","HR LLEGADA","RECORD"],U=[[t.aerolineaIda||"N/A",t.vueloIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta1||"N/A",t.claseIda||"N/A",t.horaSalidaIda||"N/A",t.horaLlegadaIda||"N/A",t.recordIda||"N/A"]];t.aerolineaEscalaIda!=null&&(U.push([t.aerolineaEscalaIda||"N/A",t.vueloEscalaIda||"N/A",t.fechaInicio?new Date(new Date(t.fechaInicio).getTime()+new Date(t.fechaInicio).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Ida",t.claseEscalaIda||"N/A",t.horaSalidaEscalaIda||"N/A",t.horaLlegadaEscalaIda||"N/A",""]),U.push([t.aerolineaEscalaVuelta||"N/A",t.vueloEscalaVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A","Escala Vuelta",t.claseEscalaVuelta||"N/A",t.horaSalidaEscalaVuelta||"N/A",t.horaLlegadaEscalaVuelta||"N/A",""])),U.push([t.aerolineaVuelta||"N/A",t.vueloVuelta||"N/A",t.fechaFin?new Date(new Date(t.fechaFin).getTime()+new Date(t.fechaFin).getTimezoneOffset()*6e4).toLocaleDateString():"N/A",t.ruta2||"N/A",t.claseVuelta||"N/A",t.horaSalidaVuelta||"N/A",t.horaLlegadaVuelta||"N/A",t.recordVuelta||"N/A"]);const R=(f-p.left-p.right)/T.length,fe=f-p.left-p.right,H=12+8*U.length;P+=5,v.rect(p.left,P-5,fe,H,"S"),v.setFontSize(8),T.forEach((d,y)=>{v.text(d,p.left+y*R,P)}),P+=5,U.forEach((d,y)=>{d.forEach((x,S)=>{v.text(x,p.left+S*R,P+(y+1)*8)})}),P+=H-5;const ce="Esta cotizaci\xF3n est\xE1 sujeta a cambio y disponibilidad al momento de reservar (Sin servicio confirmado)",Le=P+10,Ue=30;v.setDrawColor(0),v.rect(p.left,Le,f-p.left-p.right,Ue),v.setFontSize(12),v.text("OBSERVACIONES:",p.left+2,Le+6),v.setFontSize(10),v.text(ce,p.left+2,Le+15,{maxWidth:f-p.left-p.right-4});let De=6;const Xe=P+50,Ce=X.split("\xBF"),ea=6,ta=5;let ge=0;Ce.forEach(d=>{ge+=v.getTextDimensions(d.trim(),{fontSize:8,maxWidth:f-p.left-p.right-4}).h});const Fe=ge+ea+ta+10;v.setDrawColor(0),v.rect(p.left,Xe,f-p.left-p.right,Fe),v.setFontSize(12),v.text("INCLUYE:",p.left+2,Xe+6),v.setFontSize(8);let oa=Xe+ea+ta;Ce.forEach(d=>{v.text(d.trim(),p.left+2,oa,{maxWidth:f-p.left-p.right-4}),oa+=v.getTextDimensions(d.trim(),{fontSize:8,maxWidth:f-p.left-p.right-4}).h}),v.addPage(),P=p.top;const Oe=12,J=P+5,ue=z.split(`
`).flatMap(d=>d.split("\xBF").map(y=>y.trim()));v.setDrawColor(0),v.rect(p.left,J,f-p.left-p.right,0),v.setFont("helvetica"),v.setFontSize(10),v.setTextColor(0),v.text("NO INCLUYE:",p.left+2,J+6),v.setFontSize(8),De=3;let ne=J+Oe,Q=!1;ue.forEach((d,y)=>{if(d==="")return;const x=Q?De/3:De,S=ne+x;v.text(d,p.left+10,S,{maxWidth:f-p.left-p.right-10}),ne=S+De,Q=d.endsWith("\xBF")});const j=ne-J;v.rect(p.left,J,f-p.left-p.right,j),P=ne+15,v.setFontSize(10),v.text("LIQUIDACI\xD3N:",p.left,P),P+=5;const we=P+5,_=2,L=6,ee=(f-p.left-p.right)/6;v.setDrawColor(0);let la=0;v.setFontSize(7);let Re=0;n.forEach(d=>{const y=we+Re*L;Be(y);const x=`Valor adul ${d.acomodacion}`;v.text(x,p.left+_,y+L/2,{baseline:"middle"});const S=Math.round(d.precioComisionableAdulto);v.text(S.toString(),p.left+ee+_,y+L/2,{baseline:"middle"});const M=d.adultos;console.log("numAdultos",M),v.text(M.toString(),p.left+2*ee+_,y+L/2,{baseline:"middle"});const $=Math.round(d.precioComisionableAdulto*d.adultos);if(v.text($.toString(),p.left+3*ee+_,y+L/2,{baseline:"middle"}),Re===0){v.setFontSize(6);const aa=m==="Comisi\xF3n"?"BASE COMISI\xD3N":"BASE DE DESCUENTO";v.text(aa,p.left+4*ee+_,y+L/2,{baseline:"middle"}),v.setFontSize(7)}let Ge=$;if(d.ni\u00F1os>0&&(Ge+=Math.round(d.precioComisionableNino*d.ni\u00F1os)),la+=Ge,Re++,d.ni\u00F1os>0){const aa=we+Re*L;Be(aa);const Je=`Valor child ${d.acomodacion}`;v.text(Je,p.left+_,aa+L/2,{baseline:"middle"});const $e=Math.round(d.precioComisionableNino);v.text($e.toString(),p.left+ee+_,aa+L/2,{baseline:"middle"});const fa=d.ni\u00F1os;v.text(fa.toString(),p.left+2*ee+_,aa+L/2,{baseline:"middle"});const pa=Math.round(d.precioComisionableNino*d.ni\u00F1os);v.text(pa.toString(),p.left+3*ee+_,aa+L/2,{baseline:"middle"}),Re++}}),v.text(la.toString(),p.left+5*ee+_,we+L/2,{baseline:"middle"}),P=we+Re*L+10;const Ze=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"],pe=[],qe=[];if(Array.isArray(n)?n.forEach(d=>{Ze.forEach(y=>{const x=d[y];x!=null&&x!=null&&x!==""&&(pe.push(y),qe.push(x))})}):typeof n=="object"&&n!==null&&Ze.forEach(d=>{const y=n[d];y!=null&&y!=null&&y!==""&&(pe.push(d),qe.push(y))}),pe.push("TRANSPORTE NO COMISI"),qe.push(t.otros),pe.push("Q"),qe.push(t.combus),pe.push("YS"),qe.push(t.iva),pe.push("CO"),qe.push(t.tasa),pe.push("TA"),qe.push(t.ta),pe.push("YS TA"),qe.push(t.ivaTa),pe.push("TOTAL IMPUESTOS"),qe.push(t.precioTrans),t.suplemento>0&&(pe.push("SUPLEMENTO"),qe.push(t.suplemento)),t.suplemento>0&&(pe.push("SUPLEMENTO"),qe.push(t.suplemento)),t.extra1)if(t.extra1.includes("*")){let d=t.extra1.split("*"),y=d[0],x=d[1];pe.push("Valor Extra","Valor Extra2"),qe.push(y,x)}else{let d=t.extra1;pe.push("Valor Extra"),qe.push(d)}pe.forEach((d,y)=>{const x=P+y*L;Be(x),v.text(d,p.left+_,x+L/2,{baseline:"middle"});const S=t.totalPasajeros,M=qe[y]||0,$=S!==0?Math.trunc(M/S):"";v.text($.toString(),p.left+ee+_,x+L/2,{baseline:"middle"});const Ge=S!==0?Math.trunc(S).toString():"";v.text(Ge,p.left+2*ee+_,x+L/2,{baseline:"middle"});const aa=M!==0?Math.trunc(M).toString():"";if(v.text(aa,p.left+3*ee+_,x+L/2,{baseline:"middle"}),d==="Q"){v.text("Porcentaje",p.left+4*ee+_,x+L/2,{baseline:"middle"});const Je=t.clientePorcentaje||0,$e=Math.trunc(Je).toString()+"%";v.text($e,p.left+5*ee+_,x+L/2,{baseline:"middle"})}else if(d==="YS"){v.text("Valor Descuento",p.left+4*ee+_,x+L/2,{baseline:"middle"});const Je=t.valorDescuento||0,$e=Math.trunc(Je).toString();v.text($e,p.left+5*ee+_,x+L/2,{baseline:"middle"}),m==="Comisi\xF3n"&&[{label:`IVA(${l.porcentajeIva}%) (-)`,value:t.ivaValor},{label:`RTE FUENTE(${l.rteFuente}%) (+)`,value:t.rteFuente},{label:`RTE ICA(${l.rteIca}%) (+)`,value:t.rteIca},{label:"Total Comisi\xF3n",value:t.totalComision}].forEach((pa,Ra)=>{const va=x+(Ra+1)*L;Be(va),v.text(pa.label,p.left+4*ee+_,va+L/2,{baseline:"middle"}),v.text(pa.value.toString(),p.left+5*ee+_,va+L/2,{baseline:"middle"})})}}),P+=pe.length*L,n.forEach(d=>{if(d.adultos>0){const y=P;Be(y),v.text(`Valor total Adt ${d.acomodacion}`,p.left+_,y+L/2,{baseline:"middle"});const x=d.precioHabitacionAdulto||0,S=Ta(x).format("$0,0");v.text(S,p.left+3*ee+_,y+L/2,{baseline:"middle"}),P+=L}if(d.ni\u00F1os>0){const y=P;Be(y),v.text(`Valor total Chd ${d.acomodacion}`,p.left+_,y+L/2,{baseline:"middle"});const x=d.precioHabitacionNino||0,S=Ta(x).format("$0,0");v.text(S,p.left+3*ee+_,y+L/2,{baseline:"middle"}),P+=L}}),v.setFontSize(8),P+=L,Be(P),v.text("Valor total",p.left+_,P+L/2,{baseline:"middle"});const ye=t.precioBrutoTotal||0,Me=Ta(ye).format("$0,0");v.text(Me,p.left+3*ee+_,P+L/2,{baseline:"middle"}),v.text("Precio a pagar",p.left+4*ee+_,P+L/2-2,{baseline:"middle"}),v.text("a Multidestinos",p.left+4*ee+_,P+L/2+2,{baseline:"middle"});const ve=0,Te=parseFloat(t.totalPrecioCliente)||0,je=ve>0?Te+ve:Te,Ae=Ta(je).format("$0,0");v.text(Ae,p.left+5*ee+_,P+L/2,{baseline:"middle"}),P+=L+10;const Ye=p.left;let Ke=P+5;const ma=190;let ca=30;v.setFontSize(7),v.setLineWidth(.5),v.setFontSize(6);const ha=5,r="PARA CONFIRMACIONES SE DEBE ENVIAR DEPOSITO DEL 50% DEL VALOR DEL PLAN Y EL SALDO 30 DIAS ANTES DE LA SALIDA, SI LA FECHA DE VIAJES CERCANA SE DEBE CANCELAR EL 100%. LOS SERVICIOS DEJADOS DE TOMAR NO SON REMBOLSABLES. LA CANCELACI\xD3N CON 18 DIAS ANTES DE VIAJE LA PENALIDAD SERA DEL 100% DEL VALOR DEL PLAN, LOS TIQUETES NO SON REEMBOLSABLE, NI ENDOSABLES, PENALIDAD POR CAMBIO (FECHA, NOMBRE, HORA, RUTAS) 200.000. ESTAS POLITICAS ESTAN PUBLICADAS DE MANERA CLARA Y ESPECIFICA EN NUESTRA PAGINA WWW.MULTIDESTINOSEXPRESS.COM. *TARIFAS SUJETA A CAMBIO Y DISPONIBILIDAD SIN PREVIO AVISO*",s=v.splitTextToSize(r,ma-10);ca=20+s.length*ha,Ke+ca>C-p.bottom&&(v.addPage(),P=p.top),Ke=P,v.rect(Ye,P,ma,ca),v.text("Deposito y Condiciones de Pago",Ye+5,Ke+3),s.forEach((d,y)=>{v.text(d,Ye+5,Ke+10+y*ha)}),P+=ca+5;const h=v.output("blob");return v.save(`cotizacion_${e}.pdf`),h}catch(a){console.error("Error al descargar cotizaci\xF3n:",a)}},handleChildrenChange(e){this.rooms[e].numChildren=this.hasChildren[e]?1:0},async fetchCotizacionData(){try{const e=await te.get("https://backmultidestinos.onrender.com/cotizacion");this.cotizacionData=e.data}catch(e){console.error("Error fetching cotizacion data:",e)}},async fetchClientOptions(){try{console.log("Obteniendo opciones de clientes...");const e=await te.get("https://backmultidestinos.onrender.com/cliente");console.log("Opciones de clientes nombre:",e.data.nombre);const a=e.data.map(o=>o.nombre);console.log("Opciones de clientes:",a),this.clientOptions=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptionCorreo(){this.correo="",this.OptionCorreo=[];try{const a=(await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`)).data.flatMap(o=>o.correo.split(","));this.OptionCorreo=a}catch(e){console.error("Error al obtener opciones de clientes:",e)}},async fetchOptions(){try{if(!this.selectedDeparture||this.selectedDeparture.trim()===""){console.warn("Debe seleccionar una ciudad de salida.");return}console.log("Realizando solicitud HTTP para cargar opciones..."),console.log("Salida seleccionada:",this.selectedDeparture);const e=await te.get(`https://backmultidestinos.onrender.com/planes/porCiudad/${this.selectedDeparture}`);console.log("Respuesta del servidor:",e.data);const a={},o={};e.data.forEach(n=>{const i=n.destino;a[i]||(a[i]={programNameOptions:[],hotelOptions:[],nochesOptions:[],accommodationOptions:[]},o[i]={nochesOptions:[]}),a[i].programNameOptions.push(n.nombrePrograma),a[i].hotelOptions.push(...n.hotel.split("*")),a[i].nochesOptions.push(...n.noches.split("*")),a[i].accommodationOptions.push(...n.acomodacion.split("*")),o[i].nochesOptions.push(...n.noches.split("*"))}),this.optionsByDestination=a,this.originalOptionsByDestination=o;const t=e.data.map(n=>n.destino);this.destinationOptions=[...new Set(t)]}catch(e){console.error("Error al cargar opciones:",e)}},updateOptionsByDestination(e){const a=this.optionsByDestination[e];a?(this.programNameOptions=[...new Set(a.programNameOptions)],this.hotelOptions=[...new Set(a.hotelOptions)],this.accommodationOptions=[...new Set(a.accommodationOptions)],this.nochesOptions=[...new Set(a.nochesOptions)].map(o=>({label:o,value:parseInt(o.split(" ")[0])})),this.programName=null,this.noche=null,this.hotel=null):(this.programNameOptions=[],this.hotelOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.programName=null,this.noche=null,this.hotel=null)},buscarTiposDeHabitacion(){te.post("https://backmultidestinos.onrender.com/hoteles/buscar",this.params).then(e=>{const a=e.data.map(t=>t.tipoDeHabitacion),o=[...new Set(a)];this.tipoDeHabitacionOptions=o}).catch(e=>{console.error("Error al buscar hoteles:",e)})},handleDepartureChange(){this.clearFieldsc(),this.destinationOptions=[],this.programNameOptions=[],this.nochesOptions=[],this.accommodationOptions=[],this.OptionCorreo=[],this.hotelOptions=[],this.roomTypeOptions=[],console.log("Cambio en la selecci\xF3n de salida. Cargando opciones..."),this.fetchOptions(),this.fetchClientOptions()},handleSelectionChangeTipo(e){var o;if(e==null||e.value,!this.hotel||!this.programName||!this.destination||!this.selectedDeparture){console.warn("Faltan datos para buscar tipos de habitaci\xF3n");return}const a=(o=this.noche)==null?void 0:o.label;if(!a){console.warn("No se ha seleccionado una noche v\xE1lida.");return}this.paramsN.hotel=this.hotel,this.paramsN.nombrePrograma=this.programName,this.paramsN.destino=this.destination,this.paramsN.noches=a,this.paramsN.pertenece=this.selectedDeparture,console.log("Noche escogida:",a),console.log("Par\xE1metros enviados:",this.paramsN),te.post("https://backmultidestinos.onrender.com/hoteles/buscarN",this.paramsN).then(t=>{console.log("Respuesta del servidor:",t.data);const n=t.data.map(l=>l.tipoHabitacion),i=[...new Set(n)];console.log("Tipos de habitaci\xF3n \xFAnicos:",i),this.roomTypeOptions=i}).catch(t=>{console.error("Error al buscar hoteles:",t),this.$q.notify({message:"Hubo un error al cargar los tipos de habitaci\xF3n",color:"negative"})})},openModalPersonalizado(){this.modalVisiblePersonalizado=!0},openModal(){this.modalVisible=!0},closeModalPersonalizado(){this.modalVisiblePersonalizado=!1,this.clearFieldsPersonalizado()},closeModal(){this.modalVisible=!1,this.clearFields()},resetVariables(){this.aerolineaEscalaIda="",this.vueloEscalaIda="",this.horaLlegadaEscalaIda="",this.horaSalidaEscalaIda="",this.claseEscalaIda="",this.aerolineaEscalaVuelta="",this.vueloEscalaVuelta="",this.horaLlegadaEscalaVuelta="",this.horaSalidaEscalaVuelta="",this.claseEscalaVuelta="",this.aerolineaValue1="",this.vueloValue1="",this.aerolineaValue2="",this.vueloValue2="",this.horaSalidaValue1="",this.horaLlegadaValue1="",this.horaSalidaValue2="",this.horaLlegadaValue2="",this.claseValue1="",this.claseValue2="",this.totalAdultos=0,this.totalNi\u00F1os=0,this.hasChildren=[],this.additionalNightSelected=!1,this.additionalNightCount=0,this.habitacionesDatos=[],this.totalImpuestos=0,this.sumaTotalAcomodacion=0,this.sumaValorBrutohab=0,this.sumaTotalDescuento=0,this.childrenPriceNumber=0,this.cormacarena5a11Total=0,this.cormacarena12a65Total=0,this.cormacarenaExtranjeroTotal=0,this.pqsNaturales5a24Total=0,this.pqsNaturales25a65Total=0,this.pqsNaturalesExtranjeroTotal=0,this.alcaldiaNacionalTotal=0,this.alcaldiaExtranjeroTotal=0,this.defensaCivilTotal=0,this.cormacarena5a11Personas=0,this.cormacarena12a65Personas=0,this.cormacarenaExtranjeroPersonas=0,this.pqsNaturales5a24Personas=0,this.pqsNaturales25a65Personas=0,this.pqsNaturalesExtranjeroPersonas=0,this.alcaldiaNacionalPersonas=0,this.alcaldiaExtranjeroPersonas=0,this.defensaCivilPersonas=0},async obtenerInformacionTiquete(e,a){try{const o=await te.get(`https://backmultidestinos.onrender.com/tiquete/buscar/${e}/${a}`);return console.log("Informaci\xF3n del tiquete:",o.data),o.data}catch(o){throw console.error("Error al obtener la informaci\xF3n del tiquete:",o),o}},async saveFormData(){var w,b,A,X,z,v;if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,i=0,l=0;const g=(await te.get("https://backmultidestinos.onrender.com/CanoCristal/")).data;console.log("Datos de impuestos obtenidos:",g);try{const p=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",p);let f=null,C=null,G=null,Z=null,E=null;p.data.forEach(q=>{q.nombre===this.selectedClient&&(f=this.programName==="Ca\xF1o Cristales"?parseFloat(q.lmc):parseFloat(q.demas),C=q.tipoBase,G=q.rteFuente,Z=q.rteIca,E=q.porcentajeIva)}),console.log("clientePorcentaje",f),console.log("clienteTipoBase",C),console.log("rteFuente",G),console.log("rteIca",Z),console.log("ivaValor",E);const W=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",W);const _e=W[0].total,be=parseFloat(_e);console.log("tiquete",_e),console.log("tiqueteNum",be);let me=0;if(this.supplementValues)for(let q=0;q<this.supplementValues.length;q++)this.supplementValues[q]&&(console.log("persona",[q],this.supplementValues[q]),me+=parseFloat(this.supplementValues[q])-be),console.log("Total suplemento",[q],me);console.log("Valor del suplemento:",me);const Ee=[];this.rooms.forEach((q,V)=>{const T={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:q.roomType,noches:this.noche.value};Ee.push(T)}),console.log("edades",Ee);try{const q=await Promise.all(Ee.map(H=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",H)));console.log("preciosResponseArray",q),console.log("preciosResponseArray data",q.data);const V=[];q.forEach(H=>{H.data.length>0?V.push(...H.data):console.log("No se encontraron datos en esta respuesta")}),console.log(V),this.plan=V[0].plan;const T={pertenece:this.selectedDeparture,destino:this.destination},U=await te.get("https://backmultidestinos.onrender.com/transporte/buscar",{params:T});console.log("transporteResponse",U),console.log("entrando a trans"),U.data.forEach(H=>{console.log("transporte.combus",H.combus),e+=parseFloat(H.combus)||0,console.log("combus",e),a+=parseFloat(H.tasa)||0,o+=parseFloat(H.iva)||0,t+=parseFloat(H.ta)||0,n+=parseFloat(H.ivaTa)||0,i+=parseFloat(H.otros)||0,l+=parseFloat(H.total)||0}),console.log("saliendo de trans trans"),console.log("normalcombus",e),console.log("this.normalcombus",this.combus),console.log("precioTrans",this.precioTrans);let R=0,fe=[];await Promise.all(this.rooms.map(async(H,ce)=>{console.log(`Procesando habitaci\xF3n ${ce+1}`);const Le=H.accommodation,Ue=H.roomType;console.log(`Tipo de habitaci\xF3n seleccionado: ${Ue}`);const De=V.find(ge=>ge.tipoHabitacion===Ue);console.log("Datos de precio encontrados:",De);const Xe=H.accommodation,Ce=H.roomType,ea={pertenece:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,hotel:this.hotel,tipoHabitacion:Ce,noches:`${this.noche.value} noches`};console.log("noche escogida",this.noche.value),console.log(ea);let ta;try{const ge=await te.get("https://backmultidestinos.onrender.com/transporte/por-parametros",{params:ea}),Fe=Object.keys(ge.data[0]||{}).filter(Oe=>Oe.toLowerCase().startsWith(Le.toLowerCase()+"_"));console.log("Nombres de impuestos por acomodaci\xF3n:",Fe),this.impuestosParaBD=Fe.reduce((Oe,J)=>{const ue=`${J.split("_")[0]}_${J.split("_")[1]}`;return Oe[ue]=ge.data[0][J],Oe},{}),console.log("Impuestos para la BD:",ta);const oa=V.find(Oe=>Oe.tipoHabitacion===Ue);console.log("Datos de precio encontrados:",oa)}catch(ge){console.error("Error al buscar transportes:",ge)}if(De){const ge=De[Le];console.log(`la acomodacio es: ${Le}`),console.log(`Precio de la acomodaci\xF3n: ${ge}`),H.accommodationPrice=ge;let Fe=0,oa=0;this.hasChildren[ce]&&(R=De.ni\u00F1o,console.log("childrenPrice",R),this.childrenPriceNumber=parseFloat(R.replace(/\./g,"")),Fe+=R),console.log("childrenPriceNumber1",this.childrenPriceNumber);let Oe=0,J=0;if(this.additionalNightSelected&&this.additionalNightCount>0){const ve=parseFloat(De[`nocheAdicional${Le}`].replace(/\./g,""));console.log("additionalNightPriceAdulto",ve);const Te=this.additionalNightCount;if(console.log("nochesAdicionales",Te),Oe=ve*this.additionalNightCount,console.log("additionalNightTotalPriceAdulto",Oe),Fe+=Oe,this.hasChildren[ce]){const je=parseFloat(De.nocheAdicionalni\u00F1o.replace(/\./g,""));console.log("additionalNightPriceNi\xF1o",je),J=je*this.additionalNightCount*H.numChildren,console.log("additionalNightTotalPriceNi\xF1o",J),Fe+=J}}const ue=parseFloat(ge.replace(/\./g,""));console.log("accommodationPriceNumber",ue),console.log("precioTrans",l);const ne=ue-l+(this.additionalNightSelected?Oe:0);this.ValorComisionableNi\u00F1os=0;let Q=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[ce]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+J,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(f/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",ne),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const j=ne-ne*(f/100);console.log("ValorClienteAdulto",j),console.log("ValorClienteNi\xF1o",Q);const we=j+Q;console.log("ValorCliente",we);const _=parseInt(H.adults);console.log("numAdultos",_);const L=this.hasChildren[ce]?H.numChildren:0,ra=ue*_,ee=(this.childrenPriceNumber?this.childrenPriceNumber:0)*L;let Be=ra+ee;console.log("valorBrutoAdulto",ra),console.log("valorBrutoni\xF1o",ee),console.log("valorBrutoTotal",Be),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${ce+1}: ${_}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${ce+1}: ${L}`);const la=j*_;console.log("TotalAcomodacionAdulto",la);let Re=this.ValorClienteNi\u00F1o*L;console.log("TotalAcomodacionNi\xF1o",Re),(Re===null||isNaN(Re))&&(Re=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",Re);let Ze=Re+la;console.log("TotalAcomodacion",Ze),console.log("totalAdultos",_),this.totalAdultos+=_,console.log("totalAdultos",_),this.totalNi\u00F1os+=L;const pe=ne*_+this.ValorComisionableNi\u00F1os*L,qe=pe*(f/100);console.log("descuento",qe),console.log("Valorporcentaje",pe);let ye={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},Me={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",H),H.adultAges.length>0&&this.destination==="La Macarena")for(let ve=0;ve<H.adultAges.length;ve++){const Te=H.adultAges[ve],je=H.isForeigner[ve];console.log(`Calculando impuestos para la persona ${ve+1} (edad: ${Te}, extranjero: ${je})`);for(const Ae of g){const Ye=Ae.IMPUESTO;console.log(`Impuesto actual: ${Ye}`),Ye==="cormacarena"?je?(ye.cormacarenaExtranjero+=parseFloat(Ae.EXTRANJERO)||0,Me.cormacarenaExtranjero++):Te>=5&&Te<=11?(ye.cormacarena5a11+=parseFloat(Ae["5 a 11 a\xF1os"])||0,Me.cormacarena5a11++):Te>=12&&Te<=65&&(ye.cormacarena12a65+=parseFloat(Ae["12 a 65 a\xF1os"])||0,Me.cormacarena12a65++):Ye==="pqsNaturales"?je?(ye.pqsNaturalesExtranjero+=parseFloat(Ae.EXTRANJERO)||0,Me.pqsNaturalesExtranjero++):Te>=5&&Te<=24?(ye.pqsNaturales5a24+=parseFloat(Ae["5 a 24 a\xF1os"])||0,Me.pqsNaturales5a24++):Te>=25&&Te<=65&&(ye.pqsNaturales25a65+=parseFloat(Ae["25 a 65 a\xF1os"])||0,Me.pqsNaturales25a65++):Ye==="alcaldia"?je?(ye.alcaldiaExtranjero+=parseFloat(Ae.EXTRANJERO)||0,Me.alcaldiaExtranjero++):Te>=5&&Te<=1e3&&(ye.alcaldiaNacional+=parseFloat(Ae["12 a 65 a\xF1os"])||0,Me.alcaldiaNacional++):Ye==="defensaCivil"&&(ye.defensaCivil+=parseFloat(Ae["5 a 11 a\xF1os"])||0,Me.defensaCivil++),console.log(`   Impuesto ${Ye} (acumulado): ${ye[Ye]}`)}}console.log("Impuestos totales por habitaci\xF3n:",ye);for(const ve in ye)ye[ve]===0&&(ye[ve]=null);console.log("Impuestos calculados para la habitaci\xF3n:",ye),console.log("N\xFAmero de personas por impuesto:",Me),console.log("        this.impuestosParaBD ",this.impuestosParaBD),this.habitacionesDatos.push({idCotizacion:"",adultos:_,ni\u00F1os:L,acomodacion:Le,tipoHabitacion:Ue,precioFlayerAdulto:ue,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:ee,precioHabitacionAdulto:ra,precioHabitacionTotal:Be,precioComisionableAdulto:ne,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:j,valorDescuentoCliente:we,descuento:qe,TotalAcomodacionAdulto:la,TotalAcomodacionNino:Re,TotalAcomodacion:Ze,edadesAdultos:H.adultAges.filter(ve=>ve!==null).join(","),edadNino:H.childAge!==null?H.childAge:null,extranjero:H.isForeigner.map(ve=>ve?"SI":"NO").join(","),...this.impuestosParaBD}),console.log("habitacionesDatos despu\xE9s del push:",this.habitacionesDatos)}else console.log("No se encontraron datos de precio para esta habitaci\xF3n")}))}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),console.log("ENTRANDOOOOO HABITACION COSOTOS"),this.habitacionesDatos.forEach(q=>{console.log("ENTRANDOOOOO222 HABITACION COSOTOS"),console.log("habitacion.TotalAcomodacion;",q.TotalAcomodacion);const V=["sencilla_ImpuestoHotel","doble_ImpuestoHotel","triple_ImpuestoHotel","cuadruple_ImpuestoHotel","quintuple_ImpuestoHotel","sextuple_ImpuestoHotel","ni\xF1o_ImpuestoHotel","sencilla_ImpuestoIngr","doble_ImpuestoIngr","triple_ImpuestoIngr","cuadruple_ImpuestoIngr","quintuple_ImpuestoIngr","sextuple_ImpuestoIngr","ni\xF1o_ImpuestoIngr","sencilla_Impoconsumo","doble_Impoconsumo","triple_Impoconsumo","cuadruple_Impoconsumo","quintuple_Impoconsumo","sextuple_Impoconsumo","ni\xF1o_Impoconsumo"];this.sumaTotalAcomodacion+=q.TotalAcomodacion,console.log("suma total antes de los totales otros",this.sumaTotalAcomodacion);for(const T in q){console.log("propiedad",T);const U=q[T],R=Number(U);if(V.includes(T)){console.log("si paso",R),console.log("suma total antesitos de los totales otros",this.sumaTotalAcomodacion);const fe=q.adultos*R;q[T]=fe,console.log("cantidad adultos",q.adultos),console.log("cantidad adultos2",fe),console.log("valor despues de multiplicaion",R),q.ni\u00F1os&&(console.log("entro a ni\xF1os"),fe+=q.ni\u00F1os*R,q[T]+=fe,console.log("entro a ni\xF1os valor:",fe)),this.sumaTotalAcomodacion+=fe,this.sumaValorBrutohab+=fe,console.log("suma total despusito de los totales otros",this.sumaTotalAcomodacion)}}console.log("despues suma total antes de los totales otros",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=q.precioHabitacionTotal,this.sumaTotalDescuento+=q.descuento,this.cormacarena5a11Total+=q.cormacarena5a11||0,this.cormacarena12a65Total+=q.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=q.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=q.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=q.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=q.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=q.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=q.alcaldiaExtranjero||0,this.defensaCivilTotal+=q.defensaCivil||0,this.cormacarena5a11Personas+=q.cormacarena5a11Personas,this.cormacarena12a65Personas+=q.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=q.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=q.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=q.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=q.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=q.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=q.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=q.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=me,this.sumaTotalAcomodacion+=me,console.log("valor de sumaValorBrutohab antes de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion antes de extras",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=(A=(b=(w=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?w:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?b:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?A:0,this.sumaTotalAcomodacion+=(v=(z=(X=parseFloat(this.extraValue1===""||this.extraValue1===null?"0":this.extraValue1))!=null?X:0+parseFloat(this.extraValue2===""||this.extraValue2===null?"0":this.extraValue2))!=null?z:0+parseFloat(this.transferInOutValue===""||this.transferInOutValue===null?"0":this.transferInOutValue))!=null?v:0,console.log("valor de sumaValorBrutohab despues de extras",this.sumaValorBrutohab),console.log("valor de sumaTotalAcomodacion despues de extras",this.sumaTotalAcomodacion),console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let Se=null,ie=null,he=null,K=null;C==="Comisi\xF3n"&&(console.log("si es comison"),this.total,K=this.sumaTotalDescuento,E!==null&&E!==0&&(ie=Math.round(this.sumaTotalDescuento*(E/100)),this.ivaCalculado=ie,K+=ie),G!==null&&G!==0&&(Se=Math.round(this.sumaTotalDescuento*(G/100)),this.rteFuenteCalculado=Se,K-=Se),Z!==null&&Z!==0&&(he=Math.round(this.sumaTotalDescuento*(Z/100)),this.rteIcaCalculado=he,K-=he)),console.log("this.ivaCalculado",ie),console.log("this.rteFuenteCalculado",Se),console.log("this.rteIcaCalculado",he),console.log("this.totalComision",K);const re=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",re),console.log("1combus",this.combus),e*=re,a*=re,console.log("despuescombus2.0",e),o*=re,t*=re,n*=re,i*=re,l*=re,this.sumaTotalAcomodacion+=l,console.log("combus multi",e),console.log("precioTrans",l),C==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-K);const He=new Date;He.setHours(0,0,0,0),console.log(He.toISOString().split("T")[0]);const We=dt.getItem("userData");console.log(We);let D=parseInt(this.noche.value),xe=parseInt(D)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",D),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",xe);const Ie=this.numExtraValues===0?null:[this.extraValue1,this.extraValue2].filter(q=>q!==null&&q!=="").join(this.numExtraValues===2?"*":"");console.log("extraValue1",this.extraValue1),console.log("extraValuesString",Ie),this.programName!=="Ca\xF1o Cristales"?this.tieneImpuestos=!1:this.tieneImpuestos=!0,console.log("llego a formData"),console.log("combus",this.combus);const P={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:xe,plan:this.plan,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:re,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:e,tasa:a,iva:o,ta:t,ivaTa:n,otros:i,precioTrans:l,suplemento:me,cliente:this.selectedClient,clientePorcentaje:f,CreadorCotizacion:We.id,fechaCreacion:He.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:Se,ivaValor:ie,rteIca:he,totalComision:K,correo:this.correo,transfer:this.transferInOutValue||null,asesorExterno:"this.selectedUser.value || null",extra1:Ie||null,incluye:null,noIncluye:null,status:"pendiente",tieneImpuestos:this.tieneImpuestos};console.log("formData",P),console.log("formData",P);const de=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",P);de.data.success&&(console.log("mirar el numero",de.data.success),console.log("mirar el numero1",de.data.idCotizacion),this.idCotizacion=de.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",de.data),console.log("idCotizacion1",this.idCotizacion);const Y={idCotizacion:this.idCotizacion,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas};if(this.programName=="Ca\xF1o Cristales"){const q=await te.post("https://backmultidestinos.onrender.com/ImpuestoCot",Y)}const ze=this.habitacionesDatos.map(async q=>{q.idCotizacion=this.idCotizacion;const V=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",q);return console.log("Respuesta de la habitaci\xF3n:",V.data),V.data}),Qe=await Promise.all(ze);console.log("Respuestas de todas las habitaciones:",Qe),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),location.reload(),this.closeModal(),this.resetVariables()}catch(p){console.error("Error al guardar la cotizaci\xF3n:",p),this.closeModal(),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}},async saveFormDataPersonalizado(){if(!this.aerolineaValue1||!this.vueloValue1||!this.aerolineaValue2||!this.vueloValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de aerol\xEDnea y vuelo para ambas direcciones.",color:"negative"});return}if(!this.horaSalidaValue1||!this.horaLlegadaValue1||!this.horaSalidaValue2||!this.horaLlegadaValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de horas de salida y llegada para ambas direcciones.",color:"negative"});return}if(!this.claseValue1||!this.claseValue2){this.$q.notify({message:"Por favor complete la informaci\xF3n de clase para ambas direcciones.",color:"negative"});return}if(!this.dateRange[0]||!this.dateRange[1]){this.$q.notify({message:"Por favor complete la informaci\xF3n de fechas de inicio y fin.",color:"negative"});return}let e=0,a=0,o=0,t=0,n=0,i=0,l=0;const g=(await te.get("https://backmultidestinos.onrender.com/canoCristal/")).data;console.log("Datos de impuestos obtenidos:",g);try{const w=await te.get(`https://backmultidestinos.onrender.com/cliente/buscar/${this.selectedClient}`);console.log("clienteResponse",w);let b=null,A=null,X=null,z=null,v=null;w.data.forEach(D=>{D.nombre===this.selectedClient&&(b=this.programName==="Ca\xF1o Cristales"?parseFloat(D.lmc):parseFloat(D.demas),A=D.tipoBase,X=D.rteFuente,z=D.rteIca,v=D.porcentajeIva)}),console.log("clientePorcentaje",b),console.log("clienteTipoBase",A),console.log("rteFuente",X),console.log("rteIca",z),console.log("ivaValor",v);const p=await this.obtenerInformacionTiquete(this.selectedDeparture,this.destination);console.log("Informaci\xF3n del tiquete obtenida:",p);const f=p[0].total,C=parseFloat(f);console.log("tiquete",f),console.log("tiqueteNum",C);let G=0;if(this.supplementValues)for(let D=0;D<this.supplementValues.length;D++)this.supplementValues[D]&&(console.log("persona",[D],this.supplementValues[D]),G+=parseFloat(this.supplementValues[D])-C),console.log("Total suplemento",[D],G);console.log("Valor del suplemento:",G);const Z=[];try{const D=await Promise.all(Z.map(P=>te.post("https://backmultidestinos.onrender.com/hoteles/buscarT",P)));console.log("preciosResponseArray",D),console.log("preciosResponseArray data",D.data);const xe=[];D.forEach(P=>{P.data.length>0?xe.push(...P.data):console.log("No se encontraron datos en esta respuesta")}),console.log(xe),e+=parseFloat(this.Combus)||0,a+=parseFloat(this.Tasa)||0,o+=parseFloat(this.Iva)||0,t+=parseFloat(this.Ta)||0,n+=parseFloat(this.IvaTa)||0,i+=parseFloat(this.otros)||0,l+=parseFloat(this.precioTransp)||0,console.log("precioTrans",l);let Ie=0;this.rooms.forEach(async(P,de)=>{console.log(`Procesando habitaci\xF3n ${de+1}`);const Y=P.accommodation,ze=P.roomType,Qe=parseFloat(P.valor),q=Qe+parseFloat(l);if(1){const T=P.adults,U=this.hasChildren[de]?P.numChildren:0,R=q;console.log(`Precio de la acomodaci\xF3n: ${R}`),P.accommodationPrice=R;let fe=0,H=0;console.log("precioTrans",l);const ce=Qe;this.ValorComisionableNi\u00F1os=0;let Le=0;console.log("antes de childrenPriceNumber",this.childrenPriceNumber),this.hasChildren[de]&&(this.ValorComisionableNi\u00F1os=this.childrenPriceNumber-l+additionalNightTotalPriceNi\u00F1o,this.ValorClienteNi\u00F1o=this.ValorComisionableNi\u00F1os-this.ValorComisionableNi\u00F1os*(b/100)),console.log("this.ValorClienteNi\xF1o",this.ValorClienteNi\u00F1o),console.log("ValorComisionableAdultos",ce),console.log("ValorComisionableNi\xF1os",this.ValorComisionableNi\u00F1os);const Ue=ce-ce*(b/100);console.log("ValorClienteAdulto",Ue),console.log("ValorClienteNi\xF1o",Le);const De=Ue+Le;console.log("ValorCliente",De);const Xe=R*T,Ce=(this.childrenPriceNumber?this.childrenPriceNumber:0)*U;let ea=Xe+Ce;console.log("valorBrutoAdulto",Xe),console.log("valorBrutoni\xF1o",Ce),console.log("valorBrutoTotal",ea),console.log(`N\xFAmero de adultos en la habitaci\xF3n ${de+1}: ${T}`),console.log(`N\xFAmero de ni\xF1os en la habitaci\xF3n ${de+1}: ${U}`);const ta=Ue*T;console.log("TotalAcomodacionAdulto",ta);let ge=this.ValorClienteNi\u00F1o*U;console.log("TotalAcomodacionNi\xF1o",ge),(ge===null||isNaN(ge))&&(ge=0),console.log("TotalAcomodacionNi\xF1o despu\xE9s de la condici\xF3n",ge);let Fe=ge+ta;console.log("TotalAcomodacion",Fe),this.totalAdultos+=parseInt(T),this.totalNi\u00F1os+=U;const oa=ce*T+this.ValorComisionableNi\u00F1os*U,Oe=oa*(b/100);console.log("descuento",Oe),console.log("Valorporcentaje",oa);let J={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0},ue={cormacarena5a11:0,cormacarena12a65:0,cormacarenaExtranjero:0,pqsNaturales5a24:0,pqsNaturales25a65:0,pqsNaturalesExtranjero:0,alcaldiaNacional:0,alcaldiaExtranjero:0,defensaCivil:0};if(console.log("Habitaci\xF3n actual:",P),P.adultAges.length>0)for(let ne=0;ne<P.adultAges.length;ne++){const Q=P.adultAges[ne],j=P.isForeigner[ne];console.log(`Calculando impuestos para la persona ${ne+1} (edad: ${Q}, extranjero: ${j})`);for(const we of g){const _=we.IMPUESTO;console.log(`Impuesto actual: ${_}`),_==="cormacarena"?j?(J.cormacarenaExtranjero+=parseFloat(we.EXTRANJERO)||0,ue.cormacarenaExtranjero++):Q>=5&&Q<=11?(J.cormacarena5a11+=parseFloat(we["5 a 11 a\xF1os"])||0,ue.cormacarena5a11++):Q>=12&&Q<=65&&(J.cormacarena12a65+=parseFloat(we["12 a 65 a\xF1os"])||0,ue.cormacarena12a65++):_==="pqsNaturales"?j?(J.pqsNaturalesExtranjero+=parseFloat(we.EXTRANJERO)||0,ue.pqsNaturalesExtranjero++):Q>=5&&Q<=24?(J.pqsNaturales5a24+=parseFloat(we["5 a 24 a\xF1os"])||0,ue.pqsNaturales5a24++):Q>=25&&Q<=65&&(J.pqsNaturales25a65+=parseFloat(we["25 a 65 a\xF1os"])||0,ue.pqsNaturales25a65++):_==="alcaldia"?j?(J.alcaldiaExtranjero+=parseFloat(we.EXTRANJERO)||0,ue.alcaldiaExtranjero++):Q>=5&&Q<=1e3&&(J.alcaldiaNacional+=parseFloat(we["12 a 65 a\xF1os"])||0,ue.alcaldiaNacional++):_==="defensaCivil"&&(J.defensaCivil+=parseFloat(we["5 a 11 a\xF1os"])||0,ue.defensaCivil++),console.log(`   Impuesto ${_} (acumulado): ${J[_]}`)}}console.log("Impuestos totales por habitaci\xF3n:",J);for(const ne in J)J[ne]===0&&(J[ne]=null);console.log("Impuestos calculados para la habitaci\xF3n:",J),console.log("N\xFAmero de personas por impuesto:",ue),this.habitacionesDatos.push({idCotizacion:"",adultos:T,ni\u00F1os:U,acomodacion:Y,tipoHabitacion:ze,precioFlayerAdulto:R,precioFlayerNino:this.childrenPriceNumber,precioHabitacionNino:Ce,precioHabitacionAdulto:Xe,precioHabitacionTotal:ea,precioComisionableAdulto:ce,precioComisionableNino:this.ValorComisionableNi\u00F1os,valorDescuentoHabitacionNino:this.ValorClienteNi\u00F1o,valorDescuentoHabitacionAdulto:Ue,valorDescuentoCliente:De,descuento:Oe,TotalAcomodacionAdulto:ta,TotalAcomodacionNino:ge,TotalAcomodacion:Fe,edadesAdultos:P.adultAges.filter(ne=>ne!==null).join(","),edadNino:P.childAge!==null?P.childAge:null,extranjero:P.isForeigner.map(ne=>ne?"SI":"NO").join(","),defensaCivil:J.defensaCivil,defensaCivilPersonas:ue.defensaCivil,alcaldiaNacional:J.alcaldiaNacional,alcaldiaNacionalPersonas:ue.alcaldiaNacional,alcaldiaExtranjero:J.alcaldiaExtranjero,alcaldiaExtranjeroPersonas:ue.alcaldiaExtranjero,pqsNaturalesExtranjero:J.pqsNaturalesExtranjero,pqsNaturalesExtranjeroPersonas:ue.pqsNaturalesExtranjero,pqsNaturales25a65:J.pqsNaturales25a65,pqsNaturales25a65Personas:ue.pqsNaturales25a65,pqsNaturales5a24:J.pqsNaturales5a24,pqsNaturales5a24Personas:ue.pqsNaturales5a24,cormacarenaExtranjero:J.cormacarenaExtranjero,cormacarenaExtranjeroPersonas:ue.cormacarenaExtranjero,cormacarena5a11:J.cormacarena5a11,cormacarena5a11Personas:ue.cormacarena5a11,cormacarena12a65:J.cormacarena12a65,cormacarena12a65Personas:ue.cormacarena12a65})}})}catch{console.log("error"),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar las habitaciones!",color:"negative"})}console.log("Array de habitacionesDatos:",this.habitacionesDatos),console.log("Total de adultos:",this.totalAdultos),console.log("Total de ni\xF1os:",this.totalNi\u00F1os),this.habitacionesDatos.forEach(D=>{this.sumaTotalAcomodacion+=D.TotalAcomodacion,this.sumaValorBrutohab+=D.precioHabitacionTotal,this.sumaTotalDescuento+=D.descuento,this.cormacarena5a11Total+=D.cormacarena5a11||0,this.cormacarena12a65Total+=D.cormacarena12a65||0,this.cormacarenaExtranjeroTotal+=D.cormacarenaExtranjero||0,this.pqsNaturales5a24Total+=D.pqsNaturales5a24||0,this.pqsNaturales25a65Total+=D.pqsNaturales25a65||0,this.pqsNaturalesExtranjeroTotal+=D.pqsNaturalesExtranjero||0,this.alcaldiaNacionalTotal+=D.alcaldiaNacional||0,this.alcaldiaExtranjeroTotal+=D.alcaldiaExtranjero||0,this.defensaCivilTotal+=D.defensaCivil||0,this.cormacarena5a11Personas+=D.cormacarena5a11Personas,this.cormacarena12a65Personas+=D.cormacarena12a65Personas,this.cormacarenaExtranjeroPersonas+=D.cormacarenaExtranjeroPersonas,this.pqsNaturales5a24Personas+=D.pqsNaturales5a24Personas,this.pqsNaturales25a65Personas+=D.pqsNaturales25a65Personas,this.pqsNaturalesExtranjeroPersonas+=D.pqsNaturalesExtranjeroPersonas,this.alcaldiaNacionalPersonas+=D.alcaldiaNacionalPersonas,this.alcaldiaExtranjeroPersonas+=D.alcaldiaExtranjeroPersonas,this.defensaCivilPersonas+=D.pqsNaturalesExtranjeroPersonas}),this.totalImpuestos=(this.cormacarena5a11Total||0)+(this.cormacarena12a65Total||0)+(this.cormacarenaExtranjeroTotal||0)+(this.pqsNaturales5a24Total||0)+(this.pqsNaturales25a65Total||0)+(this.pqsNaturalesExtranjeroTotal||0)+(this.alcaldiaNacionalTotal||0)+(this.alcaldiaExtranjeroTotal||0)+(this.defensaCivilTotal||0),console.log("VALOR ANTES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=this.totalImpuestos,this.sumaTotalAcomodacion+=this.totalImpuestos,console.log("VALOR TOTAL IMPUESTOS",this.totalImpuestos),console.log("VALOR DESPUES DE IMPUESTOS CA\xD1O CRISTAL","VALOR BRUTO",this.sumaValorBrutohab,"VALORCLIENTE",this.sumaTotalAcomodacion),this.sumaValorBrutohab+=G,this.sumaTotalAcomodacion+=G,console.log("La suma total de TotalAcomodacion en todas las habitaciones es:",this.sumaTotalAcomodacion),console.log("La suma total de sumaValorBrutohab en todas las habitaciones es:",this.sumaValorBrutohab),console.log("La suma total de descuetno en todas las habitaciones es:",this.sumaTotalDescuento);let E=null,W=null,_e=null,be=null;A==="Comisi\xF3n"&&(console.log("si es comison"),this.total,be=this.sumaTotalDescuento,v!==null&&v!==0&&(W=Math.round(this.sumaTotalDescuento*(v/100)),this.ivaCalculado=W,be+=W),X!==null&&X!==0&&(E=Math.round(this.sumaTotalDescuento*(X/100)),this.rteFuenteCalculado=E,be-=E),z!==null&&z!==0&&(_e=Math.round(this.sumaTotalDescuento*(z/100)),this.rteIcaCalculado=_e,be-=_e)),console.log("this.ivaCalculado",W),console.log("this.rteFuenteCalculado",E),console.log("this.rteIcaCalculado",_e),console.log("this.totalComision",be);const me=this.totalAdultos+(this.totalNi\u00F1os?this.totalNi\u00F1os:0);console.log("totalPasajeros",me),e*=me,a*=me,o*=me,t*=me,n*=me,i*=me,l*=me,this.sumaTotalAcomodacion+=l,console.log("combus",e),console.log("precioTrans",l),A==="Comisi\xF3n"&&(this.sumaTotalAcomodacion=0,this.sumaTotalAcomodacion=this.sumaValorBrutohab-be);const Ee=new Date;Ee.setHours(0,0,0,0),console.log(Ee.toISOString().split("T")[0]);const Se=dt.getItem("userData");console.log(Se);let ie=parseInt(this.noche.value),he=parseInt(ie)+parseInt(this.additionalNightCount?this.additionalNightCount:0);console.log("numeroNoches:",ie),console.log("additionalNightCount:",this.additionalNightCount),console.log("totalNoche:",he);const K={salida:this.selectedDeparture,destino:this.destination,nombrePrograma:this.programName,noches:he,hotel:this.hotel,totalAdultos:this.totalAdultos,totalNinos:this.totalNi\u00F1os,totalPasajeros:me,precioBrutoTotal:this.sumaValorBrutohab,totalPrecioCliente:this.sumaTotalAcomodacion,valorDescuento:this.sumaTotalDescuento,combus:this.combus,tasa:this.tasa,iva:this.iva,ta:this.ta,ivaTa:this.ivaTa,otros:this.otros,precioTrans:this.precioTrans,suplemento:G,cliente:this.selectedClient,clientePorcentaje:b,CreadorCotizacion:Se.id,fechaCreacion:Ee.toISOString().split("T")[0],aerolineaIda:this.aerolineaValue1,vueloIda:this.vueloValue1,horaLlegadaIda:this.horaLlegadaValue1,horaSalidaIda:this.horaSalidaValue1,claseIda:this.claseValue1,fechaInicio:this.dateRange[0],aerolineaVuelta:this.aerolineaValue2,vueloVuelta:this.vueloValue2,horaLlegadaVuelta:this.horaLlegadaValue2,horaSalidaVuelta:this.horaSalidaValue2,claseVuelta:this.claseValue2,fechaFin:this.dateRange[1],aerolineaEscalaIda:this.aerolineaEscalaIda||null,vueloEscalaIda:this.vueloEscalaIda||null,horaLlegadaEscalaIda:this.horaLlegadaEscalaIda||null,horaSalidaEscalaIda:this.horaSalidaEscalaIda||null,claseEscalaIda:this.claseEscalaIda||null,aerolineaEscalaVuelta:this.aerolineaEscalaVuelta||null,vueloEscalaVuelta:this.vueloEscalaVuelta||null,horaLlegadaEscalaVuelta:this.horaLlegadaEscalaVuelta||null,horaSalidaEscalaVuelta:this.horaSalidaEscalaVuelta||null,claseEscalaVuelta:this.claseEscalaVuelta||null,rteFuente:E,ivaValor:W,rteIca:_e,totalComision:be,correo:this.correo,cormacarena5a11_Total:this.cormacarena5a11Total,cormacarena12a65_Total:this.cormacarena12a65Total,cormacarenaExtranjero_Total:this.cormacarenaExtranjeroTotal,pqsNaturales5a24_Total:this.pqsNaturales5a24Total,pqsNaturales25a65_Total:this.pqsNaturales25a65Total,pqsNaturalesExtranjero_Total:this.pqsNaturalesExtranjeroTotal,alcaldiaNacional_Total:this.alcaldiaNacionalTotal,alcaldiaExtranjero_Total:this.alcaldiaExtranjeroTotal,defensaCivil_Total:this.defensaCivilTotal,defensaCivil_numeroPersonas:this.defensaCivilPersonas,alcaldiaNacional_numeroPersonas:this.alcaldiaNacionalPersonas,alcaldiaExtranjero_numeroPersonas:this.alcaldiaExtranjeroPersonas,pqsNaturalesExtranjero_numeroPersonas:this.pqsNaturalesExtranjeroPersonas,pqsNaturales25a65_numeroPersonas:this.pqsNaturales25a65Personas,pqsNaturales5a24_numeroPersonas:this.pqsNaturales5a24Personas,cormacarenaExtranjero_numeroPersonas:this.cormacarenaExtranjeroPersonas,cormacarena12a65_numeroPersonas:this.cormacarena12a65Personas,cormacarena5a11_numeroPersonas:this.cormacarena5a11Personas,incluye:this.textoIncluye?this.textoIncluye.replace(/\n/g,"\xBF"):null,noIncluye:this.textoNoIncluye?this.textoNoIncluye.replace(/\n/g,"\xBF"):null,extra1:null,transfer:null};console.log("formData",K);const re=await te.post(this.programName!=="Ca\xF1o Cristales"?"https://backmultidestinos.onrender.com/cotizacion":"https://backmultidestinos.onrender.com/cotizacion/c",K);re.data.success&&(console.log("mirar el numero",re.data.success),console.log("mirar el numero1",re.data.idCotizacion),this.idCotizacion=re.data.idCotizacion,this.$q.notify({message:`Cotizaci\xF3n guardada con \xE9xito. ID: ${this.idCotizacion}`,color:"positive"}),console.log("idCotizacion",this.idCotizacion)),console.log("Respuesta del servidor:",re.data),console.log("idCotizacion1",this.idCotizacion);const He=this.habitacionesDatos.map(async D=>{D.idCotizacion=this.idCotizacion;const xe=await te.post("https://backmultidestinos.onrender.com/habitacionCotizacion/",D);return console.log("Respuesta de la habitaci\xF3n:",xe.data),xe.data}),We=await Promise.all(He);console.log("Respuestas de todas las habitaciones:",We),this.$q.notify({message:"\xA1Se ha registrado con \xE9xito!",color:"positive"}),location.reload(),this.resetVariables(),this.closeModalPersonalizado()}catch(w){console.error("Error al guardar la cotizaci\xF3n:",w),this.resetVariables(),this.$q.notify({message:"\xA1Ha ocurrido un error al guardar la cotizaci\xF3n!",color:"negative"})}}}},as={key:0},ts={padding:""},os={key:1},ls=c("p",null,"Cargando datos del usuario...",-1),ns=[ls],ss={style:{display:"inline-block","margin-right":"10px"}},is={style:{display:"inline-block"}},rs=c("br",null,null,-1),cs={class:"row q-col-gutter-md"},ds={class:"col",style:{"margin-left":"10px"}},us={class:"row items-center justify-end"},ms={class:"col"},hs={class:"row items-center justify-end"},fs={class:"q-gutter-md"},gs={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},ps={class:"row q-col-gutter-md"},vs={class:"col"},bs={class:"col"},ys={class:"row q-col-gutter-md"},Vs={class:"col"},Cs={class:"col"},Ns={class:"row q-col-gutter-md"},Ts={class:"col"},Es={class:"col"},Ss={key:0,class:"row q-col-gutter-md"},xs={class:"col"},ws={class:"col"},As={class:"row q-col-gutter-md"},Ps={class:"col"},_s={class:"col"},Is={class:"row q-col-gutter-md"},qs={class:"col"},Ds={key:0,class:"col"},Os={class:"row q-col-gutter-md"},ks={class:"col"},Ms={key:1,class:"row q-col-gutter-md"},zs={class:"col"},Ls={key:2,class:"row q-col-gutter-md"},Fs={class:"col"},Rs={style:{"text-align":"center"}},js={style:{"margin-left":"10px","font-weight":"bold"}},Hs={class:"row q-col-gutter-md"},Us={class:"col"},Bs={class:"col"},Ys={class:"row q-col-gutter-md"},Ws={class:"col"},Qs={class:"col"},Xs={key:0},Gs={class:"row"},Js=c("div",{class:"col-12"},[c("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),Zs={key:0,class:"row"},Ks=c("div",{class:"col-12"},[c("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),$s={class:"col-6 col-sm-4 col-md-3"},ei=c("div",null,null,-1),ai=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),ti={class:"row q-col-gutter-md"},oi={class:"col"},li={class:"q-mb-md q-ml-md"},ni={class:"col"},si={class:"row q-col-gutter-md"},ii={class:"col"},ri={class:"q-mb-md q-ml-md"},ci={class:"col"},di={class:"row q-col-gutter-md"},ui={class:"col"},mi={class:"q-mb-md q-ml-md"},hi={class:"col",style:{"margin-left":"10px"}},fi={class:"row items-center justify-end"},gi=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),pi={class:"row q-col-gutter-md"},vi={class:"col"},bi={class:"q-mb-md q-ml-md"},yi={class:"col"},Vi={class:"row q-col-gutter-md"},Ci={class:"col"},Ni={class:"q-mb-md q-ml-md"},Ti={class:"col"},Ei={class:"row q-col-gutter-md"},Si={class:"col"},xi={class:"q-mb-md q-ml-md"},wi={class:"col"},Ai={class:"row items-center justify-end"},Pi={class:"row q-col-gutter-md"},_i={class:"col",style:{"margin-left":"10px"}},Ii={key:0},qi=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),Di={class:"row q-col-gutter-md"},Oi={class:"col"},ki={class:"col"},Mi={class:"row q-col-gutter-md"},zi={class:"col"},Li={class:"col"},Fi={class:"row q-col-gutter-md"},Ri={class:"col"},ji=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),Hi={class:"row q-col-gutter-md"},Ui={class:"col"},Bi={class:"col"},Yi={class:"row q-col-gutter-md"},Wi={class:"col"},Qi={class:"col"},Xi={class:"row q-col-gutter-md"},Gi={class:"col"},Ji={class:"row q-col-gutter-md"},Zi={class:"col"},Ki={class:"q-mb-md q-ml-md"},$i={key:1},er={class:"row q-mt-md justify-center"},ar={key:0,class:"col"},tr={key:1,class:"col"},or={key:2,class:"col"},lr={key:3,class:"col"},nr={class:"row q-col-gutter-md"},sr={class:"col",style:{"margin-left":"10px"}},ir={class:"row items-center justify-end"},rr={class:"col"},cr={class:"row items-center justify-end"},dr={class:"q-gutter-md"},ur={class:"error-message",style:{color:"red","font-size":"15px","align-items":"center"}},mr={class:"row q-col-gutter-md"},hr={class:"col"},fr={class:"col"},gr={class:"row q-col-gutter-md"},pr={class:"col"},vr={class:"col"},br={key:0,class:"row q-col-gutter-md"},yr={class:"col"},Vr={class:"col"},Cr={class:"row q-col-gutter-md"},Nr={class:"col"},Tr={class:"col"},Er={style:{"text-align":"center"}},Sr={style:{"margin-left":"10px","font-weight":"bold"}},xr={class:"row q-col-gutter-md"},wr={class:"col"},Ar={class:"col"},Pr={class:"row q-col-gutter-md"},_r={class:"col"},Ir={class:"col"},qr={key:0},Dr={class:"row"},Or=c("div",{class:"col-12"},[c("p",{class:"age-input-label"}," Edades y nacionalidad de los adultos: ")],-1),kr={key:0,class:"row"},Mr=c("div",{class:"col-12"},[c("p",{class:"age-input-label"},"Edad del ni\xF1o:")],-1),zr={class:"col-6 col-sm-4 col-md-3"},Lr=c("div",null,null,-1),Fr=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n ida")],-1),Rr={class:"row q-col-gutter-md"},jr={class:"col"},Hr={class:"q-mb-md q-ml-md"},Ur={class:"col"},Br={class:"row q-col-gutter-md"},Yr={class:"col"},Wr={class:"q-mb-md q-ml-md"},Qr={class:"col"},Xr={class:"row q-col-gutter-md"},Gr={class:"col"},Jr={class:"q-mb-md q-ml-md"},Zr={class:"col",style:{"margin-left":"10px"}},Kr={class:"row items-center justify-end"},$r=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n vuelta")],-1),ec={class:"row q-col-gutter-md"},ac={class:"col"},tc={class:"q-mb-md q-ml-md"},oc={class:"col"},lc={class:"row q-col-gutter-md"},nc={class:"col"},sc={class:"q-mb-md q-ml-md"},ic={class:"col"},rc={class:"row q-col-gutter-md"},cc={class:"col"},dc={class:"q-mb-md q-ml-md"},uc={class:"col"},mc={class:"row items-center justify-end"},hc=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Impuestos")],-1),fc={class:"row q-col-gutter-md"},gc={class:"col"},pc={class:"q-mb-md q-ml-md"},vc={class:"col"},bc={class:"row q-col-gutter-md"},yc={class:"col"},Vc={class:"q-mb-md q-ml-md"},Cc={class:"col"},Nc={class:"row q-col-gutter-md"},Tc={class:"col"},Ec={class:"q-mb-md q-ml-md"},Sc={class:"col"},xc={class:"row q-col-gutter-md"},wc={class:"col"},Ac={class:"q-mb-md q-ml-md"},Pc={class:"row q-col-gutter-md"},_c={class:"col"},Ic={class:"q-mb-md q-ml-md"},qc={class:"col"},Dc={class:"row q-col-gutter-md"},Oc={class:"col",style:{"margin-left":"10px"}},kc={key:0},Mc=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala ida")],-1),zc={class:"row q-col-gutter-md"},Lc={class:"col"},Fc={class:"col"},Rc={class:"row q-col-gutter-md"},jc={class:"col"},Hc={class:"col"},Uc={class:"row q-col-gutter-md"},Bc={class:"col"},Yc=c("p",{style:{"text-align":"center"}},[c("span",{style:{"margin-left":"10px","font-weight":"bold"}},"Informaci\xF3n escala vuelta")],-1),Wc={class:"row q-col-gutter-md"},Qc={class:"col"},Xc={class:"col"},Gc={class:"row q-col-gutter-md"},Jc={class:"col"},Zc={class:"col"},Kc={class:"row q-col-gutter-md"},$c={class:"col"},ed={class:"row q-col-gutter-md"},ad={class:"col"},td={class:"q-mb-md q-ml-md"},od={key:1},ld={class:"row q-mt-md justify-center"},nd={key:0,class:"col"},sd={key:1,class:"col"},id={key:2,class:"col"},rd={key:3,class:"col"},cd=c("div",{class:"text-h6 q-mb-md"},"Datos de Pasajeros",-1),dd={class:"text-subtitle1 q-mb-sm"},ud={class:"row q-mb-md"},md={class:"col-6 q-pr-sm"},hd={class:"col-6"},fd=c("br",null,null,-1),gd={class:"row"},pd={class:"col-6"},vd={class:"col-6"},bd=c("br",null,null,-1),yd=c("br",null,null,-1),Vd=c("br",null,null,-1),Cd=c("br",null,null,-1),Nd=c("br",null,null,-1),Td={type:"file",ref:"fileInput",style:{display:"none"}};function Ed(e,a,o,t,n,i){return ae(),ut(ml,{padding:""},{default:F(()=>[t.userData?(ae(),le("div",as,[c("h5",ts,"Bienvenido, "+Ba(t.userData.nombreCompleto),1)])):(ae(),le("div",os,ns)),c("div",ss,[u(oe,{label:"Crear cotizacion",onClick:i.openModal,color:"primary"},null,8,["onClick"])]),c("div",is,[u(oe,{label:"Crear cotizacion Personalizada",onClick:i.openModalPersonalizado,color:"orange"},null,8,["onClick"])]),rs,u(at,{modelValue:t.modalVisible,"onUpdate:modelValue":a[48]||(a[48]=l=>t.modalVisible=l),"content-css":"max-width: 600px;"},{default:F(()=>[u(Ia,null,{default:F(()=>[u(Ca,{class:"q-pa-md"},{default:F(()=>[na(c("div",null,[u(Ia,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:F(()=>[u(Ca,{class:"q-pa-md"},{default:F(()=>[c("div",cs,[c("div",ds,[u(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[1]||(a[1]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[0]||(a[0]=l=>t.dateRange[0]=l)},{default:F(()=>[c("div",us,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),c("div",ms,[u(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[3]||(a[3]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[2]||(a[2]=l=>t.dateRange[1]=l)},{default:F(()=>[c("div",hs,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),c("div",fs,[u(se,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[4]||(a[4]=l=>t.selectedDeparture=l),i.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),u(se,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[5]||(a[5]=l=>t.destination=l),i.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:F(()=>[na(c("div",gs," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),c("div",ps,[c("div",vs,[u(se,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[6]||(a[6]=l=>t.hotel=l),i.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",bs,[u(se,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":a[7]||(a[7]=l=>t.programName=l),label:"Nombre del Programa",options:t.matchingPrograms,"option-label":"nombrePrograma",class:"q-mb-md",error:!t.programName&&!t.autofillingProgramName,"error-message":"UPS... NO HAY TARIFA PARA ESTA TEMPORADA"},null,8,["modelValue","options","error"])])]),c("div",ys,[c("div",Vs,[u(se,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[8]||(a[8]=l=>t.selectedClient=l),i.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",Cs,[u(se,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":a[9]||(a[9]=l=>t.noche=l),label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])])]),c("div",Ns,[c("div",Ts,[u(sa,{modelValue:t.asesorExternoCheck,"onUpdate:modelValue":a[10]||(a[10]=l=>t.asesorExternoCheck=l),label:"\xBFAsesor Externo?",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),c("div",Es,[u(se,{outlined:"",modelValue:t.selectedUser,"onUpdate:modelValue":a[11]||(a[11]=l=>t.selectedUser=l),options:e.dropdownOptions,label:"Selecciona un usuario",class:"q-mb-md q-ml-md",disable:!t.asesorExternoCheck},null,8,["modelValue","options","disable"])])]),i.shouldHideAdditionalNightSection()?ke("",!0):(ae(),le("div",Ss,[c("div",xs,[u(sa,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[12]||(a[12]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),c("div",ws,[u(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[13]||(a[13]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),c("div",As,[c("div",Ps,[u(se,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[14]||(a[14]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),c("div",_s,[u(se,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[15]||(a[15]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),c("div",Is,[c("div",qs,[u(se,{outlined:"",modelValue:t.transferInOut,"onUpdate:modelValue":a[16]||(a[16]=l=>t.transferInOut=l),label:"\xBFNecesita agregar alg\xFAn valor correspondiente a 'transfer in-out'?",options:["S\xED","No"],class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),t.transferInOut==="S\xED"?(ae(),le("div",Ds,[u(O,{outlined:"",modelValue:t.transferInOutValue,"onUpdate:modelValue":a[17]||(a[17]=l=>t.transferInOutValue=l),label:"Valor 'transfer in-out'",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])):ke("",!0)]),c("div",Os,[c("div",ks,[u(se,{outlined:"",modelValue:t.numExtraValues,"onUpdate:modelValue":a[18]||(a[18]=l=>t.numExtraValues=l),label:"\xBFCu\xE1ntos valores extra necesita agregar (m\xE1ximo 2)?",options:[0,1,2],class:"q-mb-md q-ml-md"},null,8,["modelValue"])])]),t.numExtraValues>=1?(ae(),le("div",Ms,[c("div",zs,[u(O,{outlined:"",modelValue:t.extraValue1,"onUpdate:modelValue":a[19]||(a[19]=l=>t.extraValue1=l),label:"Valor extra 1",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):ke("",!0),t.numExtraValues===2?(ae(),le("div",Ls,[c("div",Fs,[u(O,{outlined:"",modelValue:t.extraValue2,"onUpdate:modelValue":a[20]||(a[20]=l=>t.extraValue2=l),label:"Valor extra 2",class:"q-mb-md q-ml-md"},null,8,["modelValue"])])])):ke("",!0),(ae(!0),le(Da,null,qa(t.rooms,(l,m)=>(ae(),le("div",{key:m},[u(Ia,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:F(()=>[u(Ca,{class:"q-pa-md"},{default:F(()=>[c("p",Rs,[c("span",js," Habitaci\xF3n "+Ba(m+1),1)]),c("div",Hs,[c("div",Us,[u(se,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":g=>l.roomType=g,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),c("div",Bs,[u(se,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":g=>l.adults=g,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),c("div",Ys,[c("div",Ws,[u(sa,{modelValue:t.hasChildren[m],"onUpdate:modelValue":[g=>t.hasChildren[m]=g,g=>i.handleChildrenChange(m)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",Qs,[u(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":g=>l.numChildren=g,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[m]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(m)?(ae(),le("div",Xs,[c("div",Gs,[Js,(ae(!0),le(Da,null,qa(l.adultAges,(g,w)=>(ae(),le("div",{key:"adult"+w+"-"+m,class:"col-6 col-sm-4 col-md-3"},[u(O,{filled:"",modelValue:l.adultAges[w],"onUpdate:modelValue":b=>l.adultAges[w]=b,label:"Adulto "+(w+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),u(sa,{modelValue:l.isForeigner[w],"onUpdate:modelValue":b=>l.isForeigner[w]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[m]?(ae(),le("div",Zs,[Ks,c("div",$s,[u(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":g=>l.childAge=g,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):ke("",!0)])):ke("",!0),u(se,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":g=>l.accommodation=g,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),ei],512),[[za,t.activeTab==="tab1"]]),na(c("div",null,[ai,c("div",ti,[c("div",oi,[c("div",li,[u(se,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[21]||(a[21]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",ni,[u(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[22]||(a[22]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",si,[c("div",ii,[c("div",ri,[u(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[23]||(a[23]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",ci,[u(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[24]||(a[24]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",di,[c("div",ui,[c("div",mi,[u(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[25]||(a[25]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",hi,[u(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[27]||(a[27]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[26]||(a[26]=l=>t.dateRange[0]=l)},{default:F(()=>[c("div",fi,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),gi,c("div",pi,[c("div",vi,[c("div",bi,[u(se,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[28]||(a[28]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",yi,[u(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[29]||(a[29]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Vi,[c("div",Ci,[c("div",Ni,[u(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[30]||(a[30]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Ti,[u(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[31]||(a[31]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Ei,[c("div",Si,[c("div",xi,[u(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[32]||(a[32]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",wi,[u(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[34]||(a[34]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[33]||(a[33]=l=>t.dateRange[1]=l)},{default:F(()=>[c("div",Ai,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),c("div",Pi,[c("div",_i,[u(sa,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[35]||(a[35]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),le("div",Ii,[qi,c("div",Di,[c("div",Oi,[u(se,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[36]||(a[36]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",ki,[u(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[37]||(a[37]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Mi,[c("div",zi,[u(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[38]||(a[38]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",Li,[u(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[39]||(a[39]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Fi,[c("div",Ri,[u(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[40]||(a[40]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),ji,c("div",Hi,[c("div",Ui,[u(se,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[41]||(a[41]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",Bi,[u(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[42]||(a[42]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Yi,[c("div",Wi,[u(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[43]||(a[43]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",Qi,[u(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[44]||(a[44]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Xi,[c("div",Gi,[u(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[45]||(a[45]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):ke("",!0),c("div",Ji,[c("div",Zi,[c("div",Ki,[u(sa,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[46]||(a[46]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),le("div",$i,[u(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[47]||(a[47]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),le(Da,null,qa(t.peopleArray,l=>(ae(),le("div",{key:l},[u(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":m=>t.supplementValues[l-1]=m,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):ke("",!0)],512),[[za,t.activeTab==="tab2"]]),c("div",er,[t.activeTab==="tab2"?(ae(),le("div",ar,[u(oe,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):ke("",!0),t.activeTab==="tab2"?(ae(),le("div",tr,[u(oe,{label:"Registrar",onClick:i.saveFormData,color:"primary"},null,8,["onClick"])])):ke("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),le("div",or,[u(oe,{label:"Cerrar",onClick:i.closeModal,color:"red"},null,8,["onClick"])])):ke("",!0),t.activeTab==="tab1"?(ae(),le("div",lr,[u(oe,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):ke("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(at,{modelValue:t.modalVisiblePersonalizado,"onUpdate:modelValue":a[101]||(a[101]=l=>t.modalVisiblePersonalizado=l),"content-css":"max-width: 600px;"},{default:F(()=>[u(Ia,null,{default:F(()=>[u(Ca,{class:"q-pa-md"},{default:F(()=>[na(c("div",null,[u(Ia,{style:{border:"0",borderRadius:"100%",boxShadow:"none"}},{default:F(()=>[u(Ca,{class:"q-pa-md"},{default:F(()=>[c("div",nr,[c("div",sr,[u(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[50]||(a[50]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[49]||(a[49]=l=>t.dateRange[0]=l)},{default:F(()=>[c("div",ir,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),c("div",rr,[u(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[52]||(a[52]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[51]||(a[51]=l=>t.dateRange[1]=l)},{default:F(()=>[c("div",cr,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),c("div",dr,[u(se,{outlined:"",modelValue:t.selectedDeparture,"onUpdate:modelValue":[a[53]||(a[53]=l=>t.selectedDeparture=l),i.handleDepartureChange],label:"Salida",options:t.departureOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"]),u(se,{outlined:"",modelValue:t.destination,"onUpdate:modelValue":[a[54]||(a[54]=l=>t.destination=l),i.updateOptionsByDestination],label:"Destino",options:t.destinationOptions,class:"q-mb-md relative-position"},{append:F(()=>[na(c("div",ur," Ups... no hay informaci\xF3n ",512),[[za,!t.destinationOptions.length]])]),_:1},8,["modelValue","options","onUpdate:modelValue"]),c("div",mr,[c("div",hr,[u(se,{outlined:"",modelValue:t.selectedClient,"onUpdate:modelValue":[a[55]||(a[55]=l=>t.selectedClient=l),i.fetchOptionCorreo],label:"Cliente",options:t.clientOptions,filter:"","use-input":"",class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",fr,[u(se,{outlined:"",modelValue:t.programName,"onUpdate:modelValue":[a[56]||(a[56]=l=>t.programName=l),i.handleSelectionChangeTipo],label:"Nombre del Programa",options:t.programNameOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),c("div",gr,[c("div",pr,[u(se,{outlined:"",modelValue:t.noche,"onUpdate:modelValue":[a[57]||(a[57]=l=>t.noche=l),i.handleSelectionChangeTipo],label:"Duraci\xF3n",options:t.nochesOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])]),c("div",vr,[u(se,{outlined:"",modelValue:t.hotel,"onUpdate:modelValue":[a[58]||(a[58]=l=>t.hotel=l),i.handleSelectionChangeTipo],label:"Hotel",options:t.hotelOptions,class:"q-mb-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),i.shouldHideAdditionalNightSection()?ke("",!0):(ae(),le("div",br,[c("div",yr,[u(sa,{modelValue:t.additionalNightSelected,"onUpdate:modelValue":a[59]||(a[59]=l=>t.additionalNightSelected=l),label:"Noche adicional",class:"q-mb-md q-ml-md"},null,8,["modelValue"])]),c("div",Vr,[u(O,{filled:"",modelValue:t.additionalNightCount,"onUpdate:modelValue":a[60]||(a[60]=l=>t.additionalNightCount=l),label:"Noches adicionales",type:"number",disable:!t.additionalNightSelected,class:"q-mb-md"},null,8,["modelValue","disable"])])])),c("div",Cr,[c("div",Nr,[u(se,{outlined:"",modelValue:t.correo,"onUpdate:modelValue":a[61]||(a[61]=l=>t.correo=l),label:"Correo Cliente",options:t.OptionCorreo,class:"q-mb-md q-ml-md"},null,8,["modelValue","options"])]),c("div",Tr,[u(se,{outlined:"",modelValue:t.numRooms,"onUpdate:modelValue":[a[62]||(a[62]=l=>t.numRooms=l),t.handleNumRoomsChange],label:"N\xFAmero de habitaciones",options:t.roomOptions,class:"q-mb-md q-ml-md"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(ae(!0),le(Da,null,qa(t.rooms,(l,m)=>(ae(),le("div",{key:m},[u(Ia,{style:{border:"0",borderRadius:"10px",boxShadow:"none",marginTop:"20px"}},{default:F(()=>[u(Ca,{class:"q-pa-md"},{default:F(()=>[c("p",Er,[c("span",Sr," Habitaci\xF3n "+Ba(m+1),1)]),c("div",xr,[c("div",wr,[u(se,{outlined:"",modelValue:l.roomType,"onUpdate:modelValue":g=>l.roomType=g,label:"Tipo de Habitaci\xF3n",options:t.roomTypeOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])]),c("div",Ar,[u(se,{outlined:"",modelValue:l.adults,"onUpdate:modelValue":g=>l.adults=g,label:"Adultos",options:t.adultsOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"])])]),c("div",Pr,[c("div",_r,[u(sa,{modelValue:t.hasChildren[m],"onUpdate:modelValue":[g=>t.hasChildren[m]=g,g=>i.handleChildrenChange(m)],label:"\xBFNi\xF1os?"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",Ir,[u(O,{filled:"",modelValue:l.numChildren,"onUpdate:modelValue":g=>l.numChildren=g,label:"Ni\xF1os",readonly:"",disable:!t.hasChildren[m]},null,8,["modelValue","onUpdate:modelValue","disable"])])]),t.mostrarCamposEdad(m)?(ae(),le("div",qr,[c("div",Dr,[Or,(ae(!0),le(Da,null,qa(l.adultAges,(g,w)=>(ae(),le("div",{key:"adult"+w+"-"+m,class:"col-6 col-sm-4 col-md-3"},[u(O,{filled:"",modelValue:l.adultAges[w],"onUpdate:modelValue":b=>l.adultAges[w]=b,label:"Adulto "+(w+1)+" - Edad",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),u(sa,{modelValue:l.isForeigner[w],"onUpdate:modelValue":b=>l.isForeigner[w]=b,label:"Extranjero"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),t.hasChildren[m]?(ae(),le("div",kr,[Mr,c("div",zr,[u(O,{filled:"",modelValue:l.childAge,"onUpdate:modelValue":g=>l.childAge=g,label:"Ni\xF1o",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])])):ke("",!0)])):ke("",!0),u(se,{outlined:"",modelValue:l.accommodation,"onUpdate:modelValue":g=>l.accommodation=g,label:"Acomodaci\xF3n",options:t.accommodationOptions,class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","options"]),u(O,{filled:"",modelValue:l.valor,"onUpdate:modelValue":g=>l.valor=g,label:"Valor Persona",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})]),_:1}),Lr],512),[[za,t.activeTab==="tab1"]]),na(c("div",null,[Fr,c("div",Rr,[c("div",jr,[c("div",Hr,[u(se,{modelValue:t.aerolineaValue1,"onUpdate:modelValue":a[63]||(a[63]=l=>t.aerolineaValue1=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",Ur,[u(O,{modelValue:t.vueloValue1,"onUpdate:modelValue":a[64]||(a[64]=l=>t.vueloValue1=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Br,[c("div",Yr,[c("div",Wr,[u(O,{modelValue:t.horaSalidaValue1,"onUpdate:modelValue":a[65]||(a[65]=l=>t.horaSalidaValue1=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Qr,[u(O,{modelValue:t.horaLlegadaValue1,"onUpdate:modelValue":a[66]||(a[66]=l=>t.horaLlegadaValue1=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Xr,[c("div",Gr,[c("div",Jr,[u(O,{modelValue:t.claseValue1,"onUpdate:modelValue":a[67]||(a[67]=l=>t.claseValue1=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Zr,[u(O,{filled:"",modelValue:t.dateRange[0],"onUpdate:modelValue":a[69]||(a[69]=l=>t.dateRange[0]=l),mask:"date",rules:t.startDateRules,label:"Fecha de inicio"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[0],"onUpdate:modelValue":a[68]||(a[68]=l=>t.dateRange[0]=l)},{default:F(()=>[c("div",Kr,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),$r,c("div",ec,[c("div",ac,[c("div",tc,[u(se,{modelValue:t.aerolineaValue2,"onUpdate:modelValue":a[70]||(a[70]=l=>t.aerolineaValue2=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])])]),c("div",oc,[u(O,{modelValue:t.vueloValue2,"onUpdate:modelValue":a[71]||(a[71]=l=>t.vueloValue2=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",lc,[c("div",nc,[c("div",sc,[u(O,{modelValue:t.horaSalidaValue2,"onUpdate:modelValue":a[72]||(a[72]=l=>t.horaSalidaValue2=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",ic,[u(O,{modelValue:t.horaLlegadaValue2,"onUpdate:modelValue":a[73]||(a[73]=l=>t.horaLlegadaValue2=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",rc,[c("div",cc,[c("div",dc,[u(O,{modelValue:t.claseValue2,"onUpdate:modelValue":a[74]||(a[74]=l=>t.claseValue2=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",uc,[u(O,{filled:"",modelValue:t.dateRange[1],"onUpdate:modelValue":a[76]||(a[76]=l=>t.dateRange[1]=l),mask:"date",rules:t.endDateRules,label:"Fecha de fin"},{append:F(()=>[u(ga,{name:"event",class:"cursor-pointer"},{default:F(()=>[u(wa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[u(xa,{modelValue:t.dateRange[1],"onUpdate:modelValue":a[75]||(a[75]=l=>t.dateRange[1]=l)},{default:F(()=>[c("div",mc,[na(u(oe,{label:"Close",color:"primary",flat:""},null,512),[[Na]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),hc,c("div",fc,[c("div",gc,[c("div",pc,[u(O,{modelValue:t.Combus,"onUpdate:modelValue":a[77]||(a[77]=l=>t.Combus=l),label:"Combus",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",vc,[u(O,{modelValue:t.Tasa,"onUpdate:modelValue":a[78]||(a[78]=l=>t.Tasa=l),label:"Tasa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",bc,[c("div",yc,[c("div",Vc,[u(O,{modelValue:t.Iva,"onUpdate:modelValue":a[79]||(a[79]=l=>t.Iva=l),label:"Iva",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Cc,[u(O,{modelValue:t.Ta,"onUpdate:modelValue":a[80]||(a[80]=l=>t.Ta=l),label:"Ta",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Nc,[c("div",Tc,[c("div",Ec,[u(O,{modelValue:t.IvaTa,"onUpdate:modelValue":a[81]||(a[81]=l=>t.IvaTa=l),label:"IvaTa",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Sc,[u(O,{modelValue:t.Otros,"onUpdate:modelValue":a[82]||(a[82]=l=>t.Otros=l),label:"Otros",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",xc,[c("div",wc,[c("div",Ac,[u(O,{modelValue:t.precioTransp,"onUpdate:modelValue":a[83]||(a[83]=l=>t.precioTransp=l),label:"Precio Transporte",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])]),c("div",Pc,[c("div",_c,[c("div",Ic,[u(O,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[85]||(a[85]=l=>t.textoIncluye=l),label:"Incluye",filled:"",type:"textarea",autogrow:""},{control:F(()=>[u(zt,{modelValue:t.textoIncluye,"onUpdate:modelValue":a[84]||(a[84]=l=>t.textoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),c("div",qc,[u(O,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[87]||(a[87]=l=>t.textoNoIncluye=l),label:"No Incluye",filled:"",type:"textarea",autogrow:""},{control:F(()=>[u(zt,{modelValue:t.textoNoIncluye,"onUpdate:modelValue":a[86]||(a[86]=l=>t.textoNoIncluye=l),"toolbar-color":"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),c("div",Dc,[c("div",Oc,[u(sa,{modelValue:t.mostrarEscalas,"onUpdate:modelValue":a[88]||(a[88]=l=>t.mostrarEscalas=l),label:"Escala (Ida y Vuelta)"},null,8,["modelValue"])])]),t.mostrarEscalas?(ae(),le("div",kc,[Mc,c("div",zc,[c("div",Lc,[u(se,{modelValue:t.aerolineaEscalaIda,"onUpdate:modelValue":a[89]||(a[89]=l=>t.aerolineaEscalaIda=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",Fc,[u(O,{modelValue:t.vueloEscalaIda,"onUpdate:modelValue":a[90]||(a[90]=l=>t.vueloEscalaIda=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Rc,[c("div",jc,[u(O,{modelValue:t.horaSalidaEscalaIda,"onUpdate:modelValue":a[91]||(a[91]=l=>t.horaSalidaEscalaIda=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",Hc,[u(O,{modelValue:t.horaLlegadaEscalaIda,"onUpdate:modelValue":a[92]||(a[92]=l=>t.horaLlegadaEscalaIda=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Uc,[c("div",Bc,[u(O,{modelValue:t.claseEscalaIda,"onUpdate:modelValue":a[93]||(a[93]=l=>t.claseEscalaIda=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),Yc,c("div",Wc,[c("div",Qc,[u(se,{modelValue:t.aerolineaEscalaVuelta,"onUpdate:modelValue":a[94]||(a[94]=l=>t.aerolineaEscalaVuelta=l),label:"Aerolinea",outlined:"",options:t.aerolineaOptions,class:"q-mb-md"},null,8,["modelValue","options"])]),c("div",Xc,[u(O,{modelValue:t.vueloEscalaVuelta,"onUpdate:modelValue":a[95]||(a[95]=l=>t.vueloEscalaVuelta=l),label:"Vuelo",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Gc,[c("div",Jc,[u(O,{modelValue:t.horaSalidaEscalaVuelta,"onUpdate:modelValue":a[96]||(a[96]=l=>t.horaSalidaEscalaVuelta=l),label:"Hora de salida",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])]),c("div",Zc,[u(O,{modelValue:t.horaLlegadaEscalaVuelta,"onUpdate:modelValue":a[97]||(a[97]=l=>t.horaLlegadaEscalaVuelta=l),label:"Hora de llegada",outlined:"",type:"time",step:"1800",class:"q-mb-md"},null,8,["modelValue"])])]),c("div",Kc,[c("div",$c,[u(O,{modelValue:t.claseEscalaVuelta,"onUpdate:modelValue":a[98]||(a[98]=l=>t.claseEscalaVuelta=l),label:"Clase",outlined:"",type:"text",class:"q-mb-md"},null,8,["modelValue"])])])])):ke("",!0),c("div",ed,[c("div",ad,[c("div",td,[u(sa,{modelValue:t.supplementChecked,"onUpdate:modelValue":a[99]||(a[99]=l=>t.supplementChecked=l),label:"Suplemento?"},null,8,["modelValue"])])])]),t.supplementChecked?(ae(),le("div",od,[u(O,{modelValue:t.numberOfPeople,"onUpdate:modelValue":a[100]||(a[100]=l=>t.numberOfPeople=l),label:"N\xFAmero de personas",outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),(ae(!0),le(Da,null,qa(t.peopleArray,l=>(ae(),le("div",{key:l},[u(O,{modelValue:t.supplementValues[l-1],"onUpdate:modelValue":m=>t.supplementValues[l-1]=m,label:`Suplemento persona ${l}`,outlined:"",type:"number",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):ke("",!0)],512),[[za,t.activeTab==="tab2"]]),c("div",ld,[t.activeTab==="tab2"?(ae(),le("div",nd,[u(oe,{label:"Atr\xE1s",onClick:t.goBack,color:"primary"},null,8,["onClick"])])):ke("",!0),t.activeTab==="tab1"?(ae(),le("div",sd,[u(oe,{label:"Siguiente",onClick:t.goNext,color:"primary"},null,8,["onClick"])])):ke("",!0),t.activeTab==="tab2"?(ae(),le("div",id,[u(oe,{label:"Registrar",onClick:i.saveFormDataPersonalizado,color:"primary"},null,8,["onClick"])])):ke("",!0),t.activeTab==="tab1"||t.activeTab==="tab2"?(ae(),le("div",rd,[u(oe,{label:"Cerrar",onClick:i.closeModalPersonalizado,color:"red"},null,8,["onClick"])])):ke("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(at,{modelValue:t.mostrarModalPasajeros,"onUpdate:modelValue":a[106]||(a[106]=l=>t.mostrarModalPasajeros=l),persistent:""},{default:F(()=>[u(Ia,{style:{"min-width":"500px"}},{default:F(()=>[u(Ca,null,{default:F(()=>[cd]),_:1}),u(Ca,{class:"q-pt-none"},{default:F(()=>[u(hl,{onSubmit:i.procesarLiquidacion,class:"q-gutter-md"},{default:F(()=>[(ae(!0),le(Da,null,qa(t.pasajeros,(l,m)=>(ae(),le("div",{key:m,class:"q-pa-md q-mb-md bg-grey-2 rounded-borders"},[c("div",dd,"Pasajero "+Ba(m+1),1),u(O,{modelValue:l.nombre,"onUpdate:modelValue":g=>l.nombre=g,label:"Nombre",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),c("div",ud,[c("div",md,[u(se,{modelValue:l.tipoDocumento,"onUpdate:modelValue":g=>l.tipoDocumento=g,options:t.opcionesTipoDocumento,label:"Tipo de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue","options"])]),c("div",hd,[u(O,{modelValue:l.numeroDocumento,"onUpdate:modelValue":g=>l.numeroDocumento=g,label:"N\xFAmero de Documento",filled:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]),u(O,{modelValue:l.fechaNacimiento,"onUpdate:modelValue":g=>l.fechaNacimiento=g,label:"Fecha de Nacimiento",filled:"",dense:"",type:"date",rules:[g=>g?new Date(g)>new Date?"La fecha no puede ser en el futuro":!0:"La fecha es requerida"],class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue","rules"])]))),128)),u(sa,{modelValue:t.tieneTelefono,"onUpdate:modelValue":a[102]||(a[102]=l=>t.tieneTelefono=l),label:"\xBFTiene tel\xE9fono?"},null,8,["modelValue"]),t.tieneTelefono?(ae(),ut(O,{key:0,modelValue:t.telefono,"onUpdate:modelValue":a[103]||(a[103]=l=>t.telefono=l),label:"Tel\xE9fono",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):ke("",!0),u(sa,{modelValue:t.tieneNumero,"onUpdate:modelValue":a[104]||(a[104]=l=>t.tieneNumero=l),label:"\xBFTiene correo?"},null,8,["modelValue"]),t.tieneNumero?(ae(),ut(O,{key:1,modelValue:t.correoPasajero,"onUpdate:modelValue":a[105]||(a[105]=l=>t.correoPasajero=l),label:"Correo",filled:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])):ke("",!0),u(fl,{align:"right",class:"bg-white text-teal"},{default:F(()=>[u(oe,{flat:"",label:"Cancelar",onClick:i.cerrarModalPasajeros},null,8,["onClick"]),u(oe,{type:"submit",label:"Guardar",color:"primary"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c("div",null,[fd,c("div",gd,[c("div",pd,[u(se,{modelValue:t.selectedFilter,"onUpdate:modelValue":a[107]||(a[107]=l=>t.selectedFilter=l),options:["Todos","Cot","Cot-C"],label:"Filtrar por Tipo",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),c("div",vd,[u(se,{modelValue:t.filterStatus,"onUpdate:modelValue":a[108]||(a[108]=l=>t.filterStatus=l),options:t.statusOptions,label:"Filtrar por Status",filled:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),bd,u(vl,{rows:i.filteredCotizacionData(),columns:t.columns,sortBy:t.sortBy,"onUpdate:sortBy":a[109]||(a[109]=l=>t.sortBy=l),sortOrder:t.sortOrder,"onUpdate:sortOrder":a[110]||(a[110]=l=>t.sortOrder=l)},{"body-cell-status":F(l=>[u(wt,{props:l},{default:F(()=>[u(gl,{color:i.getStatusColor(l.row.status),"text-color":"white",square:""},{default:F(()=>[pl(Ba(l.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-cotizacion":F(l=>[u(wt,{props:l},{default:F(()=>[u(oe,{onClick:m=>i.descargarCotizacionN(l.row),color:"primary",label:"Descargar Cotizaci\xF3n"},null,8,["onClick"]),yd,Vd,u(oe,{onClick:m=>i.enviarCotizacion(l.row),color:"secondary",label:"Enviar Cotizaci\xF3n"},null,8,["onClick"]),Cd,Nd,u(oe,{onClick:m=>i.abrirModalPasajeros(l.row),color:"green",label:"Pasar a Liquidaci\xF3n"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","sortBy","sortOrder"]),c("input",Td,null,512)])]),_:1})}var kd=dl(es,[["render",Ed]]);export{kd as default};
